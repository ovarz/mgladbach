if(void 0===window.console&&(window.console&&console.firebug||function(e,t){window.console={};for(var o=function(){};t--;)window.console[e[t]]=o}("log debug info warn error assert dir dirxml trace group groupEnd time timeEnd profile profileEnd count".split(" "),16),window.console.error=function(e){throw e}),window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},void 0===window.Prototype)throw"Error:prototype.js is required by protoplus.js. Go to prototypejs.org and download lates version.";Protoplus={Version:"0.9.9",exec:function(code){return eval(code)},REFIDCOUNT:100,references:{},getIEVersion:function(){var e=-1;if("Microsoft Internet Explorer"==navigator.appName){var t=navigator.userAgent;null!==new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1))}return e},Transitions:{linear:function(e){return e},sineIn:function(e){return 1-Math.cos(e*Math.PI/2)},sineOut:function(e){return Math.sin(e*Math.PI/2)},sineInOut:function(e){return.5-Math.cos(e*Math.PI)/2},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},backInOut:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},cubicIn:function(e){return Math.pow(e,3)},cubicOut:function(e){return 1+Math.pow(e-1,3)},cubicInOut:function(e){return e<.5?4*Math.pow(e,3):1+4*Math.pow(e-1,3)},quadIn:function(e){return Math.pow(e,2)},quadOut:function(e){return 1-Math.pow(e-1,2)},quadInOut:function(e){return e<.5?2*Math.pow(e,2):1-2*Math.pow(e-1,2)},quartIn:function(e){return Math.pow(e,4)},quartOut:function(e){return 1-Math.pow(e-1,4)},quartInOut:function(e){return e<.5?8*Math.pow(e,4):1-8*Math.pow(e-1,4)},quintIn:function(e){return Math.pow(e,5)},quintOut:function(e){return 1+Math.pow(e-1,5)},quintInOut:function(e){return e<.5?16*Math.pow(e,5):1+16*Math.pow(e-1,5)},circIn:function(e){return 1-Math.sqrt(1-Math.pow(e,2))},circOut:function(e){return Math.sqrt(1-Math.pow(e-1,2))},circInOut:function(e){return e<.5?.5-.5*Math.sqrt(1-Math.pow(2*e,2)):.5+.5*Math.sqrt(1-Math.pow(2*e-2,2))},expoIn:function(e){return Math.pow(2,10*(e-1))},expoOut:function(e){return 1-Math.pow(2,-10*e)},expoInOut:function(e){return(e=2*e-1)<0?Math.pow(2,10*e)/2:1-Math.pow(2,-10*e)/2},swingFrom:function(e){var t=1.70158;return e*e*((t+1)*e-t)},swingTo:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},swingFromTo:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeFrom:function(e){return Math.pow(e,4)},easeTo:function(e){return Math.pow(e,.25)},easeFromTo:function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},pulse:function(e,t){return t||(t=1),.5-Math.cos(e*t*2*Math.PI)/2},wobble:function(e,t){return t||(t=3),.5-Math.cos((2*t-1)*e*e*Math.PI)/2},elastic:function(e,t){var o;return o=t?5*(11-(t=Math.round(Math.max(1,Math.min(10,t))))):30,1-Math.cos(8*e*Math.PI)/(o*e+1)*(1-e)},bounce:function(e,t){t=t?Math.round(t):4;for(var o=3-Math.pow(2,2-t),r=-1,n=0,i=0;r/o<e;)r+=n=Math.pow(2,1-i++);return r-n>0&&(e-=(r-n+n/2)/o),o*o*Math.pow(e,2)+(1-Math.pow(.25,i-1))},bouncePast:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?2-(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?2-(7.5625*(e-=2.25/2.75)*e+.9375):2-(7.5625*(e-=2.625/2.75)*e+.984375)}},Colors:{colorNames:{Black:"#000000",MidnightBlue:"#191970",Navy:"#000080",DarkBlue:"#00008B",MediumBlue:"#0000CD",Blue:"#0000FF",DodgerBlue:"#1E90FF",RoyalBlue:"#4169E1",SlateBlue:"#6A5ACD",SteelBlue:"#4682B4",CornflowerBlue:"#6495ED",Teal:"#008080",DarkCyan:"#008B8B",MediumSlateBlue:"#7B68EE",CadetBlue:"#5F9EA0",DeepSkyBlue:"#00BFFF",DarkTurquoise:"#00CED1",MediumAquaMarine:"#66CDAA",MediumTurquoise:"#48D1CC",Turquoise:"#40E0D0",LightSkyBlue:"#87CEFA",SkyBlue:"#87CEEB",Aqua:"#00FFFF",Cyan:"#00FFFF",Aquamarine:"#7FFFD4",PaleTurquoise:"#AFEEEE",PowderBlue:"#B0E0E6",LightBlue:"#ADD8E6",LightSteelBlue:"#B0C4DE",Salmon:"#FA8072",LightSalmon:"#FFA07A",Coral:"#FF7F50",Brown:"#A52A2A",Sienna:"#A0522D",Tomato:"#FF6347",Maroon:"#800000",DarkRed:"#8B0000",Red:"#FF0000",OrangeRed:"#FF4500",Darkorange:"#FF8C00",DarkGoldenRod:"#B8860B",GoldenRod:"#DAA520",Orange:"#FFA500",Gold:"#FFD700",Yellow:"#FFFF00",LemonChiffon:"#FFFACD",LightGoldenRodYellow:"#FAFAD2",LightYellow:"#FFFFE0",DarkOliveGreen:"#556B2F",DarkSeaGreen:"#8FBC8F",DarkGreen:"#006400",MediumSeaGreen:"#3CB371",DarkKhaki:"#BDB76B",Green:"#008000",Olive:"#808000",OliveDrab:"#6B8E23",ForestGreen:"#228B22",LawnGreen:"#7CFC00",Lime:"#00FF00",YellowGreen:"#9ACD32",LimeGreen:"#32CD32",Chartreuse:"#7FFF00",GreenYellow:"#ADFF2F",LightSeaGreen:"#20B2AA",SeaGreen:"#2E8B57",SandyBrown:"#F4A460",DarkSlateGray:"#2F4F4F",DimGray:"#696969",Gray:"#808080",SlateGray:"#708090",LightSlateGray:"#778899",DarkGray:"#A9A9A9",Silver:"#C0C0C0",Indigo:"#4B0082",Purple:"#800080",DarkMagenta:"#8B008B",BlueViolet:"#8A2BE2",DarkOrchid:"#9932CC",DarkViolet:"#9400D3",DarkSlateBlue:"#483D8B",MediumPurple:"#9370D8",MediumOrchid:"#BA55D3",Fuchsia:"#FF00FF",Magenta:"#FF00FF",Orchid:"#DA70D6",Violet:"#EE82EE",DeepPink:"#FF1493",Pink:"#FFC0CB",MistyRose:"#FFE4E1",LightPink:"#FFB6C1",Plum:"#DDA0DD",HotPink:"#FF69B4",SpringGreen:"#00FF7F",MediumSpringGreen:"#00FA9A",LightGreen:"#90EE90",PaleGreen:"#98FB98",RosyBrown:"#BC8F8F",MediumVioletRed:"#C71585",IndianRed:"#CD5C5C",SaddleBrown:"#8B4513",Peru:"#CD853F",Chocolate:"#D2691E",Tan:"#D2B48C",LightGrey:"#D3D3D3",PaleVioletRed:"#D87093",Thistle:"#D8BFD8",Crimson:"#DC143C",FireBrick:"#B22222",Gainsboro:"#DCDCDC",BurlyWood:"#DEB887",LightCoral:"#F08080",DarkSalmon:"#E9967A",Lavender:"#E6E6FA",LavenderBlush:"#FFF0F5",SeaShell:"#FFF5EE",Linen:"#FAF0E6",Khaki:"#F0E68C",PaleGoldenRod:"#EEE8AA",Wheat:"#F5DEB3",NavajoWhite:"#FFDEAD",Moccasin:"#FFE4B5",PeachPuff:"#FFDAB9",Bisque:"#FFE4C4",BlanchedAlmond:"#FFEBCD",AntiqueWhite:"#FAEBD7",PapayaWhip:"#FFEFD5",Beige:"#F5F5DC",OldLace:"#FDF5E6",Cornsilk:"#FFF8DC",Ivory:"#FFFFF0",FloralWhite:"#FFFAF0",HoneyDew:"#F0FFF0",WhiteSmoke:"#F5F5F5",AliceBlue:"#F0F8FF",LightCyan:"#E0FFFF",GhostWhite:"#F8F8FF",MintCream:"#F5FFFA",Azure:"#F0FFFF",Snow:"#FFFAFA",White:"#FFFFFF"},getPalette:function(){for(var e={},t=["00","44","77","99","BB","EE","FF"],o=0,r=0;r<t.length;r++)for(var n=0;n<t.length;n++)for(var i=0;i<t.length;i++)e[o+++"_"]="#"+t[r]+t[n]+t[i];return e},getRGBarray:function(e){"string"==typeof e&&(e=e.indexOf("rgb")>-1?e.replace(/rgb\(|\).*?$/g,"").split(/,\s*/,3):3==(e=e.replace("#","")).length?e.replace(/(.)/g,(function(e){return parseInt(e+e,16)+", "})).replace(/,\s*$/,"").split(/,\s+/):e.replace(/(..)/g,(function(e){return parseInt(e,16)+", "})).replace(/,\s*$/,"").split(/,\s+/));for(var t=0;t<e.length;t++)e[t]=Number(e[t]);return e},rgbToHex:function(){for(var e=[],t=0;t<arguments.length;t++)e.push((arguments[t]<16?"0":"")+Math.round(arguments[t]).toString(16));return"#"+e.join("").toUpperCase()},hexToRgb:function(e){e=e.replace("#","");var t=[];return 3==e.length?e.replace(/(.)/g,(function(e){t.push(parseInt(e+e,16))})):e.replace(/(..)/g,(function(e){t.push(parseInt(e,16))})),t},invert:function(e){var t=Protoplus.Colors.hexToRgb(e);return Protoplus.Colors.rgbToHex(255-t[0],255-t[1],255-t[2])}},Profiler:{stimes:{},start:function(e){Protoplus.Profiler.stimes[e]=(new Date).getTime()},end:function(e,t){var o=(((new Date).getTime()-Protoplus.Profiler.stimes[e])/1e3).toFixed(3);if(t)return o;msg=e+" took "+o,"console"in window&&console.log(msg)}}},Object.extend(Hash.prototype,{debug:function(e){for(var t in e=e||{},node=this._object,text=e.text?e.text+"\n":"",node){if("function"!=typeof node[t]||e.showFunctions)if(!e.skipBlanks||""!==node[t]&&void 0!==node[t])if(confirm(text+t+" => "+node[t]))return node[t]}}}),Object.extend(Object,{deepClone:function(e){if("object"!=typeof e||null===e)return e;var t=Object.isArray(e)?[]:{};for(var o in e){var r=e[o];if("object"==typeof r)if(Object.isArray(r)){t[o]=[];for(var n=0;n<r.length;n++)"object"!=typeof r[n]?t[o].push(r[n]):t[o].push(this.deepClone(r[n]))}else t[o]=this.deepClone(r);else t[o]=r}return t},isBoolean:function(e){return!0===e||!1===e},isRegExp:function(e){return!(!(e&&e.test&&e.exec)||!e.ignoreCase&&!1!==e.ignoreCase)}}),Object.extend(String.prototype,{cleanJSON:function(){return this.replace(/(\"?)(\:|\,)\s+(\"?)/g,"$1$2$3")},shorten:function(e,t){e=e||"30",t=t||"...";var o=this.substr(0,e);return o+=this.length>e?t:""},squeeze:function(e){var t="...";if((e=e||"30")-3>=this.length)return this;var o=Math.floor((e-3)/2);return this.substr(0,o+1)+t+this.substr(-o,o)},printf:function(){var e=arguments,t=this.toString(),o=0;return t.replace(/(\%(\w))/gim,(function(t,r,n,i){var a=void 0!==e[o]?e[o]:"";switch(o++,n){case"f":return parseFloat(a).toFixed(2);case"d":return parseInt(a,10);case"x":return a.toString(16);case"X":return a.toString(16).toUpperCase();case"s":return a;default:return r}}))},sanitize:function(){return(this+"").replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0")},nl2br:function(e){return(this+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+(e||void 0===e?"<br />":"<br>"))},stripslashes:function(){return(this+"").replace(/\\(.?)/g,(function(e,t){switch(t){case"\\":return"\\";case"0":return"\0";case"":return"";default:return t}}))},turkishToUpper:function(){var e=this,t={i:"İ","ş":"Ş","ğ":"Ğ","ü":"Ü","ö":"Ö","ç":"Ç","ı":"I"};return(e=e.replace(/([iışğüçö])+/g,(function(e){return t[e]}))).toUpperCase()},turkishToLower:function(){var e=this,t={"İ":"i",I:"ı","Ş":"ş","Ğ":"ğ","Ü":"ü","Ö":"ö","Ç":"ç"};return(e=e.replace(/([İIŞĞÜÇÖ])+/g,(function(e){return t[e]}))).toLowerCase()},toCamelCase:function(){if(newStr=this.replace(/\s+/g,"_"),strArr=newStr.split("_"),0===strArr.length)return newStr;newStr="";for(var e=0;e<strArr.length;e++)newStr+=strArr[e][0].toUpperCase(),newStr+=strArr[e].substr(1);return newStr},fixUTF:function(){var e={a:"00E1:0103:01CE:00E2:00E4:0227:1EA1:0201:00E0:1EA3:0203:0101:0105:1D8F:1E9A:00E5:1E01:2C65:00E3:0251:1D90",b:"1E03:1E05:0253:1E07:1D6C:1D80:0180:0183",c:"0107:010D:00E7:0109:0255:010B:0188:023C",d:"010F:1E11:1E13:0221:1E0B:1E0D:0257:1E0F:1D6D:1D81:0111:0256:018C",e:"00E9:0115:011B:0229:00EA:1E19:00EB:0117:1EB9:0205:00E8:1EBB:0207:0113:2C78:0119:1D92:0247:1EBD:1E1B",f:"1E1F:0192:1D6E:1D82",g:"01F5:011F:01E7:0123:011D:0121:0260:1E21:1D83:01E5",h:"1E2B:021F:1E29:0125:2C68:1E27:1E23:1E25:0266:1E96:0127",i:"0131:00ED:012D:01D0:00EE:00EF:1ECB:0209:00EC:1EC9:020B:012B:012F:1D96:0268:0129:1E2D",j:"01F0:0135:029D:0249",k:"1E31:01E9:0137:2C6A:A743:1E33:0199:1E35:1D84:A741",l:"013A:019A:026C:013E:013C:1E3D:0234:1E37:2C61:A749:1E3B:0140:026B:1D85:026D:0142:0269:1D7C",m:"1E3F:1E41:1E43:0271:1D6F:1D86",n:"0144:0148:0146:1E4B:0235:1E45:1E47:01F9:0272:1E49:019E:1D70:1D87:0273:00F1",o:"00F3:014F:01D2:00F4:00F6:022F:1ECD:0151:020D:00F2:1ECF:01A1:020F:A74B:A74D:2C7A:014D:01EB:00F8:00F5",p:"1E55:1E57:A753:01A5:1D71:1D88:A755:1D7D:A751",q:"A759:02A0:024B:A757",r:"0155:0159:0157:1E59:1E5B:0211:027E:0213:1E5F:027C:1D72:1D89:024D:027D",s:"015B:0161:015F:015D:0219:1E61:1E63:0282:1D74:1D8A:023F",t:"0165:0163:1E71:021B:0236:1E97:2C66:1E6B:1E6D:01AD:1E6F:1D75:01AB:0288:0167",u:"00FA:016D:01D4:00FB:1E77:00FC:1E73:1EE5:0171:0215:00F9:1EE7:01B0:0217:016B:0173:1D99:016F:0169:1E75:1D1C:1D7E",v:"2C74:A75F:1E7F:028B:1D8C:2C71:1E7D",w:"1E83:0175:1E85:1E87:1E89:1E81:2C73:1E98",x:"1E8D:1E8B:1D8D",y:"00FD:0177:00FF:1E8F:1EF5:1EF3:01B4:1EF7:1EFF:0233:1E99:024F:1EF9",z:"017A:017E:1E91:0291:2C6C:017C:1E93:0225:1E95:1D76:1D8E:0290:01B6:0240",ae:"00E6:01FD:01E3",dz:"01F3:01C6",3:"0292:01EF:0293:1D9A:01BA:01B7:01EE"},t={A:"00C1:0102:01CD:00C2:00C4:0226:1EA0:0200:00C0:1EA2:0202:0100:0104:00C5:1E00:023A:00C3",B:"1E02:1E04:0181:1E06:0243:0182",C:"0106:010C:00C7:0108:010A:0187:023B",D:"010E:1E10:1E12:1E0A:1E0C:018A:1E0E:0110:018B",E:"00C9:0114:011A:0228:00CA:1E18:00CB:0116:1EB8:0204:00C8:1EBA:0206:0112:0118:0246:1EBC:1E1A",F:"1E1E:0191",G:"01F4:011E:01E6:0122:011C:0120:0193:1E20:01E4:0262:029B",H:"1E2A:021E:1E28:0124:2C67:1E26:1E22:1E24:0126",I:"00CD:012C:01CF:00CE:00CF:0130:1ECA:0208:00CC:1EC8:020A:012A:012E:0197:0128:1E2C:026A:1D7B",J:"0134:0248",K:"1E30:01E8:0136:2C69:A742:1E32:0198:1E34:A740",L:"0139:023D:013D:013B:1E3C:1E36:2C60:A748:1E3A:013F:2C62:0141:029F:1D0C",M:"1E3E:1E40:1E42:2C6E",N:"0143:0147:0145:1E4A:1E44:1E46:01F8:019D:1E48:0220:00D1",O:"00D3:014E:01D1:00D4:00D6:022E:1ECC:0150:020C:00D2:1ECE:01A0:020E:A74A:A74C:014C:019F:01EA:00D8:00D5",P:"1E54:1E56:A752:01A4:A754:2C63:A750",Q:"A758:A756",R:"0154:0158:0156:1E58:1E5A:0210:0212:1E5E:024C:2C64",S:"015A:0160:015E:015C:0218:1E60:1E62",T:"0164:0162:1E70:021A:023E:1E6A:1E6C:01AC:1E6E:01AE:0166",U:"00DA:016C:01D3:00DB:1E76:00DC:1E72:1EE4:0170:0214:00D9:1EE6:01AF:0216:016A:0172:016E:0168:1E74",V:"A75E:1E7E:01B2:1E7C",W:"1E82:0174:1E84:1E86:1E88:1E80:2C72",X:"1E8C:1E8A",Y:"00DD:0176:0178:1E8E:1EF4:1EF2:01B3:1EF6:1EFE:0232:024E:1EF8",Z:"0179:017D:1E90:2C6B:017B:1E92:0224:1E94:01B5",AE:"00C6:01FC:01E2",DZ:"01F1:01C4"},o=this.toString();for(var r in e){var n="\\u"+e[r].split(":").join("|\\u");o=o.replace(new RegExp(n,"gm"),r)}for(var i in t){var a="\\u"+t[i].split(":").join("|\\u");o=o.replace(new RegExp(a,"gm"),i)}return o},ucFirst:function(){return this.charAt(0).toUpperCase()+this.substr(1,this.length+1)}});var __result=document.URL.toQueryParams();Object.extend(document,{createCSS:function(e,t){var o="style-"+e.replace(/\W/gim,"");$(o)&&$(o).remove();var r=navigator.userAgent.toLowerCase(),n=/msie/.test(r)&&!/opera/.test(r)&&/win/.test(r),i=document.createElement("style");if(i.id=o,i.setAttribute("type","text/css"),i.setAttribute("media","screen"),n||i.appendChild(document.createTextNode(e+" {"+t+"}")),document.getElementsByTagName("head")[0].appendChild(i),n&&document.styleSheets&&document.styleSheets.length>0){var a=document.styleSheets[document.styleSheets.length-1];"object"==typeof a.addRule&&a.addRule(e,t)}},selectRadioOption:function(e,t){e.each((function(e){e.value===t&&(e.checked=!0)}))},preloadImages:function(e){var t=arguments;Object.isArray(e)&&(t=e);var o=0;for(o=0,e=[];src=t[o];o++)e.push(new Image),e.last().src=src},readRadioOption:function(e){for(var t=0;t<e.length;t++){var o=e[t];if(!0===o.checked)return o.value}return!1},getEvent:function(e){return e||(e=window.event),e.keyCode||0===e.keyCode||(e.keyCode=e.which),e},parameters:__result,get:__result,ready:function(e){document.observe("dom:loaded",e)},getUnderneathElement:function(e){var t=Prototype.Browser.WebKit?Event.pointerX(e):e.clientX,o=Prototype.Browser.WebKit?Event.pointerY(e):e.clientY;return document.elementFromPoint(t,o)},createCookie:function(e,t,o,r){r="/"===(r=r||"/")?"/; SameSite=None; Secure":r;var n="";if(o){var i=new Date;i.setTime(i.getTime()+24*o*60*60*1e3),n=";expires="+i.toGMTString()}document.cookie=e+"="+escape(t)+n+";path="+r},readCookie:function(e){for(var t=e+"=",o=document.cookie.split(";"),r=0;r<o.length;r++){for(var n=o[r];" "==n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(t))return decodeURIComponent(n.substring(t.length,n.length))}return null},eraseCookie:function(e){document.createCookie(e,"",-1)},storeJsonCookie:function(e,t,o){var r=Object.toJSON(t).cleanJSON();document.createCookie(e,r,o)},readJsonCookie:function(e){return document.readCookie(e)?document.readCookie(e).toString().evalJSON():{}},getClientDimensions:function(){var e=document.body.parentNode;return{height:e.scrollHeight,width:e.scrollWidth}},keyboardMap:function(e){document.keyMap=e;var t={all_shortcuts:{},add:function(e,t,o){var r={type:"keydown",propagate:!1,disable_in_input:!1,target:document,keycode:!1};if(o)for(var n in r)void 0===o[n]&&(o[n]=r[n]);else o=r;var i=o.target;"string"==typeof o.target&&(i=document.getElementById(o.target));e=e.toLowerCase();var a=function(r){var n;if((r=r||window.event,o.disable_in_input)&&(r.target?n=r.target:r.srcElement&&(n=r.srcElement),3==n.nodeType&&(n=n.parentNode),"INPUT"==n.tagName||"TEXTAREA"==n.tagName||n.readAttribute("contenteditable")||document._onedit))return;r.keyCode?code=r.keyCode:r.which&&(code=r.which);var i=String.fromCharCode(code).toLowerCase();188==code&&(i=","),190==code&&(i=".");var a=e.split("+"),l=0,s={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"},c={esc:27,escape:27,tab:9,space:32,return:13,enter:13,backspace:8,scrolllock:145,scroll_lock:145,scroll:145,capslock:20,caps_lock:20,caps:20,numlock:144,num_lock:144,num:144,pause:19,break:19,insert:45,home:36,delete:46,end:35,pageup:33,page_up:33,pu:33,pagedown:34,page_down:34,pd:34,left:37,up:38,right:39,down:40,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},u={shift:{wanted:!1,pressed:!1},ctrl:{wanted:!1,pressed:!1},alt:{wanted:!1,pressed:!1},meta:{wanted:!1,pressed:!1}};r.ctrlKey&&(u.ctrl.pressed=!0),r.shiftKey&&(u.shift.pressed=!0),r.altKey&&(u.alt.pressed=!0),r.metaKey&&(u.meta.pressed=!0);for(var d=0;d<a.length;d++)k=a[d],"ctrl"==k||"control"==k?(l++,u.ctrl.wanted=!0):"shift"==k?(l++,u.shift.wanted=!0):"alt"==k?(l++,u.alt.wanted=!0):"meta"==k?(l++,u.meta.wanted=!0):k.length>1?c[k]==code&&l++:o.keycode?o.keycode==code&&l++:(i==k||s[i]&&r.shiftKey&&(i=s[i])==k)&&l++;if(l==a.length&&u.ctrl.pressed==u.ctrl.wanted&&u.shift.pressed==u.shift.wanted&&u.alt.pressed==u.alt.wanted&&u.meta.pressed==u.meta.wanted&&(t(r),!o.propagate))return r.cancelBubble=!0,r.returnValue=!1,r.stopPropagation&&(r.stopPropagation(),r.preventDefault()),!1};this.all_shortcuts[e]={callback:a,target:i,event:o.type},i.addEventListener?i.addEventListener(o.type,a,!1):i.attachEvent?i.attachEvent("on"+o.type,a):i["on"+o.type]=a},remove:function(e){e=e.toLowerCase();var t=this.all_shortcuts[e];if(delete this.all_shortcuts[e],t){var o=t.event,r=t.target,n=t.callback;r.detachEvent?r.detachEvent("on"+o,n):r.removeEventListener?r.removeEventListener(o,n,!1):r["on"+o]=!1}}};$H(e).each((function(e){var o=e.key,r=e.value;t.add(o,r.handler,{disable_in_input:r.disableOnInputs})}))},checkDocType:function(){if(null===document.doctype)return!1;var e=document.doctype.publicId.toLowerCase();return e.indexOf("html 4")>0||e.indexOf("xhtml")>0}}),Object.extend(Event,{mousewheel:Prototype.Browser.Gecko?"DOMMouseScroll":"mousewheel",wheel:function(e){var t=0;return e||(e=window.event),e.wheelDelta?(t=e.wheelDelta/120,window.opera&&(t=-t)):e.detail&&(t=-e.detail/3),Math.round(t)},isInput:function(e){var t;return e.target?t=e.target:e.srcElement&&(t=e.srcElement),3==t.nodeType&&(t=t.parentNode),"INPUT"==t.tagName||"TEXTAREA"==t.tagName},isRightClick:function(e){var t;if(Prototype.Browser.IE){var o={0:1,1:4,2:2};t=function(e,t){return e.button===o[t]}}else t=Prototype.Browser.WebKit?function(e,t){switch(t){case 0:return 1==e.which&&!e.metaKey;case 1:return 1==e.which&&e.metaKey;case 2:return 3==e.which&&!e.metaKey;default:return!1}}:function(e,t){return e.which?e.which===t+1:e.button===t};return t(e,2)}}),Protoplus.utils={cloneElem:function(e){if(Prototype.Browser.IE){var t=document.createElement("div");return t.innerHTML=e.outerHTML,$(t.firstChild)}return e.cloneNode(!0)},openInNewTab:function(e,t){return e.observe("mouseover",(function(o){if(!e.tabLink){var r=new Element("a",{href:t,target:"_blank"}).insert("&nbsp;&nbsp;");r.setStyle("opacity:0; z-index:100000; height:5px; width:5px; position:absolute; top:"+(Event.pointerY(o)-2.5)+"px;left:"+(Event.pointerX(o)-2.5)+"px"),r.observe("click",(function(){e.tabLinked=!1,r.remove()})),$(document.body).insert(r),e.tabLink=r,e.observe("mousemove",(function(t){e.tabLink.setStyle("top:"+(Event.pointerY(t)-2.5)+"px;left:"+(Event.pointerX(t)-2.5)+"px")}))}})),e},hasFixedContainer:function(e){var t=!1;return e.ancestors().each((function(e){t||"fixed"==e.style.position&&(t=!0)})),t},getCurrentStyle:function(e,t){return e.style[t]?e.style[t]:e.currentStyle?e.currentStyle[t]:document.defaultView&&document.defaultView.getComputedStyle?(t=(t=t.replace(/([A-Z])/g,"-$1")).toLowerCase(),s=document.defaultView.getComputedStyle(e,""),s&&s.getPropertyValue(t)):null},isOverflow:function(e){e.resized&&e.hideHandlers();var t=e.style.overflow;t&&"visible"!==t||(e.style.overflow="hidden");var o=e.clientWidth<e.scrollWidth,r=e.clientHeight<e.scrollHeight,n=o||r;return e.style.overflow=t,e.resized&&e.showHandlers(),!!n&&{top:!!r&&e.scrollHeight,left:!!o&&e.scrollWidth,both:o&&r}},setUnselectable:function(e){return void 0!==e.style.MozUserSelect&&"form-section-closed"==e.className?e.style.MozUserSelect="normal":void 0!==e.onselectstart?e.onselectstart=function(){return!1}:void 0!==e.style.MozUserSelect?e.style.MozUserSelect="none":e.onmousedown=function(){return!1},e.__oldCursor=e.style.cursor,e.style.cursor="default",e},setSelectable:function(e){return void 0!==e.onselectstart?e.onselectstart=document.createElement("div").onselectstart:void 0!==e.style.MozUserSelect?e.style.MozUserSelect=document.createElement("div").style.MozUserSelect:e.onmousedown="",e.__oldCursor?e.style.cursor=e.__oldCursor:e.style.cursor="",e},selectText:function(e){var t="";return document.selection?((t=document.body.createTextRange()).moveToElementText(e),t.setEndPoint("EndToEnd",t),t.moveStart("character",4),t.moveEnd("character",8),t.select()):(s=window.getSelection(),(t=document.createRange()).setStartBefore(e),t.setEndAfter(e),s.addRange(t)),e},hover:function(e,t,o){return $(e).observe("mouseover",(function(o){if("function"==typeof t){if(e.innerHTML&&e.descendants().include(o.relatedTarget))return!0;t(e,o)}else"string"==typeof t&&$(e).addClassName(t)})),$(e).observe("mouseout",(function(r){if("function"==typeof o){if(e.innerHTML&&e.descendants().include(r.relatedTarget))return!0;o(e,r)}else"string"==typeof t&&$(e).removeClassName(t)})),e},mouseEnter:function(e,t,o){return $(e).observe("mouseenter",(function(o){"function"==typeof t?t(e,o):"string"==typeof t&&$(e).addClassName(t)})),$(e).observe("mouseleave",(function(r){"function"==typeof o?o(e,r):"string"==typeof t&&$(e).removeClassName(t)})),e},setScroll:function(e,t){void 0!==t.x&&(e.scrollLeft=t.x),void 0!==t.y&&(e.scrollTop=t.y)},scrollInto:function(e,t){t=Object.extend({offset:[100,100],direction:"bottom"},t||{}),e=$(e);var o=Element.cumulativeOffset(e),r=document.viewport.getDimensions();Element.getDimensions(e);switch(t.direction){case"bottom":(o[1]+t.offset[1]>=r.height+window.scrollY||0!==window.scrollY&&o[1]+t.offset[1]<=Math.abs(r.height-window.scrollY))&&window.scrollTo(window.scrollX,o[1]+t.offset[1]-r.height);break;case"top":e.getHeight();(0!==window.scrollY&&o[1]<=window.scrollY+t.offset[1]||0!==window.scrollY&&o[1]+t.offset[1]<=Math.abs(r.height-window.scrollY))&&window.scrollTo(window.scrollX,o[1]-t.offset[1])}return e},getScroll:function(e){return{x:parseFloat(e.scrollLeft),y:parseFloat(e.scrollTop)}},setText:function(e,t){return e.innerHTML=t,e},putValue:function(e,t){return e.clearHint&&e.clearHint(),e.value=t,e},resetUpload:function(e){if(Prototype.Browser.IE){var t=e.parentNode,o=e.cloneNode(!0);return t.replaceChild(o,e),o}return e.value="",e},run:function(e,t){if(t.include(":"))e.fire(t);else{var o,r=!(!e.hasClassName("form-dropdown")||!e.disabled)&&!!e.enable();!document.createEventObject||Prototype.Browser.IE9||Prototype.Browser.IE10?((o=document.createEvent("HTMLEvents")).initEvent(t,!0,!0),r?setTimeout((function(){e.dispatchEvent(o),e.disable()}),0):e.dispatchEvent(o)):(o=document.createEventObject(),e.fireEvent("on"+t,o))}return e},setCSSBorderRadius:function(e,t){return e.setStyle({MozBorderRadius:t,borderRadius:t,"-webkit-border-radius":t})},getSelected:function(e){return e.options?e.selectedIndex>=0?e.options[e.selectedIndex]:e:e.innerHTML?e.innerHTML:e.value},selectOption:function(e,t){if(!t)return e;var o=!1;return $A(e.options).each((function(e){if(Object.isRegExp(t)&&t.test(e.value))throw e.selected=!0,$break;t==e.value&&(e.selected=!0,o=!0)})),0==o&&$A(e.options).each((function(e){if(Object.isRegExp(t)&&t.test(e.text))throw e.selected=!0,$break;t==e.text&&(e.selected=!0)})),e.run("change"),e},stopAnimation:function(e){return e.__stopAnimation=!0,e},shift:function(e,t){if(t=Object.extend({duration:1,onEnd:Prototype.K,onStart:Prototype.K,onStep:Prototype.K,onCreate:Prototype.K,delay:0,link:"cancel",transparentColor:"#ffffff",remove:!1,easingCustom:!1,propertyEasings:{},easing:Protoplus.Transitions.sineOut},t||{}),e.queue||(e.queue=[]),t.onCreate(e,t),"ignore"==t.link&&e.timer)return e;if(("chain"==t.link||"queue"==t.link)&&e.timer)return e.queue.push(t),e;e.timer&&clearInterval(e.timer),e.delayTime&&clearTimeout(e.delayTime),"string"==typeof t.easing?t.easing in Protoplus.Transitions?t.easing=Protoplus.Transitions[t.easing]:t.easing=Protoplus.Transitions.sineOut:"object"==typeof t.easing?(t.propertyEasings=t.easing,t.easing=Protoplus.Transitions.sineOut):"function"!=typeof t.easing&&(t.easing=Protoplus.Transitions.sineOut),t.duration*=1e3,t.delay*=1e3,e.timer=!1;var o,r,n={},i=function(){o=(new Date).getTime(),r=o+t.duration,t.onStart(e)};for(var a in t)["duration","onStart","onStep","transparentColor","onEnd","onCreate","remove","easing","link","delay","easingCustom","propertyEasings"].include(a)||!1===t[a]||(n[a]=t[a]);var l=/\d+([a-zA-Z%]+)$/;for(var s in n){var c,u,d,m,p=s,f=n[s],h=t.easing;if(["scrollX","scrollLeft","scrollY","scrollTop"].include(p))c=parseFloat(f),d="scrollX"==p?"scrollLeft":"scrollY"==p?"scrollTop":p,u="BODY"==e.tagName?"scrollX"==p||"scrollLeft"==p?window.scrollX:window.scrollY:"scrollX"==p||"scrollLeft"==p?e.scrollLeft:e.scrollTop,m="";else if("rotate"==p)c=parseFloat(f),d="-webkit-transform",u=Element.getStyle(e,"-webkit-transform")?parseInt(Element.getStyle(e,"-webkit-transform").replace(/rotate\(|\)/gim,""),10):0,m="deg";else if(["background","color","borderColor","backgroundColor"].include(p)){"transparent"==f&&(f=t.transparentColor),c=Protoplus.Colors.hexToRgb(f),d="background"==p?"backgroundColor":p;var g=Element.getStyle(e,d);g&&"transparent"!=g||(g=t.transparentColor),u=Protoplus.Colors.getRGBarray(g),m=""}else"opacity"==p?(c="string"==typeof f?parseInt(f,10):f,d=p,u=Element.getStyle(e,p),m="",u=parseFloat(u)):(c="string"==typeof f?parseInt(f,10):f,d=p,u=Element.getStyle(e,p.replace("-webkit-","").replace("-moz-",""))||"0px",m="opacity"==p?"":l.test(u)?u.match(l)[1]:"px",u=parseFloat(u));if(p in t.propertyEasings&&(h=Protoplus.Transitions[t.propertyEasings[p]]),c||0===c)n[p]={key:d,to:c,from:u,unit:m,easing:h};else try{e.style[d]=f}catch(e){}}var v=function(e,t,o){return!1!==o?Math.round(t.from[o]+e*(t.to[o]-t.from[o])):t.from+e*(t.to-t.from)};e.__stopAnimation=!1;var y=function(){var i,a,l,s=(new Date).getTime();if(!0===e.__stopAnimation)return clearInterval(e.timer),e.timer=!1,void(e.__stopAnimation=!1);if(s>=r){clearInterval(e.timer),e.timer=!1;var c="pulse"==t.easing||t.easing==Protoplus.Transitions.pulse?"from":"to";for(i in n)a=n[i],["scrollX","scrollLeft","scrollY","scrollTop"].include(i)?"BODY"==e.tagName.toUpperCase()?"scrollLeft"==a.key?window.scrollTo(a[c],window.scrollY):window.scrollTo(window.scrollX,a[c]):e[a.key]=a[c]+a.unit:["background","color","borderColor","backgroundColor"].include(i)?e.style[a.key]="rgb("+a[c].join(", ")+")":"opacity"==i?Element.setOpacity(e,a[c]):e.style[i]="rotate"==i?"rotate("+a[c]+a.unit+")":a[c]+a.unit;if(t.onEnd&&t.onEnd(e),t.remove&&e.remove(),e.queue.length>0){var u=e.queue.splice(0,1);e.shift(u[0])}return e}for(i in t.onStep&&t.onStep(e),n)if("scrollLeft"==(a=n[i]).key||"scrollTop"==a.key)if("BODY"==e.tagName.toUpperCase()){var d=parseInt(v(a.easing((s-o)/t.duration,t.easingCustom),a,!1),10)+a.unit;"scrollLeft"==a.key?window.scrollTo(d,window.scrollY):window.scrollTo(window.scrollX,d)}else e[a.key]=parseInt(v(a.easing((s-o)/t.duration,t.easingCustom),a,!1),10)+a.unit;else if("background"==i||"color"==i||"borderColor"==i||"backgroundColor"==i){l=[];for(var m=0;m<3;m++)l[m]=v(a.easing((s-o)/t.duration,t.easingCustom),a,m);e.style[a.key]="rgb("+l.join(", ")+")"}else"opacity"==i?Element.setOpacity(e,v(a.easing((s-o)/t.duration,t.easingCustom),a,!1)):"rotate"==i?e.style[a.key]="rotate("+v(a.easing((s-o)/t.duration,t.easingCustom),a,!1)+a.unit+")":e.style[i]=v(a.easing((s-o)/t.duration,t.easingCustom),a,!1)+a.unit};return t.delay?e.delayTime=setTimeout((function(){i(),e.timer=setInterval(y,10)}),t.delay):(i(),e.timer=setInterval(y,10)),e},fade:function(e,t){t=Object.extend({duration:.5,onEnd:function(e){e.setStyle({display:"none"})},onStart:Prototype.K,opacity:0},t||{}),e.shift(t)},appear:function(e,t){t=Object.extend({duration:.5,onEnd:Prototype.K,onStart:Prototype.K,opacity:1},t||{}),e.setStyle({opacity:0,display:"block"}),e.shift(t)},disable:function(e){return(e=$(e)).disabled=!0,e},enable:function(e){return(e=$(e)).disabled=!1,e},setReference:function(e,t,o){return e.REFID||(e.REFID=Protoplus.REFIDCOUNT++),Protoplus.references[e.REFID]||(Protoplus.references[e.REFID]={}),Protoplus.references[e.REFID][t]=$(o),e},getReference:function(e,t){return!!e.REFID&&Protoplus.references[e.REFID][t]},remove:function(e){return e.REFID&&delete Protoplus.references[e.REFID],e.parentNode&&e.parentNode.removeChild(e),e}},function(e,t){var o=document.createElement("div"),r="backgroundColor borderBottomColor borderBottomWidth borderLeftColor borderLeftWidth borderRightColor borderRightWidth borderSpacing borderTopColor borderTopWidth bottom color fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" ");function n(e,t,o){return(e+(t-e)*o).toFixed(3)}function i(e,t,o){return e.substr(t,o||1)}function a(e,t,o){var r,n,a=2,l=3,s=[],c=[];for(l=3,r=arguments[a-1];a--;){if("r"==i(r,0))for(r=r.match(/\d+/g);l--;)s.push(~~r[l]);else for(4==r.length&&(r="#"+i(r,1)+i(r,1)+i(r,2)+i(r,2)+i(r,3)+i(r,3));l--;)s.push(parseInt(i(r,1+2*l,2),16));l=3,r=arguments[a-1]}for(;l--;)n=~~(s[l+3]+(s[l]-s[l+3])*o),c.push(n<0?0:n>255?255:n);return"rgb("+c.join(",")+")"}function l(e){var t=parseFloat(e),o=e.replace(/^[\-\d\.]+/,"");return isNaN(t)?{v:o,f:a,u:""}:{v:t,f:n,u:o}}t.emile=function(e,t,n){e="string"==typeof e?document.getElementById(e):e,n=n||{};var i,a,s=function(e){var t,n,i={},a=r.length;for(o.innerHTML='<div style="'+e+'"></div>',t=o.childNodes[0].style;a--;)(n=t[r[a]])&&(i[r[a]]=l(n));return i}(t),c=e.currentStyle?e.currentStyle:getComputedStyle(e,null),u={},d=+new Date,m=n.duration||200,p=d+m,f=n.easing||function(e){return-Math.cos(e*Math.PI)/2+.5};for(i in s)u[i]=l(c[i]);a=setInterval((function(){var t=+new Date,o=t>p?1:(t-d)/m;for(var r in s)e.style[r]=s[r].f(u[r].v,s[r].v,f(o))+s[r].u;t>p&&(clearInterval(a),n.after&&n.after())}),10)}}(0,Protoplus.utils),Element.addMethods(Protoplus.utils),Event.observe(window,"unload",(function(){Protoplus=null})),Ajax=Object.extend(Ajax,{Jsonp:function(e,t){this.options=Object.extend({method:"post",timeout:60,parameters:"",force:!1,onComplete:Prototype.K,onSuccess:Prototype.K,onFail:Prototype.K},t||{});var o=e.match(/\?/)?"&":"?";this.response=!1;var r=(new Date).getTime();Ajax["callback_"+r]=function(e){this.response=e}.bind(this),this.callback=Ajax.callback,"string"==typeof this.options.parameters?o+=this.options.parameters:$H(this.options.parameters).each((function(e){o+=e.key+"="+encodeURIComponent(e.value)+"&"}));var n=/^(\w+:)?\/\/([^\/?#]+)/.exec(e);if(!(n&&(n[1]&&n[1]!=location.protocol||n[2]!=location.host))&&!1===this.options.force)return new Ajax.Request(e,this.options);this.url=e+o+"callbackName=Ajax.callback_"+r+"&nocache="+(new Date).getTime(),this.script=new Element("script",{type:"text/javascript",src:this.url});var i=!1;this.onError=function(e,t,o){i=!0,this.options.onComplete({success:!1,error:e||"Not Found"}),this.options.onFail({success:!1,error:e||"Not Found",args:[e,t,o]}),this.script.remove(),window.onerror=null,this.response=!1}.bind(this),this.onLoad=function(e){if(!i){clearTimeout(a),this.script.onreadystatechange=null,this.script.onload=null;this.script;this.script.remove(),window.onerror=null,this.response?setTimeout(function(){this.options.onComplete({responseJSON:this.response}),this.options.onSuccess({responseJSON:this.response})}.bind(this),20):this.onError({error:"Callback error"})}}.bind(this),this.readyState=function(e){var t=this.script.readyState;"loaded"!=t&&"complete"!=t||this.onLoad()}.bind(this);var a=setTimeout(this.onError,1e3*this.options.timeout);return this.script.onreadystatechange=this.readyState,this.script.onload=this.onLoad,window.onerror=function(e,t,o){return clearTimeout(a),this.onError(e,t,o),!0}.bind(this),$$("head")[0].appendChild(this.script),this}});var _alert=window.alert;location.pathname.match(/^\/answers\/.+/)||(window.alert=function(){var e=arguments,t=1,o=e[0];if("object"==typeof o)return $H(o).debug(),o;if("string"==typeof o){var r=o.replace(/(\%s)/gim,(function(o){return e[t++]||""}));return _alert(r),!0}_alert(o)});var rand=function(e,t){return Math.floor(Math.random()*(t-e))+e};if("__protoinit"in window&&document.ready((function(e){$A(__protoinit).each((function(t){t(e)}))})),void 0===window.Protoplus)throw"Error: ProtoPlus is required by ProtoPlus-UI.js";Object.extend(document,{getViewPortDimensions:function(){var e,t;return void 0!==window.innerWidth?(t=window.innerWidth,e=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(t=document.documentElement.clientWidth,e=document.documentElement.clientHeight):(t=document.getElementsByTagName("body")[0].clientWidth,e=document.getElementsByTagName("body")[0].clientHeight),{height:e,width:t}},stopTooltips:function(){return document.stopTooltip=!0,$$(".pp_tooltip_").each((function(e){e.remove()})),!0},startTooltips:function(){document.stopTooltip=!1}}),Protoplus.ui={isVisible:function(e){return!!(e=$(e)).parentNode&&(!(!e||"BODY"!=e.tagName)||"none"!=e.style.display&&"hidden"!=e.style.visibility&&Protoplus.ui.isVisible(e.parentNode))},setDraggable:function(e,t){!(t=Object.extend({dragClass:"",handler:!1,dragFromOriginal:!1,onStart:Prototype.K,changeClone:Prototype.K,onDrag:Prototype.K,onDragEnd:Prototype.K,onEnd:Prototype.K,dragEffect:!1,revert:!1,clone:!1,snap:!1,cursor:"move",offset:!1,constraint:!1,constrainLeft:!1,constrainRight:!1,constrainTop:!1,constrainBottom:!1,constrainOffset:!1,constrainViewport:!1,constrainParent:!1,dynamic:!0},t||{})).snap||"number"!=typeof t.snap&&"string"!=typeof t.snap||(t.snap=[t.snap,t.snap]);var o,r="mouseup",n="mousedown",i="mousemove";Prototype.Browser.MobileSafari&&(r="touchend",n="touchstart",i="touchmove"),t.constrainOffset&&4==t.constrainOffset.length&&(t.constrainTop=t.constrainTop?t.constrainTop:t.constrainOffset[0],t.constrainRight=t.constrainRight?t.constrainRight:t.constrainOffset[1],t.constrainBottom=t.constrainBottom?t.constrainBottom:t.constrainOffset[2],t.constrainLeft=t.constrainLeft?t.constrainLeft:t.constrainOffset[3]);var a=!1,l=function(e){if("touchmove"==i?e=e.touches[0]:Event.stop(e),!1!==t.onDrag(drag_element,o,e)){var r=startY+Number(Event.pointerY(e)-mouseY),n=startX+Number(Event.pointerX(e)-mouseX);t.offset&&(r=t.offset[1]+Event.pointerY(e),n=t.offset[0]+Event.pointerX(e)),t.snap&&(r=(r/t.snap[1]).round()*t.snap[1],n=(n/t.snap[0]).round()*t.snap[0]),r=!1!==t.constrainBottom&&r>=t.constrainBottom?t.constrainBottom:r,r=!1!==t.constrainTop&&r<=t.constrainTop?t.constrainTop:r,n=!1!==t.constrainRight&&n>=t.constrainRight?t.constrainRight:n,n=!1!==t.constrainLeft&&n<=t.constrainLeft?t.constrainLeft:n,"vertical"==t.constraint?drag_element.setStyle({top:r+"px"}):"horizontal"==t.constraint?drag_element.setStyle({left:n+"px"}):drag_element.setStyle({top:r+"px",left:n+"px"}),a&&clearTimeout(a),t.onDrag(drag_element,o,e),a=setTimeout((function(){t.onDragEnd(drag_element,o,e)}),50)}},s=function(n){Event.stop(n),"touchend"==r&&(n=n.touches[0]),!0!==t.dynamic&&(document.temp.setStyle({top:e.getStyle("top"),left:e.getStyle("left")}),e.parentNode.replaceChild(document.temp,e),document.temp.oldZIndex=e.oldZIndex,e=document.temp),!1!==t.onEnd(drag_element,o,n)&&(e.oldZIndex?drag_element.setStyle({zIndex:e.oldZIndex}):drag_element.setStyle({zIndex:""}),t.revert?(!0===t.revert&&(t.revert={easing:"sineIn",duration:.5}),t.revert=Object.extend({left:drag_element.startX,top:drag_element.startY,opacity:1,duration:.5,easing:"sineIn"},t.revert||{}),drag_element.shift(t.revert),drag_element.startX=!1,drag_element.startY=!1):t.dragEffect&&drag_element.shift({opacity:1,duration:.2})),e.__dragging=!1,drag_element.removeClassName(t.dragClass),o.setSelectable(),drag_element.setSelectable(),$(document.body).setSelectable(),document.stopObserving(i,l),document.stopObserving(r,s)};return(o=t.handler?"string"==typeof t.handler&&t.handler.startsWith(".")?e.descendants().find((function(e){return e.className==t.handler.replace(/^\./,"")})):$(t.handler):e).setStyle({cursor:t.cursor}),o.observe(n,(function(a){Event.stop(a);if("touchstart"==n&&(a=a.touches[0]),e.__dragging=!0,document.stopDrag)return!0;if(t.dragFromOriginal&&a.target!=o)return!1;var c,u=!1,d=!1;if(t.constrainElement&&(d=Prototype.Browser.IE?{top:0,left:0}:$(t.constrainElement).cumulativeOffset(),u=$(t.constrainElement).getDimensions()),t.constrainParent&&(d="relative"==$(e.parentNode).getStyle("position")||"absolute"==$(e.parentNode).getStyle("position")||Prototype.Browser.IE?{top:0,left:0}:$(e.parentNode).cumulativeOffset(),u=$(e.parentNode).getDimensions()),t.constrainViewport&&(d=$(document.body).cumulativeScrollOffset(),u=document.viewport.getDimensions()),u&&(u.height+=d.top,u.width+=d.left,t.constrainTop=d.top+1,t.constrainBottom=u.height-(e.getHeight()+3),t.constrainRight=u.width-(e.getWidth()+3),t.constrainLeft=d.left+1),!0!==t.dynamic){try{document.temp=e,c=new Element("div").setStyle({height:e.getHeight()+"px",width:e.getWidth()+"px",border:"1px dashed black",top:e.getStyle("top")||0,left:e.getStyle("left")||0,zIndex:e.getStyle("zIndex")||0,position:e.getStyle("position"),background:"#f5f5f5",opacity:.3})}catch(e){}e.parentNode.replaceChild(c,e),e=c}if(["relative","absolute"].include($(e.parentNode).getStyle("position")))startX=e.getStyle("left")?parseInt(e.getStyle("left"),10):e.offsetLeft,startY=e.getStyle("top")?parseInt(e.getStyle("top"),10):e.offsetTop;else{var m=e.cumulativeOffset();startX=m.left,startY=m.top}mouseX=Number(Event.pointerX(a)),mouseY=Number(Event.pointerY(a)),t.clone?(drag_element=t.changeClone(e.cloneNode({deep:!0}),startX,startY),$(document.body).insert(drag_element)):drag_element=e,t.onStart(drag_element,o,a),drag_element.addClassName(t.dragClass),e.oldZIndex=e.getStyle("z-index")||0,t.dragEffect&&drag_element.shift({opacity:.7,duration:.2}),drag_element.setStyle({position:"absolute",zIndex:99998}),!t.revert||drag_element.startX||drag_element.startY||(drag_element.startX=startX,drag_element.startY=startY),drag_element.setUnselectable(),o.setUnselectable(),$(document.body).setUnselectable(),document.observe(i,l),document.observe(r,s)})),e},tooltip:function(e,t,o){if(e=$(e),"Prototip"in window){o=Object.extend({delay:.01},o||{});new Tip(e,t,o);return e}return"string"!=typeof t||(o=Object.extend({className:!1,fixed:!1,opacity:1,title:!1,width:200,height:100,offset:!1,zIndex:1e5,delay:!1,duration:!1,fadeIn:!1,fadeOut:!1,shadow:!1},o||{}),t=o.title?"<b>"+o.title+"</b><br>"+t:t,e.hover((function(r,n){var i=document.viewport.getDimensions(),a=function(e){var t=o.offset.top?o.offset.top:15,r=o.offset.left?o.offset.left:15,n=Event.pointerY(e)+t,a=Event.pointerX(e)+r,l=tooldiv.getDimensions();return a+l.width>i.width-20&&(a-=l.width+20+r),n+l.height>i.height-20&&(n-=l.height+t),{top:n,left:a}};if(document.stopTooltip)return $$(".pp_tooltip_").each((function(e){e.remove()})),!0;outer=new Element("div",{className:"pp_tooltip_"}).setStyle({opacity:o.opacity,position:"absolute",zIndex:o.zIndex}),o.className?tooldiv=new Element("div",{className:o.className}).setStyle({position:"relative",top:"0px",left:"0px",zIndex:10}).update(t):(tooldiv=new Element("div").setStyle({padding:"4px",background:"#eee",width:"auto"==o.width?"auto":o.width+"px",border:"1px solid #333",position:"absolute",top:"0px",left:"0px",zIndex:10}).update(t),tooldiv.setCSSBorderRadius("5px")),o.shadow&&(shadTop=o.shadow.top?parseInt(o.shadow.top,10):4,shadLeft=o.shadow.left?parseInt(o.shadow.left,10):4,shadBack=o.shadow.back?o.shadow.back:"#000",shadOp=o.shadow.opacity?o.shadow.opacity:.2,o.className?(shadow=new Element("div",{className:o.className||""}).setStyle({position:"absolute",borderColor:"#000",color:"#000",top:shadTop+"px",left:shadLeft+"px",zIndex:9,background:shadBack,opacity:shadOp}),shadow.update(t)):(shadow=new Element("div",{className:o.className||""}).setStyle({padding:"4px",border:"1px solid black",color:"#000",width:o.width+"px",position:"absolute",top:shadTop+"px",left:shadLeft+"px",zIndex:9,background:shadBack,opacity:shadOp}),shadow.setCSSBorderRadius("5px"),shadow.update(t)),outer.appendChild(shadow)),outer.appendChild(tooldiv);var l=function(){if(o.fixed){var t=o.fixed.top?parseInt(o.fixed.top,10):e.getHeight(),r=o.fixed.left?parseInt(o.fixed.left,10):e.getWidth()-50;outer.setStyle({top:t+"px",left:r+"px"})}else e.observe("mousemove",(function(e){if(document.stopTooltip)return $$(".pp_tooltip_").each((function(e){e.remove()})),!0;var t=a(e);outer.setStyle({top:t.top+"px",left:t.left+"px"})}))};outer.delay=setTimeout((function(){if(o.fadeIn){document.body.appendChild(outer);var e=a(n);outer.setStyle({opacity:0,top:e.top+"px",left:e.left+"px"}),dur=o.fadeIn.duration?o.fadeIn.duration:1,outer.appear({duration:dur,onEnd:l()})}else{document.body.appendChild(outer);var t=a(n);outer.setStyle({top:t.top+"px",left:t.left+"px"}),setTimeout(l,100)}o.duration&&(outer.duration=setTimeout((function(){o.fadeOut?(dur=o.fadeOut.duration?o.fadeOut.duration:1,outer.fade({duration:dur,onEnd:function(){outer.parentNode&&outer.remove()}})):outer.parentNode&&outer.remove()}),1e3*o.duration||0))}),1e3*o.delay||0)}),(function(){if(document.stopTooltip)return $$(".pp_tooltip_").each((function(e){e.remove()})),!0;outer&&(clearTimeout(outer.delay),clearTimeout(outer.duration)),o.fadeOut?(dur=o.fadeOut.duration?o.fadeOut.duration:.2,outer.fade({duration:dur,onEnd:function(){outer.parentNode&&outer.remove()}})):outer.parentNode&&outer.remove()}))),e},rating:function(e,t){var o="v2"===e.getAttribute("data-version"),r=o?32:16;if(e=$(e),t=Object.extend({imagePath:"stars.png",onRate:Prototype.K,resetButtonImage:!1,resetButtonTitle:"Cancel Your Rating",resetButton:!0,inputClassName:"",titles:[],disable:!1,disabled:!!e.getAttribute("disabled")&&e.getAttribute("disabled"),stars:e.getAttribute("stars")?e.getAttribute("stars"):5,name:e.getAttribute("name")?e.getAttribute("name"):"rating",value:e.getAttribute("value")?e.getAttribute("value"):0,cleanFirst:!1},t||{}),e.converted)return e;e.converted=!0,e.addClassName("form-star-rating");var n={blank:"0px 0px",over:-1*r+"px 0px",clicked:-2*r+"px 0px",half:-3*r+"px 0px",error:-4*r+"px 0px"},i=new Element("input",{type:"hidden",name:t.name,className:t.inputClassName}),a=$A([]);e.disabled="true"==t.disabled||!0===t.disabled,e.setStyle({cursor:t.disabled?"default":"pointer"}),e.setUnselectable(),t.cleanFirst&&e.update();var l=function(r){var a=r;r=r||0;var l=$A(e.descendants());o&&e.querySelectorAll(".rated").length===r&&l[r-1]&&(l[r-1].setStyle({backgroundPosition:n.blank}).removeClassName("rated"),a=r-=1),l.each((function(e,t){e.setAttribute("aria-checked",r-1===t),r-1<t?e.setStyle({backgroundPosition:n.blank}).removeClassName("rated"):t<r&&e.setStyle({backgroundPosition:n.clicked}).addClassName("rated")})),i.value=r||"",t.disable&&(e.disabled=!0,e.setStyle({cursor:"default"})),e.value=a,t.onRate(e,t.name,r),e.run("keyup"),i.run("change"),!o&&t.resetButton&&s[0===r?"hide":"show"]()};if(e.setRating=l,$A($R(1,t.stars)).each((function(o){var r={backgroundImage:"url("+t.imagePath+")"},i=new Element("div").setStyle(r);i.observe("mouseover",(function(){e.disabled||$A(e.descendants()).each((function(e,t){t<o&&e.setStyle({backgroundPosition:e.hasClassName("rated")?n.clicked:n.over})}))})).observe("click",(function(){e.disabled||l(o)})),t.titles&&t.titles[o-1]&&(i.title=t.titles[o-1]),a.push(i)})),t.disabled||e.observe("mouseout",(function(){e.descendants().each((function(e){e.setStyle({backgroundPosition:e.hasClassName("rated")?n.clicked:i.errored&&o?n.error:n.blank})}))})),t.resetButton){var s=new Element("div").setStyle({height:"16px",width:"16px",margin:"0.5px",cssFloat:"left",color:"#999",fontSize:"12px",textAlign:"center"});t.resetButtonImage?s.insert(new Element("img",{src:t.resetButtonImage,align:"absmiddle"})):s.insert(" x "),s.title=t.resetButtonTitle,s.hide(),s.observe("click",(function(){e.disabled||l(void 0)})),a.push(s)}return a.each((function(t){e.insert(t)})),e.insert(i),t.value>0&&(e.descendants().each((function(e,o){++o<=t.value&&e.setStyle({backgroundPosition:n.clicked}).addClassName("rated"),t.value>o-1&&t.value<o&&e.setStyle({backgroundPosition:n.half}).addClassName("rated")})),i.value=t.value),e},slider:function(e,t){e=$(e),t=Object.extend({width:100,onUpdate:Prototype.K,maxValue:100,value:0,buttonBack:'url("../images/ball.png") no-repeat scroll 0px 0px transparent'},t||{}),"JotForm"in window&&"url"in JotForm&&(t.buttonBack='url("'+JotForm.url+'/images/ball.png") no-repeat scroll 0px 0px transparent');var o=function(e){var o=100*e/t.maxValue*f/100;return o=o<3?3:o,Math.round(o)},r=new Element("div",{tabindex:1}),n=new Element("div"),i=new Element("div",{id:(new Date).getTime()}),a=new Element("table",{cellpadding:0,cellspacing:1,border:0,width:t.width,className:e.className}),l=new Element("tbody"),s=new Element("tr"),c=new Element("tr"),u=new Element("td",{colspan:3}),d=new Element("td",{align:"center",width:20}).insert("0"),m=new Element("td",{align:"center",width:t.width-40}).insert(t.value).setStyle("font-weight:bold"),p=new Element("td",{align:"center",width:20}).insert(t.maxValue),f=t.width-18,h=t.value;t.value=o(t.value);var g=function(e){var t=parseInt(i.getStyle("left"),10)-e;t=t<=3?3:t,i.setStyle({left:t+"px"}),y(t)},v=function(e){var t=parseInt(i.getStyle("left"),10)+e;t=t>=f?f:t,i.setStyle({left:t+"px"}),y(t)},y=function(o){var n=f;if(parseInt(o,10)<=3)e.value=0;else{var i=Math.round(parseInt(o,10)*t.maxValue/n);e.value=parseInt(i,10)}return r.value=0===e.value?"":e.value,a.value=r.value,t.onUpdate(e.value),m.innerHTML=e.value,e.run("keyup"),e.value};r.setStyle({width:t.width+"px",position:"relative",overflow:"hidden",outline:"none"}),n.setStyle({border:"1px solid #999",background:"#eee",margin:"8px",overflow:"hidden",height:"3px"}).setCSSBorderRadius("4px"),i.setStyle({position:"absolute",height:"13px",width:"13px",background:t.buttonBack,overflow:"hidden",border:"1px solid transparent",top:"3px",left:t.value+"px"}).setCSSBorderRadius("8px"),d.setStyle({fontFamily:"Verdana",fontSize:"9px"}),m.setStyle({fontFamily:"Verdana",fontSize:"9px"}),p.setStyle({fontFamily:"Verdana",fontSize:"9px"}),r.insert(n).insert(i),a.insert(l.insert(s).insert(c)),u.insert(r),s.insert(u),c.insert(d).insert(m).insert(p),i.setDraggable({constraint:"horizontal",dragEffect:!1,cursor:"default",constrainLeft:3,constrainRight:f,onDrag:function(e){y(e.getStyle("left"))}}),r.observe("focus",(function(){r.__hasFocus=!0,r.setStyle({borderColor:"#333"})})).observe("blur",(function(){r.__hasFocus=!1,r.setStyle({borderColor:"#ccc"})})),r.observe("keypress",(function(e){37==(e=document.getEvent(e)).keyCode?g(5):39==e.keyCode&&v(5)})).observe(Event.mousewheel,(function(e){if(!r.__hasFocus)return!0;e.stop(),r.focus();var t=Event.wheel(e);t>0?v(5):t<0&&g(5)})),r.observe("click",(function(e){if(e.target.id==i.id)return!1;var t=Event.pointerX(e)-n.cumulativeOffset().left;t=(t=t<3?3:t)>f?f:t,i.shift({left:t,duration:.5}),y(t)}));var F=new Element("input",{type:"hidden",className:"form-slider "+e.className,name:e.name,value:h,id:e.id});return e.parentNode.replaceChild(F,e),e=F,$(F.parentNode).insert(a.setUnselectable()),F.setSliderValue=function(e){var t=o(e);i.shift({left:t,duration:.5}),y(t)},F},spinner:function(e,t){e=$(e),t=Object.extend({width:60,cssFloat:!1,allowNegative:!1,addAmount:1,maxValue:!1,minValue:!1,readonly:!1,value:!1,size:5,iconPath:"//cdn.jotfor.ms/assets/img/builder/flat_arrow.svg",onChange:Prototype.K},t||{}),e.size=t.size,!1===t.value?e.value=parseFloat(e.value)||"0":e.value=t.value,t.minValue?parseFloat(e.value)<parseFloat(t.minValue)&&(e.value=t.minValue):!t.allowNegative&&parseFloat(e.value)<0&&(e.value="0"),e.writeAttribute("autocomplete","none");var o,r,n,i,a=new Element("div",{tabindex:"1"});t.cssFloat&&a.setStyle({cssFloat:t.cssFloat,marginRight:"5px"}),o=new Element("div",{className:"form-spinner"}),a.insert(o),e.parentNode.replaceChild(a,e),o.insert(new Element("div",{className:"form-spinner-input-td"}).insert(e)),o.insert(r=new Element("div",{className:"form-spinner-button-container"})),r.insert(n=new Element("div",{className:"form-spinner-button form-spinner-up"}).insert(new Element("img",{className:"form-spinner-image form-spinner-up-image",src:t.iconPath,alt:"up arrow"}))),r.insert(i=new Element("div",{className:"form-spinner-button form-spinner-down"}).insert(new Element("img",{className:"form-spinner-image form-spinner-down-image",src:t.iconPath,alt:"down arrow"})));var l=(t&&t.width>=180?t.width:180)+"px";o.setStyle({width:l});var s=function(o){if(!(e.hasAttribute("disabled")||(parseFloat(e.value)||(e.value=0),t.maxValue&&Number(e.value)>=Number(t.maxValue)))){var r=parseInt(e.value)===parseFloat(e.value)?0:(e.value+"").split(".")[1].length,n=parseFloat(t.addAmount)===parseInt(t.addAmount)?0:(t.addAmount+"").split(".")[1].length,i=r>n?r:n;e.value=(parseFloat(e.value)+parseFloat(t.addAmount)).toFixed(i),t.onChange(e.value)}},c=function(o){if(!e.hasAttribute("disabled")){parseFloat(e.value)||(e.value=0);var r=parseInt(e.value)===parseFloat(e.value)?0:(e.value+"").split(".")[1].length,n=parseFloat(t.addAmount)===parseInt(t.addAmount)?0:(t.addAmount+"").split(".")[1].length,i=r>n?r:n,a=(parseFloat(e.value)-parseFloat(t.addAmount)).toFixed(i);if(t.minValue){if(Number(a)<Number(t.minValue))return}else if(!t.allowNegative&&a<0)return;e.value=a,t.onChange(e.value)}},u=function(e,t){"INPUT"==e.target.tagName&&2==t||(38==(e=document.getEvent(e)).keyCode?(s(),e.stop()):40==e.keyCode&&(c(),e.stop()))};return n.observe("click",(function(t){s(),e.run("keyup")})).setUnselectable(),i.observe("click",(function(t){c(),e.run("keyup")})).setUnselectable(),e.observe(Prototype.Browser.Gecko?"keypress":"keydown",(function(e){u(e,1)})),a.observe(Prototype.Browser.Gecko?"keypress":"keydown",(function(e){u(e,2)})),t.readonly&&e.writeAttribute("readonly","readonly"),e.observe("change",(function(){t.onChange(e.value)})),e},miniLabel:function(e,t,o){o=Object.extend({position:"bottom",color:"#666",size:9,text:"",nobr:!1},o||{}),e.wrap("span"),span=$(e.parentNode),span.setStyle({whiteSpace:"nowrap",cssFloat:"left",marginRight:"5px"});var r={paddingLeft:"1px",fontSize:o.size+"px",color:o.color,cursor:"default"},n=function(){e.focus()},i="<br>";return o.nobr&&(i=""),"top"==o.position?e.insert({before:new Element("span").setText(t+i).setStyle(r).observe("click",n)}).insert({after:o.text}):e.insert({after:new Element("span").setText(i+t).setStyle(r).observe("click",n)}).insert({after:o.text}),span},hint:function(e,t,o){if("placeholder"in(e=$(e)))return e.writeAttribute("placeholder",t),e;if("number"==e.type)return e.value="0",e;if(e.removeHint)return e.hintClear();o=Object.extend({hintColor:"#bbb"},o||{});var r=e.getStyle("color")||"#000";""===e.value&&(e.setStyle({color:o.hintColor}),e.value=t,e.hinted=!0);var n=function(){e.value==t?(e.value="",e.setStyle({color:r}).hinted=!1):"true"==e.readAttribute("masked")&&(e.setStyle({color:r}).hinted=!1)},i=function(){setTimeout((function(){""===e.value&&(e.value=t,e.setStyle({color:o.hintColor}).hinted=!0)}),"true"==e.readAttribute("masked")?10:0)};"true"==e.readAttribute("masked")&&e.observe("mouseleave",i);var a=function(){e.value==t&&(e.value="",e.hinted=!1)};return e.observe("focus",n),e.observe("blur",i),e.form&&$(e.form).observe("submit",a),e.runHint=i,e.clearHint=function(){e.value="",e.setStyle({color:r}).hinted=!1},e.hintClear=function(){return e.value=t,e.setStyle({color:o.hintColor}).hinted=!0,e},e.removeHint=function(){return e.setStyle({color:r}),e.value==t&&(e.value=""),e.hintClear=void 0,e.hinted=void 0,e.removeHint=void 0,e.stopObserving("focus",n),e.stopObserving("blur",i),e.form&&$(e.form).stopObserving("submit",a),e},e}},Element.addMethods(Protoplus.ui);var JotForm={url:"//www.jotform.com/",server:"//www.jotform.com/server.php",APIUrl:"//www.jotform.com/API",conditions:{},calculations:[],condValues:{},couponApplied:!1,progressBar:!1,forms:[],saveForm:!1,imageFiles:["png","jpg","jpeg","ico","tiff","bmp","gif","apng","jp2","jfif"],autoCompletes:{},defaultValues:{},debug:!1,highlightInputs:!0,noJump:!1,initializing:!0,lastFocus:!1,payment:!1,fieldsToPreserve:[],saving:!1,loadingPendingSubmission:!1,sessionID:null,submissionToken:null,draftID:null,submissionID:null,texts:{},paymentTexts:{couponApply:"Apply",couponChange:"Change",couponEnter:"Enter Coupon",couponExpired:"Coupon is expired. Please try another one.",couponInvalid:"Coupon is invalid. Please try another one.",couponRatelimiter:"You have reached the rate limit. Please try again after one minute.",couponValid:"Coupon is valid.",couponBlank:"Please enter a coupon.",shippingShipping:"Shipping",totalTotal:"Total",totalSubtotal:"Subtotal",taxTax:"Tax"},validationRegexes:{email:/^(?:[\a-zA-Z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[\a-zA-Z0-9!#$%&'*+\/=?^_`{|}~-]+)*|"(?:[\s\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z](?:[a-zA-Z0-9-]*[a-zA-Z0-9]){1,}|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-zA-Z0-9-]*[a-zA-Z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/,alphanumeric:/^[\u00C0-\u1FFF\u2C00-\uD7FFa-zA-Z0-9\s]+$/,numeric:/^(-?\d+[\.\,]?)+$/,numericDotStart:/^([\.]\d+)+$/,currency:/^-?[\$\£\€\₺]?\d*,?\d*,?\d*(\.\d\d)?¥?$/,alphabetic:/^[\u00C0-\u1FFF\u2C00-\uD7FFa-zA-Z\s]+$/,cyrillic:/^[абвгдеёжзийклмнопрстуфхцчшщьыъэюяАБВГДЕЁЖЗИЙКЛМНОПРСТУФХЦЧШЩЬЫЪЭЮЯ\s]*$/},freeEmailAddresses:["gmail.","aim.com","outlook.","hotmail.","yahoo.","inbox.","gmx.","yandex.","tutanota.","ymail.","mailfence.","hushmail.","protonmail.","proton.","privaterelay.appleid.com","rediffmail.","msn.","live.","aol.","currently.","att.","mailinator.","getnada.","abyssmail.","boximail.","clrmail.","dropjar.","getairmail.","givmail.","inboxbear.","tafmail.","vomoto.","zetmail.","sharklasers.","guerrillamail.","grr.","guerrillamailblock.","pokemail.","spam4.","emailcu.","mybx.","fsmilitary.","yopmail.","cool.","jetable.","nospam.","nomail.","monmail.","monemail.","moncourrier.","courriel.","speed.","mega.","icloud.","googlemail.","qq.","mac.","email.com","comcast.net","mail.com","usa.com","myself.com","consultant.com","post.com","europe.com","asia.com","iname.com","writeme.com","dr.com","engineer.com","cheerful.com","mail.vu","mail.ru","mail.pt","mail.pf","mail.org.uk","mail.nu","mail.md","mail.gr","mail.az","mail.be","mail.bg","mail.bulgaria.com","mail.by","mail.byte.it","mail.co.za","mail.com","mail.com.tr","mail.ee"],paymentFields:["control_2co","control_authnet","control_bluepay","control_bluesnap","control_boxpayment","control_braintree","control_cardconnect","control_chargify","control_clickbank","control_dwolla","control_echeck","control_eway","control_firstdata","control_paypalInvoicing","control_gocardless","control_googleco","control_moneris","control_mollie","control_onebip","control_pagseguro","control_payjunction","control_payment","control_paysafe","control_iyzico","control_paypal","control_paypalexpress","control_paypalpro","control_paypalcomplete","control_payu","control_payuMoney","control_sofort","control_skrill","control_square","control_stripe","control_stripeACH","control_stripeACHManual","control_worldpay","control_sensepass","control_paypalSPB","control_cybersource","control_stripeCheckout","control_payfast"],tempStripeCEForms:["230024636370952","230894369312966","33361556326858","230841251513446","62366391795266","220392206656353","230923831008349","73394165522963","83003904243346","90764025629360","90831342951355","90852034658360","92226427822356","92581787545371","92762018229358","92872381567368","93091396563364","200432081549348","200524754914353","200672628663358","200714281980352","201545466622353","202666382145355","203216090201336","203594925705361","210313694786360","210373149515351","210596520458357","210705631271345","210736300449349","210804961245352","211401327963349","211424822700343","211571514935354","213042959945363","213126472737355","220167135758357","220301706806345","220724495641356","220885098968375","222471409754357","222777403556360","223413865360353","223605826686364","230012143712336","230092900090344","230274621472350","230494425755360","230923288296364","230923831008349","230952526252050"],prevEmbedFormHeight:0,isEncrypted:!1,tempUploadFolderInjected:!1,disableSubmitButton:!1,disableSubmitButtonMessage:"",isConditionDebugMode:!1,totalLogCount:0,firstUrlPrefillCondition:!1,conditionCalculationDebugLogs:[],conditionCalculationDebugEnabledServers:["data.reachplc.com"],isValidJotform:e=>e instanceof HTMLFormElement&&(!!e.id&&!!e.classList.contains("jotform-form")),EventObserver:function(){const e=new URLSearchParams(window.location.search),t="1"===e.get("debug"),o="1"===e.get("eventObserver");if(!window.enableEventObserver&&!o)return null;if("true"===getQuerystring("offline_forms"))return null;const r="submitObserverHandler",n=HTMLFormElement.prototype.addEventListener,i=HTMLFormElement.prototype.submit,a={[r]:null};function l({id:e,stack:t,info:o,observerSubmitEvent:r}){r.log.push({timestamp:(new Date).getTime(),id:e,info:o,...t?{stack:t}:{}})}function s({id:e,observerSubmitEvent:t}){l({id:e,observerSubmitEvent:t,info:"Validation Started"}),t.validationAttempts+=1;const o=t.formObserver,r=Object.values(t.listeners).filter((e=>null!==e.valid&&!e.valid)),n=0===r.length,a=0===Object.values(o.submit).filter((e=>e.submitted)).length;n&&a?(t.submitted=!0,t.submittedAt=(new Date).getTime().toString(),trackExecution("observerSubmitHandler_validation-passed-submitting-form"),trackSubmitDate(),l({id:e,observerSubmitEvent:t,info:"Validation Complete. Valid Submit."}),i.apply(o.form)):l({id:e,observerSubmitEvent:t,info:"Validation Complete. Invalid Submit.\nNumber of invalid events: "+r.length+".\nPreviously submitted: "+!a+"."})}function c(e,t){const o=a[t];if(!o)return;e.preventDefault();const r=(new Error).stack,n=r?r.split("    at ").splice(2).join("\n"):"";trackExecution("observerSubmitHandler_received-submit-event");const i={id:generateUUID(t),createdAt:(new Date).getTime(),validationAttempts:0,submitter:e.submitter||null,submitted:null,submittedAt:null,listeners:{},log:[],get stack(){return n},get formObserver(){return o}},c=Object.keys(o.submit).length;o.submit[c]=i,o.listeners.forEach((function(e,t){if("submit"!==e.eventKey)return;const o=e.name+"_"+t;i.listeners[o]=(()=>{function t(e){const t=(new Error).stack,r=t?t.split("    at ").splice(2).join("\n"):"";l({id:o,observerSubmitEvent:i,info:`${e}() invoked`,stack:r})}let r=null;return{name:o,eventKey:e.eventKey,handler:e.handler,order:e.order,get valid(){return r},event:{stop(){t("stop")},preventDefault(){t("preventDefault")},stopPropagation(){t("stopPropagation")},stopImmediatePropagation(){t("stopImmediatePropagation")},composedPath(){t("composedPath")},get valid(){return r},get submitter(){return i.submitter},get eventId(){return i.id},set valid(e){if("boolean"!=typeof e&&null!==e)return;const t=(new Error).stack,n=t?t.split("    at ").splice(2).join("\n"):"";r!==e?(r=e,l({id:o,observerSubmitEvent:i,stack:n,info:"valid: "+e}),i.validationAttempts&&(i.submitted||s({id:o,observerSubmitEvent:i}))):l({id:o,stack:n,observerSubmitEvent:i,info:"valid already set to: "+e})}}}})()}));Object.values(i.listeners).sort(((e,t)=>e.order-t.order)).forEach((e=>{if("function"==typeof e.handler){l({id:e.name,observerSubmitEvent:i,info:e.name+": start"});try{e.handler.call(o.form,e.event)}catch(t){l({id:e.name,observerSubmitEvent:i,info:"Error: Failed in try catch.",stack:String(t)})}l({id:e.name,observerSubmitEvent:i,info:e.name+": end"})}})),s({id:"Observer",observerSubmitEvent:i})}return HTMLFormElement.prototype.addEventListener=function(e,o,i){if(t&&console.log({eventKey:e,handler:o,options:i}),!JotForm.isValidJotform(this)||o.name===r)return void n.apply(this,arguments);const l=(new Error).stack,s=l?l.split("    at ").splice(2).join("\n"):"",c=o.name&&"responder"!==o.name?o.name:s?s.includes("for-widgets-server.js")?"forWidgetServer":s.includes("jquery-3.7.1")?"jqueryEventWrapper":s.includes("/vendor/maskedinput_")?"maskedInputWrapper":"anon":"anon-noStack",u=i&&"boolean"!=typeof i&&"object"==typeof i&&"number"==typeof i.order?i.order:0,d={eventKey:e,name:c,handler:o,stack:s,order:u};a[this.id]||(a[this.id]={form:this,listeners:[],submit:{},submitDirect:{}}),a[this.id].listeners.push(d)},HTMLFormElement.prototype.submit=function(){if(!JotForm.isValidJotform(this))return void i.apply(this);const e=(new Error).stack||"",o=e.split("    at ");if(Array.isArray(o)&&o.length>2){const r=o[3],n=this.id,i=a[n],l=i.submitDirect[r],s="number"==typeof l?l+1:0;if(s>4)return t&&console.log(r,"Submit count is greater than 4 - returning void"),window.JotForm.errorCatcherLog({message:{stack:e,formId:n,handler:r}},"EventObserver: form.submit() exceeded call amount"),void(i.submitDirect[r]=0);const c=i.submit&&Object.values(i.submit).find((e=>Boolean(e.submitted)));if(t&&console.log({handlerName:r,invokedCount:s}),c)return void(t&&console.log("Form submitted. Returning void."))}t&&console.log("form.submit() was called on a jotform form",this,"calling form.requestSubmit()"),"function"==typeof window.HTMLFormElement.prototype.requestSubmit?this.requestSubmit():i.call(this)},Object.defineProperty(c,"name",{enumerable:!1,configurable:!1,writable:!1,value:r}),a.getLatestSubmitLog=()=>{const e=document.querySelector("form.jotform-form");if(!(e instanceof HTMLFormElement))return null;const t=JotForm.EventObserver[e.id];if(!t||!t.submit||!Object.keys(t.submit).length)return null;const o=t.submit[Object.keys(t.submit).length-1];return o?o.log:null},a[r]=c,a}(),encryptAll:function(e,t){e.stop(),e.valid=!1;var o=getFieldsToEncrypt();if("JF-CSE-V2"===JotForm.encryptionProtocol)if(JotForm.isEditMode()){var r=document.querySelector(".jotform-form"),n=r?r.getAttribute("id"):"",i=JotCrypto.getEncryptionKey("JF-CSE-V2",n),a=JotForm.submissionDecryptionKey;if(!i)return t(!1),void JotForm.error("Missing encryption key!");Promise.all(o.map((function(e){return setUnencryptedValueToForm(e),JotCrypto.reEncrypt(i,a)(e.value).then((function(t){return Promise.resolve({field:e,encryptedValue:t})}))}))).then((function(e){e.map(setEncryptedValue);var o=shouldSubmitFormAfterEncrypt();t(o)})).catch((function(e){console.log("Encryption v2 error ",e.message)}))}else JotCrypto.encrypt(JotForm.encryptionPublicKey).then((function(e){return addEncryptionKeyToForm(e.encryptedAESKey),Promise.all(o.map((function(t){return setUnencryptedValueToForm(t),e.run(t.value).then((function(e){return Promise.resolve({field:t,encryptedValue:e})}))})))})).then((function(e){e.map(setEncryptedValue);var o=shouldSubmitFormAfterEncrypt();t(o)})).catch((function(e){console.log("Encryption v2 error ",e.message)}));else{o.forEach((function(e){setUnencryptedValueToForm(e),setEncryptedValue({field:e,encryptedValue:JotEncrypted.encrypt(e.value)})}));var l=shouldSubmitFormAfterEncrypt();t(l)}},getServerURL:function(){const e=document.querySelector(".jotform-form");let t;const o=window.location.origin||window.location.protocol+"//"+window.location.hostname;if(e){if(o.includes("jotform.ooo")&&void 0!==JotForm.hipaa&&JotForm.hipaa)return this.server="https://hipaa.jotform.ooo/server.php",void(this.url="https://hipaa.jotform.ooo/");if(o.includes(".jotform.pro")||o.includes(".jotform.ooo"))return this.server=o+"/server.php",void(this.url=o+"/");if(t=e.readAttribute("action"))if(t.includes("submit.php")||t.includes("server.php")){const e=t.includes("server.php")?"server":"submit";this.server=t.replace(e+".php","server.php"),this.url=t.replace(e+".php","")}else{let e=t.replace(/\/submit\/.*?$/,"/");t.includes("pci.jotform.com")&&(e=e.replace("pci.","submit.")),void 0!==JotForm.enterprise&&JotForm.enterprise?e="https://"+JotForm.enterprise+"/":void 0!==JotForm.hipaa&&JotForm.hipaa&&(e="https://hipaa.jotform.com/"),this.server=e+"server.php",this.url=e}}},checkConditionDebugMode:function(){window&&-1!==window.location.href.indexOf("conditionDebug")&&(this.isConditionDebugMode=!0)},isAgentEmbed:function(){return window.self!==window.top&&window.location.href.indexOf("isAIAgentEmbed")>-1},initEmbeddedAgent:function(e=""){if(window.AgentInitializer&&!this.isAgentEmbed()){const t=window.location.search,o=new URLSearchParams(t).get("agentChatID"),r=o?`chatID=${o}`:"",n=new URLSearchParams(window.location.search).get("isAgentInitialOpen"),i="true"===n||"false"!==n&&void 0;let a={formID:this.getFormId(),queryParams:["projectName=formHelperAgent","skipWelcome=1",r,e?`fullStoryUrl=${e}`:"","maximizable=1","embedModeVariant=formHelper"],domain:window.location.origin,isInitialOpen:i,embedModeVariant:"formHelper",isDraggable:window.location.href.includes("isAgentDraggable")};if(window.formHelperAgentProp){const{agentHeaderBackgroundColor:e,avatarIconLink:t,agentRenderURL:o,...r}=JSON.parse(window.formHelperAgentProp);r.loggedInUser&&(!r.loggedInUser||r.loggedInUser.name||r.loggedInUser.username)||nameInputListenerForAssistantTooltip(),putChatIDInForm(new URL(o).origin),a={...a,background:e,avatarURL:t,agentRenderURL:o,...r}}window.agentInitialized=!0;const l="cardform"===window.FORM_MODE&&null!==document.querySelector(".welcomeMode"),s=!!JotForm.importedPDF&&"welcomeMode"===document.querySelector("html").getAttribute("data-mode");if(l||s){const e=s?".js-pdfStartFilling":"#jfCard-welcome-start",t=document.querySelector(e);t&&t.addEventListener("click",(()=>{const e=window.AgentInitializer.init(a);window.embeddedAgentMethods=e}))}else{const e=window.AgentInitializer.init(a);window.embeddedAgentMethods=e}}},getAPIEndpoint:function(){return this.APIUrl||this.setAPIUrl(),this.APIUrl},alterTexts:function(e,t){t&&e?(Object.extend(this.paymentTexts,e),this.changePaymentStrings(e)):Object.extend(this.texts,e||{})},ie:function(){for(var e=3,t=document.createElement("div"),o=t.getElementsByTagName("i");t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e",o[0];);return e>4?e:undefined},errorCatcherLog:function(e,t){try{if(!location.href.includes("form-templates")){var o=this,r=document.getElementsByName("formID")[0].value,n={stack:e.stack||e.message,agent:navigator.userAgent,referrer:location.href};"VALIDATED_REQUIRED_FIELD_IDS"===t&&(n={validatedRequiredFieldIDs:e.validatedRequiredFieldIDs,agent:navigator.userAgent,referrer:location.href},JotForm.isEditMode()?n.submissionID=document.querySelector('input[name="editSubmission"]').value:n.eventID=document.querySelector('input[name="event_id"]').value);var i=JSON.stringify({data:n,title:t});if(o.totalLogCount>100)return;o.totalLogCount++,JotForm.createXHRRequest(JotForm.getAPIEndpoint()+"/formInitCatchLogger/"+r,"post",i,(function(e){console.log(e)}),(function(e){o.totalLogCount--,console.log(e)}))}}catch(e){console.log(e)}},createConsole:function(){["log","info","warn","error"].forEach(function(e){this[e]=function(){if(JotForm.debug&&"console"in window)try{console[e].apply(this,arguments)}catch(t){"string"==typeof arguments[0]?console.log(e.toUpperCase()+": "+arguments.join(", ")):JotForm.browserIs.ie8AndBelow()?alert(e+": "+arguments[0]):console[e](arguments[0])}}}.bind(this)),JotForm.debug&&(JotForm.debugOptions=document.readJsonCookie("debug_options"))},generatePaymentTransactionId:function(){var e=document.getElementById("paymentTransactionId");if(void 0!==e&&null!=e){var t=Date.now();JotForm._xdr(JotForm.getAPIEndpoint()+"/payment/generateTransactionId?ms="+t,"GET",null,(function(t){t.content&&(e.value=t.content)}),(function(e){console.log("err",e)}))}},domObserver:({resizeObserver:{resizeActive:e,resizeCallback:t,resizeElement:o},mutationObserver:{mutationActive:r,mutationCallback:n,mutationElement:i,mutationConfig:a}})=>{if(e){new ResizeObserver(t).observe(o)}if(r){new MutationObserver(n).observe(i,a)}},init:function(e){var t=performance.now(),o=function(){try{if(isIframeEmbedFormPure()&&JotForm.isFormInNewIframeHeightCalculation()&&JotForm.domObserver({resizeObserver:{resizeActive:!0,resizeCallback:JotForm.newHandleIframeHeight,resizeElement:document.body},mutationObserver:{mutationActive:!0,mutationCallback:JotForm.newHandleIframeHeight,mutationElement:document.documentElement,mutationConfig:{attributes:!0,attributeFilter:["data-mode"],childList:!0,subtree:!0}}}),"IntersectionObserver"in window){const e=window.innerWidth<600,t={root:null,rootMargin:e?"0px 0px -5px 0px":"0px 0px -10% 0px",threshold:e?[.01,.05,.1]:[0,.25,.5,.75,.9]},o=[...document.querySelectorAll('[data-type="oembed"]')].filter((e=>(e.tempSrc=e.src,e.src="",e)));let r=!1;if(o.length>0){const e=new IntersectionObserver((t=>{t.forEach((t=>{const o=t.target,n=document.querySelector(".jfWelcome-wrapper"),i=Boolean(n&&n.classList.contains("hidden")),a="cardform"===window.FORM_MODE;if(t.isIntersecting){if(a&&!i&&r)return;r=!0,o.src=o.tempSrc,e.unobserve(o)}}))}),t);o.forEach((t=>{e.observe(t)}))}}this.jsForm||"true"!==getQuerystring("jsForm")||(this.jsForm=!0,window.CardForm&&(window.CardForm.jsForm=!0)),trackExecution("init-started");const J=performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if("back_forward"===(J&&J.type)&&JotForm.enableButtons(),window.FS){window.onFSError=()=>this.initEmbeddedAgent(),window._fs_ready=()=>{this.initEmbeddedAgent(window.FS.getCurrentSessionURL())};var t=1,o=setInterval((()=>{if(!window.AgentInitializer||window.agentInitialized||this.isAgentEmbed())t>2&&clearInterval(o);else{clearInterval(o);var e=window.FS&&window.FS.getCurrentSessionURL&&window.FS.getCurrentSessionURL();this.initEmbeddedAgent(e||"")}t++}),3e3)}else this.initEmbeddedAgent();(1==document.get.agentPhoneCall||document.get.chatID)&&appendHiddenInput("chatID",document.get.chatID),"function"==typeof window.initializeSignaturePad&&window.initializeSignaturePad();var r=document.querySelector(".jotform-form"),n="true"===getQuerystring("preview"),i=r.id,a=generateUUID(i);if(n||location&&location.href&&-1===location.href.indexOf("&nofs")&&-1===location.href.indexOf("&sid")&&appendHiddenInput("event_id",a),JotForm.EventObserver&&(r.addEventListener("submit",(function(e){JotForm.EventObserver.submitObserverHandler(e,r.id)})),r.addEventListener("submit",(function(e){e.valid=JotForm.validateAll(r)}),{order:-1})),HTMLFormElement.prototype.submit=(S=HTMLFormElement.prototype.submit,function(){try{if(!JotForm.payment&&!JotForm.ignoreDirectValidation){if(!JotForm.validateAll(this))return JotForm.enableButtons(),JotForm.showButtonMessage(),JotForm.updateErrorNavigation(!0),trackExecution("direct-validation-failed"),!1;trackExecution("direct-validation-passed")}trackSubmitSource("direct")}catch(e){console.log(e)}if("stripeCheckout"===JotForm.payment){var e=document.querySelector('input[name="simple_fpc"]'),t=e&&e.value;$$("#id_"+t+" .form-checkbox, .form-radio").each((function(e){e.disabled&&e.checked&&e.enable()}))}return JotForm.ignoreDirectValidation=!1,S.apply(this,arguments)}),r.reset&&r.autocomplete&&"off"===r.autocomplete&&(-1===window.navigator.userAgent.indexOf("MSIE ")&&-1===window.navigator.userAgent.indexOf("Trident/")||r.reset()),window.onpageshow=function(e){e.persisted&&(JotForm.fromBFCache=!0,JotForm.browserIs.ios()?window.location.reload():JotForm.browserIs.safari()&&document.querySelectorAll(".qq-upload-success").forEach((function(e){var t=e.parentElement;JotForm.removeFile({fileElement:e,fileName:e.getAttribute("actual-filename"),hiddenTempUploadInput:document.querySelector('[name^="temp_upload["]')}),t&&t.dispatchEvent(new Event("change",{bubbles:!0}))})))},this.populateGet(),this.debug="1"===document.get.debug,this.createConsole(),this.getServerURL(),this.checkConditionDebugMode(),this.checkJSON(),e)try{e()}catch(e){console.log(e)}if(Array.from(document.forms).forEach((function(e){e.name!=="form_"+e.id&&e.name!=="q_form_"+e.id||JotForm.forms.push(e)})),isIframeEmbedFormPure()&&(window.addEventListener("load",(function(){JotForm.handleIFrameHeight()})),void 0!==JotForm.importedPDF&&"undefined"!=typeof MutationObserver&&"undefined"!=typeof ResizeObserver&&JotForm.importedPDF)){new MutationObserver((()=>JotForm.handleIFrameHeight())).observe(document.documentElement,{attributes:!0,attributeFilter:["data-mode"]});const e=new MutationObserver((()=>{const t=document.querySelector("#pdfimporter-root .pdff-welcomeView");if(!t)return;new ResizeObserver((()=>JotForm.handleIFrameHeight())).observe(t),e.disconnect()}));e.observe(document.documentElement,{childList:!0,subtree:!0})}if(-1!==window.location.pathname.indexOf("/edit/")){var l=window.location.href.split("/");document.get.sid=l[l.indexOf("edit")+1],this.editMode()}if(document.get.sid&&(["edit","inlineEdit","submissionToPDF"].indexOf(document.get.mode)>-1||"true"===document.get.offline_forms)&&this.editMode(),window.JFForm&&window.JFForm.draftID&&(this.draftID=window.JFForm.draftID),this.noJump="nojump"in document.get,this.uniqueID=this.uniqid(),this.sessionID=!!JotForm.validateSessionID(document.get.session)&&document.get.session,this.submissionToken=document.get.stoken||!1,this.submissionID=document.get.sid||!1,this.handleSavedForm(),this.setHTMLClass(),this.getDefaults(),this.noJump&&window.parent.postMessage("removeIframeOnloadAttr","*"),"1"===getQuerystring("itemCatalog")){const e=Boolean(document.querySelector('[data-payment="true"]')),t=Boolean(document.querySelector('[data-payment="newpayment"]'));(e||t)&&this.loadStyleSheet("../css/styles/payment/payment_ai_catalog.css")}var s=document.querySelector('input[name="simple_fpc"]');if(s&&(this.payment=s.getAttribute("data-payment_type")),document.querySelector(".form-product-custom_price")&&this.handleSubscriptionPrice(),document.querySelector("#payment-category-dropdown")&&this.handleProductCategoryDropdown(),"paypalpro"===this.payment&&this.handlePaypalPro(),"cybersource"===this.payment&&this.handleCybersource(),"braintree"===this.payment&&this.handleBraintree(),"pagseguro"===this.payment&&this.handlePagseguro(),"square"===this.payment&&this.handleSquare(),"mollie"===this.payment&&this.handleMollie(),"sensepass"===this.payment&&this.handleSensepass(),"stripeACH"===this.payment&&this.handleStripeACH(),"authnet"===this.payment&&this.handleAuthNet(),"bluepay"===this.payment&&this.handleBluepay(),"bluesnap"===this.payment&&this.handleBluesnap(),["cardconnect","paysafe","chargify","payjunction"].indexOf(this.payment)>-1&&this.PCIGatewaysCardInputValidate(),"paypalexpress"===this.payment&&this.handlePaypalExpress(),"echeck"===this.payment&&this.handleEcheck(),"paypalSPB"===this.payment){"function"==typeof JotForm.browserInformations&&appendHiddenInput("browserDetails",JotForm.browserInformations());var c=setInterval(function(){"undefined"!=typeof __paypalSPB&&"undefined"!=typeof paypal&&(clearInterval(c),this.handlePaypalSPB())}.bind(this),100)}if(document.getElementById("coupon-button")&&this.handleCoupon(),"undefined"!=typeof PaymentStock&&setTimeout((function(){PaymentStock.initialize()}),0),document.querySelector(".paypal-button")&&document.getElementById("use_paypal_button")&&this.handlePaypalButtons(),this.handleFormCollapse(),this.handlePages(),this.checkEmbed(),this.checkPwa(),document.querySelector(".form-product-has-subproducts")&&(JotForm.newPaymentUI?this.handlePaymentSubProductsV1():this.handlePaymentSubProducts()),window.parent&&window.parent!==window){((document.referrer&&document.referrer.split("?")[1]||"").indexOf("disableSmartEmbed")>-1||!this.jsForm)&&document.querySelectorAll(".isSmartEmbed").forEach((e=>e.classList.remove("isSmartEmbed"))),this.setIFrameDeviceType(),this.handleIFrameHeight();var u=document.querySelector('li[data-type="control_captcha"]:not(.always-hidden)');if(u)var d=0,m=setInterval((function(){d>5&&clearInterval(m),u.querySelectorAll("iframe").length&&(JotForm.handleIFrameHeight(),clearInterval(m)),d++}),1e3)}else document.querySelectorAll(".isSmartEmbed").forEach((e=>e.classList.remove("isSmartEmbed")));Element.prototype.triggerEvent=function(e){var t=!(!this.hasClassName("form-dropdown")||!this.disabled)&&!!this.enable();if(document.createEvent){var o=document.createEvent("HTMLEvents");o.initEvent(e,!0,!0),this.dispatchEvent(o)}else this.fireEvent&&this.fireEvent("on"+e);t&&this.disable()},this.jumpToPage(),JotForm.getPrefillToken()?document.addEventListener("PrefillCompleted",this.highLightLines):this.highLightLines(),this.handleWidgetMessage(),this.setButtonActions(),this.initGradingInputs(),this.initSpinnerInputs(),this.initNumberInputs(),this.handleZeroQuantityProducts(),this.initTextboxValidation(),this.setAPIUrl(),this.initPrefills(),this.createManualPrefill(),document.querySelector(".js-new-sacl-button, .jfFormUser-header-saveAndContinueLater-button")&&!window.JotForm.isNewSACL&&(JotForm.isNewSACL=!0),"paypalcomplete"===this.payment&&this.handlePaypalComplete(),"1"===getQuerystring("jotform_pwa")&&this.setJotFormUserInfo(),getQuerystring("asanaTaskID",!1)&&this.setAsanaTaskID(),this.setConditionEvents(),this.setCalculationEvents(),this.runAllCalculations(),this.setCalculationResultReadOnly(),this.prePopulations(),JotForm.onTranslationsFetch((function(){if(document.createEvent)try{var e=new CustomEvent("PrepopulationCompleted");document.dispatchEvent(e)}catch(e){console.log(e)}})),this.handleSSOPrefill(),this.handleAutoCompletes(),this.handleTextareaLimits(),this.handleDateTimeChecks(),this.handleTimeChecks(),this.handleOtherOptions(),this.setFocusEvents(),this.disableAcceptonChrome(),this.handleSignatureEvents(),this.handleSignSignatureInputs(),this.handleFITBInputs(),this.setupFormSettledEvent(),(JotForm.newDefaultTheme||JotForm.extendsNewTheme)&&(this.initTestEnvForNewDefaultTheme(),this.initTimev2Inputs(),this.initDateV2Inputs(),this.getMessageFormTermsAndCondition(),this.initOtherV2Options(),this.dropDownColorChange()),this.validator(),this.fixIESubmitURL(),this.disableHTML5FormValidation(),this.adjustWorkflowFeatures(),this.handleWorkflowInternalForm(),this.generatePaymentTransactionId(),calculateTimeToSubmit(),this.setDataCSSSelector(),document.getElementById("progressBar")&&this.setupProgressBar(),document.querySelector('input[id*="_donation"]')&&this.handleDonationAmount(),document.querySelector('input[id*="_custom_price"]')&&"subscription"===window.paymentType&&void 0!==this.validateCustomPriceField&&this.validateCustomPriceField(),getQuerystring("nosubmit")&&document.querySelectorAll(".form-submit-button").forEach((function(e){e.disabled=!0,e.classList.add("conditionallyDisabled")})),getQuerystring("displayAllSections")&&document.querySelectorAll(".form-section").forEach((function(e){e.style.display="block"})),n?this.handlePreview("true"===getQuerystring("filled")):this.initializing&&this.isFormViewTrackingAllowed&&this.track(a),this.isWorkflowForm&&this.setupWorkflowOutcomes(),this.additionalActionsFormEmbedded();var p=function(){var e=document.querySelector(".form-all"),t=e.querySelector(".badge-wrapper");if(t)return t;var o,r=((o=document.createElement("div")).setAttribute("class","badge-wrapper"),o);return e.appendChild(r),r},f=function(e){p().appendChild(e),e.addEventListener("load",JotForm.handleIFrameHeight)},h=function(e,t,o,r,n,i){var a=document.querySelector('input[name="formID"]').value,l=document.createElement("img");l.className=t,l.src=e,l.alt=o,l.style.display="block",l.style.width="95px";var s=document.createElement("a");s.setAttribute("class","badge-wrapper-button "+t+"-wrapper"),JotForm.enterprise||(s.setAttribute("href",r+"/?utm_source=formfooter&utm_medium=banner&utm_term="+a+"&utm_content="+n+"&utm_campaign=form_badges"+i),s.setAttribute("target","_blank")),s.appendChild(l),f(s)};if(JotForm.showHIPAABadge?h("https://cdn.jotfor.ms/assets/img/uncategorized/hipaa-badge-compliance.png","hipaa-badge","HIPAA Compliance Form","https://www.jotform.com/hipaa","hipaa_compliant",""):"old_footer"===JotForm.showJotFormPowered&&"Yes"!==window.JotForm.useJotformSign&&function(){var e=Array.from(document.querySelectorAll(".form-submit-button")).find((function(e){return!(e.classList.contains("form-sacl-button")||e.classList.contains("js-new-sacl-button"))})),t=JotForm.newDefaultTheme&&JotForm.poweredByText?JotForm.poweredByText.replace(/Jotform/,"<b>Jotform</b>"):JotForm.poweredByText;if(window&&-1!==window.location.href.indexOf("branding21")&&(t=t.replace("JotForm","Jotform")),e){var o=e.parentNode,r=document.createElement("a");r.target="_blank",r.href="https://www.jotform.com/?utm_source=powered_by_jotform&utm_medium=banner&utm_term="+i+"&utm_content=powered_by_jotform_text&utm_campaign=powered_by_jotform_signup_hp",r.setText(t),r.style.display="inline-block";var n="#000000",a="",l=document.querySelector(".form-label");if(null!==l){var s=getComputedStyle(l);n=s.color,a=s.fontFamily}if(r.style.opacity=.8,r.style.webkitFontSmoothing="antialiased",r.style.color=n,r.style.fontFamily=a,r.style.fontSize=JotForm.newDefaultTheme?"12px":"11px",r.className="jf-branding",r.style.paddingTop="10px",JotForm.newDefaultTheme){var c=document.createElement("div");c.className="submitBrandingWrapper",c.style.flexDirection="column",c.appendChild(e),c.appendChild(r),o.appendChild(c)}else{var u=o.parentNode;u.appendChild(r),u.style.display="flex",u.style.flexDirection="column",r.style.textAlign="center",r.style.paddingBottom="10px"}if("center"!==getComputedStyle(o).textAlign){var d=r.getBoundingClientRect(),m=e.getBoundingClientRect(),p=Math.abs((d.width-m.width)/2);d.width>m.width?r.style.marginLeft="-"+p+"px":r.style.marginLeft=p+"px"}}}(),JotForm.isEncrypted&&"cardform"!==window.FORM_MODE&&h("https://cdn.jotfor.ms/assets/img/uncategorized/encrypted-form-badge.png","encrypted-form-badge","Encrypted Form","https://www.jotform.com/encrypted-forms","encrypted_form",""),JotForm.showA11yBadge){var g=document.querySelector('input[name="formID"]').value,v=document.createElement("img");v.className="accessibility-badge",v.src="https://cdn.jotfor.ms/assets/img/uncategorized/access-image.png",v.alt="accessibility badge",v.style.display="block",v.style.width="54px";var y=document.createElement("a");y.setAttribute("class","badge-wrapper-button accessibility-badge-wrapper"),JotForm.enterprise||(y.setAttribute("href","https://www.jotform.com/accessible-forms/?utm_source=formfooter&utm_medium=banner&utm_term="+g+"&utm_content=accessibility_enabled_form&utm_campaign=form_badges"),y.setAttribute("target","_blank"));var F=document.createElement("div");F.setAttribute("class","a11y-content");var b=document.createElement("div");b.setAttribute("class","a11y-title"),b.textContent="ACCESSIBILITY";var w=document.createElement("div");w.setAttribute("class","a11y-subtitle"),w.textContent="ENABLED FORM",F.appendChild(b),F.appendChild(w),y.appendChild(v),y.appendChild(F),f(y)}if(void 0!==JotForm.enterprise&&JotForm.enterprise&&appendHiddenInput("enterprise_server",JotForm.enterprise,{id:"enterprise_server"}),JotForm.hipaa&&(appendHiddenInput("file_server","hipaa-app1",{id:"file_server"}),appendHiddenInput("target_env","hipaa",{id:"target_env"})),r){var _=!1;if(/Android|iPhone|iPad|iPod|Opera Mini/i.test(navigator.userAgent)){var E=document.querySelectorAll('form input:not([type="hidden"], [name="website"], [data-age]), form textarea:not([type="hidden"])');Array.from(E).forEach((function(e,t){e.addEventListener("keypress",(function(e){var o=E[t+1];13===e.keyCode&&o&&"textarea"!==e.target.type?(e.preventDefault(),_=!0,o.focus()):_=!1}))}))}r.addEventListener("submit",(function(e){"undefined"!=typeof punycode&&document.querySelectorAll('input[type="email"]').forEach((function(e){e.value=punycode.toASCII(e.value)})),_&&!e.isTrusted&&(e.valid=!1,e.preventDefault()),e.valid=!0}))}JotForm.newDefaultTheme&&(window.newDefaultTheme="v2"),window.addEventListener("load",(function(){if(JotForm.makeReadyWidgets(),null!==history.state&&void 0!==history.state.submitted&&history.state.submitted){history.replaceState({submitted:!1},null,null);var e=null;void 0!==window.CardForm&&(CardForm.cards.forEach((function(t,o){"products"===t.type&&(e=o)})),null!==e&&(CardForm.setFormMode("form"),CardForm.setCardIndex(e)))}}))}catch(e){if(trackExecution("init-error"),JotForm.error(e),JotForm.validatorExecuted)this.errorCatcherLog(e,"FORM_INIT_ERROR");else try{this.errorCatcherLog(e,"FORM_VALIDATION_NOT_ATTACHED"),this.validator(),this.disableHTML5FormValidation()}catch(e){this.errorCatcherLog(e,"FORM_VALIDATOR_ERROR")}}var S;this.initializing=!1;var J=new CustomEvent("JotformReady");document.dispatchEvent(J),window.self!==window.top&&JotForm.isPaymentSelected()&&window.paymentType&&JotForm.countTotal(JotForm.prices),trackExecution("init-complete")}.bind(this),r=function(){new Promise(((e,t)=>{window.JotForm.texts&&0!==Object.keys(window.JotForm.texts).length?e("Form texts already in window"):(JotForm.setAPIUrl(),JotForm.createXHRRequest(JotForm.getAPIEndpoint()+"/form/staticTexts","GET",null,(function(t){window.JotForm.texts=t&&t.content&&"object"==typeof t.content?t.content:{},e("Successfully fetched form texts")}),(function(e){console.log(e),t("Form texts could not be fetched")})))})).then(o).catch((e=>{console.error("An error occurred in source code compatibility fixers:",e),o()}))};"complete"===document.readyState||this.jsForm&&(void 0===document.readyState||"interactive"===document.readyState)?r():document.ready(r);const{getLoops:n,getCalculationMap:i}=this.conditionDebugger();this.loopMap=n(),this.calculationMap=i(),this.loopMapExist=this.loopMap&&this.loopMap.size,"function"==typeof __conditionDebugger_logPerformance?__conditionDebugger_logPerformance([{title:"Form Initialization",value:(performance.now()-t).toFixed(2)}]):window.__pushInitDataInterval||(window.__pushInitDataTries=0,window.__pushInitDataInterval=setInterval((function(){"function"==typeof __conditionDebugger_logPerformance&&(__conditionDebugger_logPerformance([{title:"Form Initialization",value:(performance.now()-t).toFixed(2)}]),clearInterval(__pushInitDataInterval)),__pushInitDataTries>30&&clearInterval(__pushInitDataInterval),__pushInitDataTries++}),50))},browserIs:{userAgent:"navigator"in window&&"userAgent"in navigator&&navigator.userAgent.toLowerCase()||"",vendor:"navigator"in window&&"vendor"in navigator&&navigator.vendor.toLowerCase()||"",appVersion:"navigator"in window&&"appVersion"in navigator&&navigator.appVersion.toLowerCase()||"",chrome:function(){return/chrome|chromium/i.test(this.userAgent)&&/google inc/.test(this.vendor)},firefox:function(){return/firefox/i.test(this.userAgent)},ie:function(){return/msie/i.test(this.userAgent)||"ActiveXObject"in window||/edge\//i.test(this.userAgent)},safari:function(){return/safari/i.test(this.userAgent)&&/apple computer/i.test(this.vendor)},operabrowser:function(){return this.userAgent.indexOf("Opera")>-1},iphone:function(){return/iphone/i.test(this.userAgent)||/iphone/i.test(this.appVersion)},ipad:function(){return/ipad/i.test(this.userAgent)||/ipad/i.test(this.appVersion)},ios:function(){return this.iphone()||this.ipad()},android:function(){return/android/i.test(this.userAgent)},androidPhone:function(){return this.android()&&/mobile/i.test(this.userAgent)},androidTablet:function(){return this.android()&&!this.androidPhone()},blackberry:function(){return/blackberry/i.test(this.userAgent)||/BB10/i.test(this.userAgent)},linux:function(){return/linux/i.test(this.appVersion)},mac:function(){return/mac/i.test(this.appVersion)},windows:function(){return/win/i.test(this.appVersion)},windowsPhone:function(){return this.windows()&&/phone/i.test(this.userAgent)},windowsTablet:function(){return this.windows()&&!this.windowsPhone()&&/touch/i.test(this.userAgent)},mobile:function(){return this.iphone()||this.androidPhone()||this.blackberry()||this.windowsPhone()},tablet:function(){return this.ipad()||this.androidTablet()||this.windowsTablet()},desktop:function(){return!this.mobile()&&!this.tablet()},webkit:function(){return-1!==this.userAgent.indexOf("applewebkit")},ie8AndBelow:function(){return"function"!=typeof window.addEventListener}},hasAccessToLocalStorage:function(){var e="test",t="jflocalStorage_test";try{if(!window.localStorage)return!1;if(window.localStorage.setItem(t,e),window.localStorage.getItem(t)===e)return window.localStorage.removeItem(t),!0}catch(e){return console.log("Error: unable to access local storage"),!1}return!1},iframeRezizeTimeout:null,iframeHeightCaller:function(){window.parent&&window.parent!=window&&(clearTimeout(this.iframeRezizeTimeout),this.iframeRezizeTimeout=setTimeout(function(){this.handleIFrameHeight()}.bind(this),50))},setIFrameDeviceType:function(){"cardform"===window.FORM_MODE&&window.parent.postMessage("setDeviceType:"+window.CardLayout.layoutParams.deviceType+":","*")},setupWorkflowOutcomes:function(){const e=document.querySelector('.wfOutcomes[data-component="workflow_outcomes"]'),t=e.querySelector(".wfOutcomes-list"),o=t.querySelectorAll(".wfOutcomes-list-item"),r=e.querySelector(".wfOutcomes-list-button"),n=r.querySelector(".wfOutcomes-list-button-text");e.addEventListener("click",(()=>{t.classList.toggle("isVisible")})),document.addEventListener("click",(e=>{e.target!==t&&t.classList.contains("isVisible")&&t.classList.remove("isVisible")}),!0),t.addEventListener("click",(e=>{e.stopPropagation()})),o.forEach((e=>{e.addEventListener("click",(i=>{o.forEach((e=>{e.querySelector(".wfOutcomes-list-item-input").removeAttribute("checked")})),e.querySelector(".wfOutcomes-list-item-input").setAttribute("checked",""),n.innerText=e.innerText,r.setAttribute("style",e.readAttribute("style")),t.classList.remove("isVisible"),i.stopPropagation()}))}))},conditionDebugger:function(){let e=null,t=null;const o=()=>{e||(e=new Map,JotForm.calculations.forEach((t=>{const{operands:o,resultField:r,baseField:n}=t,i=o?o.split(","):[n].filter(Boolean);i.length&&i.forEach((t=>{e.has(t)||e.set(t,new Set),e.get(t).add(r)}))})))},r=(o=[],n)=>{o.has(n)?t.set(n,[...t.get(n),...o]):o.forEach((o=>{const i=e.get(o);i&&!i.has(o)&&-1===t.get(n).indexOf(o)&&(t.set(n,[...t.get(n),o]),r(i,n))}))},n=()=>{t||(t=new Map),e.forEach(((e,o)=>{t.has(o)||t.set(o,[]),r(e,o)}))};return{resolveCalculationMap:o,resolveLoops:n,getLoops:r=>(e||o(),t||n(),t.forEach(((e,o)=>{-1===e.indexOf(o)&&t.delete(o)})),r?t.get(`${r}`):t),getCalculationMap:()=>e}},calendarCheck:function(){var e=JotForm.currentSection;e||(e=document.querySelector(".form-section"));var t=e.querySelectorAll(".form-line").length,o=!1;return e.querySelectorAll(".form-line").forEach((function(e,r){if(r>=t-2&&"control_datetime"===e.dataset.type){var n=e.id.split("_")[1];o=JotForm.getCalendar(n)}})),o},getFormId:function(){var e=document.querySelector("form");return e&&e.id?e.id:""},isFormInNewIframeHeightCalculation:function(){return!1},resetGRECaptcha:function(){try{window.hcaptcha||!window.grecaptcha||"function"!=typeof window.grecaptcha.reset||window.grecaptcha.resetted||(window.grecaptcha.resetted=!0,window.grecaptcha.reset(),console.log("grecaptcha resetted"))}catch(e){console.log("grecaptcha - ",e)}},postHeightForOEmbed(e){window.location&&"oembed.jotform.com"===window.location.host&&window.parent.postMessage(JSON.stringify({src:window.location.toString(),context:"iframe.resize",height:e}),"*")},newHandleIframeHeight:function(){const e=JotForm.handleIFrameHeight(!0);if(e){if(Math.abs(JotForm.prevEmbedFormHeight-e)<=5)return;"console"in window&&"log"in console&&JotForm.debug&&console.log("Debug : setting height to ",e," from new iframe height handler"),window.parent.postMessage("setHeight:"+e+":"+JotForm.getFormId(),"*"),this.postHeightForOEmbed(e),JotForm.prevEmbedFormHeight=e}},handleIFrameHeight:function(e=!1){if(JotForm.isFormInNewIframeHeightCalculation()&&!e)return;var t=document.querySelectorAll(".jotform-form").length>0?document.querySelector(".jotform-form"):document.querySelector("body"),o=Math.max(JotForm.getDimensions(t).height,t.scrollHeight,t.offsetHeight),r=document.querySelectorAll(".supernova.isEmbeded").length>0;if(r&&0===JotForm.getDimensions(t).width)return void console.warn("iframe is not visible, so we can't calculate the height");var n=document.querySelectorAll(".supernova.isEmbeddedInPortal").length>0,i=document.querySelector(".form-all"),a=getComputedStyle(i),l=parseInt(a.marginTop,10),s=parseInt(a.marginBottom,10);isNaN(l)||(o+=l),isNaN(s)||n||(o+=s);var c=document.querySelectorAll('.calendar.popup:not([style*="display: none"])');c.length>0&&c.forEach((function(e){var t=e.getBoundingClientRect().bottom;o>t||(o=t,console.log("calendar height is bigger than form height, increasing form height to "+o))}));const u="welcomeMode"===document.querySelector("html").getAttribute("data-mode");if(void 0!==JotForm.importedPDF&&"undefined"!=typeof MutationObserver&&"undefined"!=typeof ResizeObserver&&JotForm.importedPDF&&u){const e=document.querySelector("#pdfimporter-root .pdff-welcomeView"),t=e?Math.max(e.offsetHeight+160,539):0;o=t>0?t:o}const d=document.querySelector(".jfFormUser-header");if(d&&(o+=d.offsetHeight),o="Please Complete"===document.title?350:o,"cardform"===window.FORM_MODE){document.body.classList.add("isEmbed");var m=document.body.classList.contains("isSmartEmbed");o=m?464:640;try{var p=window.parent.document.querySelector('[id="'+t.id+'"], [id="JotFormIFrame-'+t.id+'"]');p&&p.hasAttribute("data-frameHeight")&&(o=p.getAttribute("data-frameHeight"))}catch(e){}}if(r){var f=getComputedStyle(document.querySelector(".supernova.isEmbeded")),h=f.getPropertyValue("background-image");if(h&&"none"!=h){var g=new URLSearchParams;["background-image","background-size","background-position","background-repeat","background-attachment","background-color"].forEach((function(e){g.set(e,f.getPropertyValue(e))})),window.parent.postMessage("backgroundStyles:"+g.toString()+":"+t.id,"*")}JotForm.resetGRECaptcha()}if("console"in window&&"log"in console&&JotForm.debug&&console.log("Debug : setting height to ",o," from iframe"),!("cardform"===window.FORM_MODE&&document.location.search.indexOf("feedbackEmbedButton")>-1)){if(JotForm.isFormInNewIframeHeightCalculation())return o;window.parent.postMessage("setHeight:"+o+":"+t.id,"*"),void 0!==this.postHeightForOEmbed&&this.postHeightForOEmbed(o)}},fixIESubmitURL:function(){try{this.ie()<=8&&navigator.appVersion.indexOf("NT 5.")&&$A(this.forms).each((function(e){e.action.include("s://submit.")&&(e.action=e.action.replace(/\/\/submit\..*?\//,"//secure.jotform.com/"))}))}catch(e){}},screenshot:!1,passive:!1,onprogress:!1,compact:!1,imageSaved:!1,getCharset:function(e){return e||(e=document),e.characterSet||e.defaultCharset||e.charset||"UTF-8"},bytesToSize:function(e,t){var o=["B","KB","MB","GB","TB"],r=0;if(0==e)return"n/a";if(e<1024)return Number(e)+" "+o[r];for(;e>=1024;)r++,e/=1024;return e.toFixed(t||2)+" "+o[r]},disableHTML5FormValidation:function(){document.querySelectorAll("form").forEach((function(e){e.setAttribute("novalidate",!0)}))},checkJSON:function(){if("object"!=typeof JSON){var e=document.createElement("script");e.type="text/javascript",e.src="/js/vendor/json2.js",document.body.appendChild(e)}},populateGet:function(){try{if("FrameBuilder"in window.parent&&"get"in window.parent.FrameBuilder&&window.parent.FrameBuilder.get!=[]){var e={},t=window.parent.FrameBuilder.get;$H(t).each((function(t){if("object"==typeof t[1])for(prop in t[1])e[t[0]+"["+prop+"]"]=t[1][prop];else e[t[0]]=t[1]})),document.get=Object.extend(document.get,e)}}catch(e){}},uniqid:function(e,t){var o;void 0===e&&(e="");var r=function(e,t){return t<(e=parseInt(e,10).toString(16)).length?e.slice(e.length-t):t>e.length?Array(t-e.length+1).join("0")+e:e};return this.php_js||(this.php_js={}),this.php_js.uniqidSeed||(this.php_js.uniqidSeed=Math.floor(123456789*Math.random())),this.php_js.uniqidSeed++,o=e,o+=r(parseInt((new Date).getTime()/1e3,10),8),o+=r(this.php_js.uniqidSeed,5),t&&(o+=(10*Math.random()).toFixed(8).toString()),o},initMultipleUploads:function(){var e=this,t=JotForm.isJotFormNext||/jotformNext=1/.test(window.location.href),o=JotForm.browserIs.ios()&&!JotForm.browserIs.safari();if(JotForm.browserIs.mobile()&&!t&&!o){var r=!0,n="https://cdn.jotfor.ms";(JotForm.enterprise||window.location.href.indexOf("jotform.pro")>-1)&&(n=window.location.origin);var i=n+"/s/static/latest/js/vendor/NoSleep.min.js";JotForm.loadScript(i,(function(){r=!1}));var a=function(){r||"undefined"==typeof NoSleep||((new NoSleep).enable(),document.removeEventListener("click",a,!0))};document.addEventListener("click",a,!0)}t&&JotForm.switchedToOffline&&JotForm.rawMultipleFileInputs&&JotForm.resetMultipleUploadsBasicMarkup(),"cardform"!==window.FORM_MODE&&callIframeHeightCaller(),JotForm.uploader={},$$(".form-upload-multiple").each((function(o){var r=o.up("div"),n=JotForm.getForm(o),i=n.formID.value;t&&JotForm.captureMultipleUploadsBasicMarkup(o);var a=i+"_"+JotForm.uniqueID;r.addClassName("validate[multipleUpload]"),o.className.include("validate[required]")&&-1===r.className.indexOf("validate[required]")&&r.addClassName("validate[required]"),JotForm.isFillingOffline()&&document.querySelectorAll('input[type="file"].form-upload-multiple').forEach((e=>{e.addEventListener("change",(()=>{const t=e.closest(".validate\\[multipleUpload\\]");t&&"function"==typeof t.validateInput&&t.validateInput()}))})),r.validateInput=function(){var e=JotForm.isVisible(r);if(JotForm.doubleValidationFlag()&&(e=!JotForm.isInputAlwaysHidden(r)),!e)return JotForm.corrected(r),!0;if(JotForm.isFillingOffline()){var t=r.querySelector('input[type="file"].form-upload-multiple');if(!t||!t.files||0===t.files.length)return JotForm.corrected(r),!0;var o=t.getAttribute("data-file-accept");if(!o)return JotForm.corrected(r),!0;for(var n=o.split(",").map((e=>e.trim().toLowerCase())),i=t.files,a=[],l=0;l<i.length;l++){var s=i[l],c=s.name.toLowerCase().split(".").pop();n.includes(c)||a.push(s.name)}if(a.length>0){var u=`The following file(s) have an invalid extension: ${a.join(", ")}. Allowed types: ${n.join(", ")}.`;return JotForm.errored(r,u)}return JotForm.corrected(r),!0}var d=r.select(".qq-upload-list li:not(.file-deleted)");if(d.length<1)return r.match("[class*=validate[required]]")?(JotForm.corrected(r),JotForm.errored(r,JotForm.texts.required)):(JotForm.corrected(r),!0);var m=!0;return d.each((function(e){e.getAttribute("class")&&e.getAttribute("class").indexOf("fail")>=0&&(m=!1)})),m?(JotForm.corrected(r),!0):(JotForm.errored(r,JotForm.texts.multipleFileUploads_uploadFailed),!1)},JotForm.tempUploadFolderInjected||(n.appendChild(createHiddenInputElement({name:"temp_upload_folder",value:a})),JotForm.tempUploadFolderInjected=!0);var l=(o.readAttribute("data-file-accept")||o.readAttribute("file-accept")||"").strip();l="*"!==l?l.split(",").map((function(e){return e.trim()})):[];var s,c="";(s=o.next())&&s.hasClassName("form-sub-label")&&(c=s.innerHTML);var u,d,m="Cancel",p="of";((u=o.previous(".qq-uploader-buttonText-value"))&&(d=u.innerHTML),u=o.up("li.form-line").querySelector(".jfUpload-button"))&&(d="v2"===u.readAttribute("data-version")?u.innerHTML:u.innerText);d||(d="Upload a File"),c?((u=r.querySelector(".cancelText"))&&(m=u.innerText),(u=r.querySelector(".ofText"))&&(p=u.innerText)):((u=r.siblings().find((function(e){return"cancelText"===e.className})))&&(m=u.innerText),(u=r.siblings().find((function(e){return"ofText"===e.className})))&&(p=u.innerText));var f=o.className.split(" "),h="";$A(f).each((function(e){0===e.indexOf("form-submit-button-")&&(h=e)}));try{var g=document.querySelector('input[name="event_id"]'),v=!JotForm.isFillingOffline()&&new qq.FileUploader({debug:JotForm.debug,element:r,action:JotForm.server,subLabel:c,buttonText:d,buttonStyle:h,fileLimit:o.readAttribute("data-file-limit")||o.readAttribute("file-limit"),sizeLimitActive:o.readAttribute("data-limit-file-size")||o.readAttribute("limit-file-size"),sizeLimit:1024*parseInt(o.readAttribute("data-file-maxsize")||o.readAttribute("file-maxsize"),10),minSizeLimit:1024*parseInt(o.readAttribute("data-file-minsize")||o.readAttribute("file-minsize"),10),allowedExtensions:l,cancelText:m,ofText:p,messages:{typeError:e.texts.multipleFileUploads_typeError,sizeError:e.texts.multipleFileUploads_sizeError,minSizeError:e.texts.multipleFileUploads_minSizeError,emptyError:e.texts.multipleFileUploads_emptyError,onLeave:e.texts.multipleFileUploads_onLeave,fileLimitError:e.texts.multipleFileUploads_fileLimitError},onComplete:function(e,t,i){if(console.log("onComplete",arguments),i.success){var a=o.name.replace("[]","");"message"in i&&(t=i.message);var l=[this.params.folder,a,t].join("_"),s=document.getElementById(l);if(s||(s=createHiddenInputElement({name:"temp_upload["+a+"][]",id:l}),n.appendChild(s)),s.value=t,JotForm.uploadServerURL&&(s.value=t+"#"+i.fileServer),$("draftID")){var c=[],u=["uploadNewForSACL",a].join("-"),d=document.getElementById(u);d?c=c.concat(JSON.parse(d.value)):(d=createHiddenInputElement({name:u,id:u}),n.appendChild(d)),c.push(s.value),d.value=JSON.stringify(c)}var m=document.getElementById("file_server");m||(m=createHiddenInputElement({name:"file_server",id:"file_server"}),n.appendChild(m)),m.value=i.fileServer,r.value="uploaded",r.validateInput()}},onDelete:function(e,t,o){var i=[e,t,o].join("_");if($("draftID")){var a=["uploadNewForSACL",t].join("-"),l=$(a),s=l?JSON.parse(l.value):[],c=o;if(JotForm.uploadServerURL&&(c=$(i).value),s.includes(c)){const e=s.filter((function(e){return e!==c}));e.length<1?$(a).remove():l.value=JSON.stringify(e)}else if($(i)){var u=[],d=["deletedFileForSACL",t].join("-"),m=document.getElementById(d);m?u=u.concat(JSON.parse(m.value)):(m=createHiddenInputElement({name:d,id:d}),n.appendChild(m)),u.push(c),m.value=JSON.stringify(u)}}$(i)&&$(i).remove(),r.validateInput()},showMessage:function(e){console.log("showMessage",arguments),JotForm.corrected(r),JotForm.errored(r,e)},params:{action:"multipleUpload",field:o.name?o.name.replace("[]",""):"",origin:window.location.origin||window.location.protocol+"//"+window.location.hostname,folder:a,event_id:g&&g.value},onSubmit:function(){this.params.folder=document.querySelector("input[name='temp_upload_folder']").value}});setTimeout((function(){v&&v._options&&(v._options.messages={typeError:e.texts.multipleFileUploads_typeError,sizeError:e.texts.multipleFileUploads_sizeError,minSizeError:e.texts.multipleFileUploads_minSizeError,emptyError:e.texts.multipleFileUploads_emptyError,onLeave:e.texts.multipleFileUploads_onLeave,fileLimitError:e.texts.multipleFileUploads_fileLimitError})}),1e3),JotForm.uploader[o.id]=v}catch(e){console.log(e)}})),Array.from(document.querySelectorAll(".jfUpload-text, .qq-upload-button")).forEach((function(e){var t=e.querySelector(".jfUpload-heading.forDesktop");t&&(t.textContent=JotForm.texts.dragAndDropFilesHere_infoMessage);var o=e.querySelector(".jfUpload-heading.forMobile");o&&(o.textContent=JotForm.texts.chooseAFile_infoMessage);var r=e.querySelector(".maxFileSize");r&&(r.textContent=JotForm.texts.maxFileSize_infoMessage)}))},captureMultipleUploadsBasicMarkup:function(e){JotForm.rawMultipleFileInputs||(JotForm.rawMultipleFileInputs={});var t=e.getAttribute("id").match(/input_(.*)/)[1];t&&(JotForm.rawMultipleFileInputs[t]=e.outerHTML)},resetMultipleUploadsBasicMarkup:function(){Object.keys(JotForm.rawMultipleFileInputs).forEach((function(e){const t=document.querySelector("li#id_"+e+' input[type="file"]').closest("div.validate\\[multipleUpload\\]"),o=JotForm.rawMultipleFileInputs[e];if(!t||!o)return;const r=t.querySelector("ul.qq-upload-list");let n="";for(r&&(r.querySelectorAll(".qq-upload-delete").forEach((function(e){e.parentNode.removeChild(e)})),n=r.outerHTML);t.firstChild;)t.removeChild(t.firstChild);t.insertAdjacentHTML("afterbegin",o),t.insertAdjacentHTML("beforeend",n)}))},hiddenSubmit:function(e,t){var o=document.querySelectorAll(".form-section")||null,r=JotForm.currentSection.pagesIndex,n=JotForm.newDefaultTheme&&o.length===r?".form-pagebreak-back-container":".form-pagebreak";if(JotForm.currentSection){var i=document.createElement("div");i.className="form-saving-indicator",i.style.float="right",i.style.padding="21px 12px 10px",i.innerHTML='<img src="'+JotForm.url+'images/ajax-loader.gif" align="absmiddle" /> Saving...',JotForm.currentSection.querySelector(n).appendChild(i)}setTimeout((function(){JotForm.saving=!0,JotForm.disableButtons()}),10);var a="cardform"==window.FORM_MODE;if(!$("hidden_submit_form")){var l=document.createElement("iframe");l.name="hidden_submit",l.id="hidden_submit_form",l.style.display="none",l.observe("load",(function(){JotForm.makeUploadChecks(),$$(".form-saving-indicator").invoke("remove"),JotForm.saving=!1,JotForm.enableButtons()})),$(document.body).insert(l)}if($$(".form-radio-other,.form-checkbox-other").each((function(e){!e.checked&&JotForm.getOptionOtherInput(e)&&JotForm.getOptionOtherInput(e).disable()})),$$(".custom-hint-group").each((function(e){e.hideCustomPlaceHolder()})),$("current_page")&&($("current_page").value=JotForm.currentSection.pagesIndex),e.writeAttribute("target","hidden_submit"),e.insert({top:createHiddenInputElement({name:"hidden_submission",id:"hidden_submission",value:"1"})}),a&&e.insert({top:createHiddenInputElement({name:"continueLater",id:"continueLater",value:"1"})}),trackExecution("hidden-submit-async-"+(t&&!!t.async)),t&&t.async){var s=new URL(e.action);if(e.action.include("pci.jotform")){var c=new URL(this.url);s.hostname=c.hostname}var u=new XMLHttpRequest;if(u.withCredentials=!0,u.open("POST",s,!0),u.addEventListener("load",(function(){a&&(JotForm.saving=!1,JotForm.enableButtons()),200===this.status?t.onSuccessCb&&t.onSuccessCb(this):t.onFailureCb&&t.onFailureCb(),t.onCompleteCb&&t.onCompleteCb(),e.writeAttribute("target",""),a&&$("continueLater")&&$("continueLater").remove(),$("hidden_submission")&&$("hidden_submission").remove(),$$(".custom-hint-group").each((function(e){e.showCustomPlaceHolder()})),$$(".form-radio-other,.form-checkbox-other").each((function(e){!e.checked&&JotForm.getOptionOtherInput(e)&&JotForm.getOptionOtherInput(e).enable()}))})),t&&t.isClone)for(var d=e.querySelectorAll('input[type="hidden"]'),m=0;m<d.length;m++)d[m].getAttribute("name")&&d[m].getAttribute("name").indexOf("other")>-1&&""===d[m].value&&d[m].remove();u.send(new FormData(e))}else JotForm.ignoreDirectValidation=!0,e.submit(),e.writeAttribute("target",""),a&&$("continueLater").remove(),$("hidden_submission").remove(),$$(".custom-hint-group").each((function(e){e.showCustomPlaceHolder()})),$$(".form-radio-other,.form-checkbox-other").each((function(e){!e.checked&&JotForm.getOptionOtherInput(e)&&JotForm.getOptionOtherInput(e).enable()}))},makeUploadChecks:function(){var e=$$('input[name="formID"]')[0],t={action:"getSavedUploadResults",formID:e.value,sessionID:this.sessionID};this.submissionID&&(t.submissionID=this.submissionID),this.submissionToken&&(t.submissionToken=this.submissionToken),new Ajax.Jsonp(JotForm.server,{parameters:t,evalJSON:"force",onComplete:function(t){var o=t.responseJSON;o&&o.success&&(o.submissionID&&!$("submission_id")&&(JotForm.submissionID||JotForm.setSubmissionID(o.submissionID),e.insert({after:createHiddenInputElement({name:"submission_id",id:"submission_id",value:o.submissionID})})),"cardform"===window.FORM_MODE?JotForm.editMode(o,!0,null,!0):JotForm.editMode(o,!0))}})},handleSavedForm:function(){var e="session"in document.get&&document.get.session.length>0&&document.get.session;if(JotForm.sessionID||e){JotForm.saveForm=!!JotForm.sessionID;var t="cardform"==window.FORM_MODE,o=$$('input[name="formID"]')[0];document.getElementById("session")||o.insert({after:createHiddenInputElement({name:"session_id",id:"session",value:JotForm.sessionID})}),document.getElementById("submission_token")||t||!this.submissionToken||o.insert({after:createHiddenInputElement({name:"submission_token",id:"submission_token",value:this.submissionToken})}),t||o.insert({after:createHiddenInputElement({name:"current_page",id:"current_page",value:0})}),JotForm.loadingPendingSubmission=!0;var r={action:"getSavedSubmissionResults",formID:o.value,sessionID:e,URLparams:window.location.href};this.submissionID&&(r.submissionID=this.submissionID),this.submissionToken&&(r.submissionToken=this.submissionToken),window.JFAppsManager&&window.JFAppsManager.isProductListForm&&(r.platform="APP",r.platform_id=window.JFAppsManager.appID,r.checkoutKey=window.JFAppsManager.checkoutKey,r.submissionID=window.JFAppsManager.submissionID),new Ajax.Jsonp(JotForm.url+"/server.php",{parameters:r,evalJSON:"force",onComplete:function(e){var t=e.responseJSON;if(t.success&&!!t.submissionID){if(t.submissionID){if(!$("submission_id")){var r=JotForm.submissionID||t.submissionID;o.insert({after:createHiddenInputElement({name:"submission_id",id:"submission_id",value:r})}),JotForm.submissionID||JotForm.setSubmissionID(t.submissionID)}if(!$("submission_token")){var n=this.submissionToken||t.token;n&&(o.insert({after:createHiddenInputElement({name:"submission_token",id:"submission_token",value:n})}),this.submissionToken||(this.submissionToken=n))}try{"cardform"===window.FORM_MODE?JotForm.editMode(t,!0,null,!0):JotForm.editMode(t,!0)}catch(e){JotForm.loadingPendingSubmission=!1}JotForm.openInitially=t.currentPage-1}t.jfFormUserSCL_emailSentTo&&!$("jfFormUserSCL_emailSentTo")&&o.insert({after:createHiddenInputElement({name:"jfFormUserSCL_emailSentTo",id:"jfFormUserSCL_emailSentTo",value:t.jfFormUserSCL_emailSentTo})})}JotForm.loadingPendingSubmission=!1}})}},setSubmissionID:function(e){this.submissionID=e},setHTMLClass:function(){var e=this.ie();e&&document.querySelector("html").classList.add("ie-"+e)},setFocusEvents:function(){if(document.querySelectorAll(".form-radio, .form-checkbox, .newDefaultTheme-dateIcon").forEach((function(e){e.addEventListener("mousedown",(function(){JotForm.lastFocus=e})),e.addEventListener("focus",(function(){JotForm.lastFocus=e}))})),document.querySelectorAll(".form-textbox, .form-password, .form-textarea, .form-upload, .form-dropdown").forEach((function(e){e.addEventListener("focus",(function(){JotForm.lastFocus=e}))})),JotForm.newPaymentUI&&"product"!==window.paymentType&&"subscription"!==window.paymentType&&"cardform"!==window.FORM_MODE&&document.querySelectorAll('[data-component="paymentDonation"]').forEach((function(e){e.closest(".form-line").classList.add("donation_cont")})),JotForm.newPaymentUI&&"product"===window.paymentType&&"cardform"!==window.FORM_MODE){var e=document.querySelectorAll(".form-product-item");Array.from(e).forEach((function(e){e.addEventListener("click",(function(t){if(isIframeEmbedFormPure()&&callIframeHeightCaller(),"LABEL"!==t.target.tagName&&!["text","select-one","checkbox","radio"].includes(t.target.type)&&!t.target.hasClassName("image_zoom"))if(e.querySelector(".form-checkbox")){var o=e.classList.contains("p_selected")&&e.classList.contains("form-product-item");if(JotForm.browserIs.firefox()&&"OPTION"===t.target.tagName&&o)return;e.querySelector(".form-checkbox").click()}else"product"===window.paymentType&&JotForm.categoryConnectedProducts&&Object.keys(JotForm.categoryConnectedProducts).length>0&&!JotForm.categoryConnectedProducts[e.getAttribute("pid")]&&document.querySelectorAll(".form-product-input").forEach((function(t){t.checked&&t.getValue()!==e.getAttribute("pid")&&(t.checked=!1)})),e.querySelector(".form-radio").click();if("checkbox"===t.target.type){var r=e.querySelector(".form-dropdown");if(r){for(var n=r.options,i=!1,a=0;a<n.length;a++)if("0"===n[a].value){i=!0;break}!t.target.checked&&i&&(r.value="0",JotForm.runConditionForId(r.id))}if(void 0!==t.target.checked&&!1===t.target.checked){var l=$(t.target.id+"_item_subtotal");l&&l.update("0.00")}}})),e.addEventListener("change",(function(t){["select-one","text"].includes(t.target.type)&&(["","0"].includes(t.target.value)?function(o){var r=t.target.closest(".form-product-child-table");if(r&&void 0!==r){var n="select-one"===o?".select_cont .form-subproduct-quantity":".form-subproduct-quantity.form-product-custom_quantity",i=r.querySelectorAll(n);i.length>0&&Array.from(i).every((function(e){return["","0"].includes(e.value)}))&&e.classList.remove("p_selected")}else e.classList.remove("p_selected")}(t.target.type):(e.classList.add("p_selected"),"select-one"===t.target.type&&JotForm.countTotal()))}))})),document.querySelectorAll(".form-checkbox").forEach((function(e){var t=e.closest(".form-product-item");function o(){if(e.checked&&t){var o=t.querySelector(".select_cont select");if(o&&Number(o.value)>0||!o)return!0}return!1}o()&&t.classList.add("p_selected"),e.addEventListener("click",(function(){o()?t.classList.add("p_selected"):t&&t.classList.contains("p_selected")&&t.classList.remove("p_selected")}))}))}JotForm.newPaymentUI&&"subscription"===window.paymentType&&(document.querySelectorAll(".form-product-item").forEach((function(e){e.addEventListener("click",(function(t){"radio"===t.target.type||"text"===t.target.type||"select-one"===t.target.type||t.target.hasClassName("image_zoom")||e.querySelector(".form-radio").click()}))})),document.querySelectorAll(".form-product-item").forEach((function(e){e.closest(".form-line").classList.add("subscription_cont")})),document.querySelectorAll(".form-product-item .form-radio").forEach((function(e){e.checked&&e.closest(".form-product-item").classList.add("p_selected"),e.addEventListener("change",(function(){e.closest(".form-product-item").classList.add("p_selected"),document.querySelectorAll(".form-product-item .form-radio").forEach((function(t){t!==e&&t.closest(".form-product-item").classList.remove("p_selected")}))}))})))},setBirthDateEvents:function(){function e(e,t,o){var r=new Date(o,t,0).getDate(),n=e.selectedIndex;e.innerHTML="";var i=document.createElement("option");e.appendChild(i);for(var a=1;a<=r;a++){var l=document.createElement("option");l.value=a,l.innerHTML=a,e.appendChild(l)}n<=e.children.length&&(e.selectedIndex=n)}document.querySelectorAll('[data-type="control_birthdate"]').forEach((t=>{var o=t.querySelector('[data-component="birthdate-month"]'),r=t.querySelector('[data-component="birthdate-year"]'),n=t.querySelector('[data-component="birthdate-day"]');let i=0,a=2023;o.addEventListener("change",(t=>{i=t.target.value,e(n,i,a)})),r.addEventListener("change",(t=>{a=t.target.value,e(n,i,a)}))}))},disableAcceptonChrome:function(){JotForm.browserIs.webkit()&&document.querySelectorAll(".form-upload").forEach((e=>{if(e.hasAttribute("accept")){var t=e.getAttribute("accept");e.setAttribute("accept",""),e.setAttribute("data-file-accept",t),e.setAttribute("file-accept",t)}}))},browserInformations:function(){var e=JotForm.browserIs;var t=(new Date).getTimezoneOffset(),o="GMT "+(t<0?"+":"")+-t/60,r=navigator.language||navigator.browserLanguage||navigator.userLanguage;return["BROWSER: "+(e.ie()?"Internet Explorer":e.firefox()?"Firefox":e.chrome()?"Chrome":e.safari()?"Safari":e.operabrowser()?"Opera":"Unknown Browser"),"OS: "+(e.android()?"Android":e.windows()?"Windows":e.blackberry()?"Blackberry":e.linux()?"Linux":e.ios()?"iOS":e.mac()&&!e.ios()?"MacOS":"Unknown OS"),"DEVICE: "+function(){if(e.mobile()){if(e.windowsPhone()||e.androidPhone()||e.blackberry())return"Mobile";if(e.ios())return"iPhone"}else if(e.tablet()){if(e.windowsTablet()||e.androidTablet())return"Tablet";if(e.ios())return"iPad"}else if(e.desktop())return"Desktop";return"Unknown Device"}(),"LANGUAGE: "+r,"RESOLUTION: "+screen.width+"*"+screen.height,"TIMEZONE: "+o,"USER AGENT: "+navigator.userAgent].join("\n")},populateBrowserInfo:function(e){var t=JotForm.browserInformations();setTimeout((function(){$(e).getValue().length>0&&(t=[$(e).getValue(),t].join("\n")),$(e).setValue(t)}),20)},displayTimeRangeDuration:function(e,t){var o,r=function(){if($("input_"+e+"_hourSelectRange")){var o=$("input_"+e+"_hourSelect").value,r=$("input_"+e+"_minuteSelect").value||"00",n=$("input_"+e+"_ampm")?$("input_"+e+"_ampm").value:"no",i=$("input_"+e+"_hourSelectRange").value,a=$("input_"+e+"_minuteSelectRange").value||"00",l=$("input_"+e+"_ampmRange")?$("input_"+e+"_ampmRange").value:"no",s=!$("input_"+e+"_ampmRange")||JotForm.newDefaultTheme||JotForm.extendsNewTheme?"_dummy":"_ampmRange",c=$$("label[for=input_"+e+s+"]").first();if("cardform"===window.FORM_MODE&&(c="_ampmRange"==s?$$("label[for=input_"+e+s+"]").first():$$("#input_"+e+s).first()),o.length>0&&r.length>0&&i.length>0&&a.length>0){"PM"==n&&12!=o&&(o=parseInt(o)+12),"AM"==n&&12==o&&(o=0),"PM"==l&&12!=i&&(i=parseInt(i)+12),"AM"==l&&12==i&&(i=0);var u=new Date(0,0,0,o,r,0),d=new Date(0,0,0,i,a,0),m=d.getTime()-u.getTime();m<0&&(m=(d=new Date(0,0,1,i,a,0)).getTime()-u.getTime());var p=Math.floor(m/1e3/60/60);m-=1e3*p*60*60;var f=Math.floor(m/1e3/60);if(f<10&&(f="0"+f),t)return[p.toString(),f.toString()];c.update("<b>Total "+p+":"+f+"</b>"),c.setStyle({color:"black"}),$$("input[id=duration_"+e+'_ampmRange][type="hidden"]').first().setValue(p+":"+f)}else t||c.update("&nbsp");$("input_"+e+"_timeInput")&&$("input_"+e+"_hourSelect")&&$("input_"+e+"_hourSelect").triggerEvent&&$("input_"+e+"_hourSelect").triggerEvent("change")}};if($("input_"+e+"_timeInput")?($("input_"+e+"_timeInput").observe("blur",r),$("input_"+e+"_timeInputRange").observe("blur",r)):($("input_"+e+"_hourSelect").observe("change",r),$("input_"+e+"_minuteSelect").observe("change",r),$("input_"+e+"_hourSelectRange").observe("change",r),$("input_"+e+"_minuteSelectRange").observe("change",r)),$("input_"+e+"_ampm")&&$("input_"+e+"_ampmRange")&&($("input_"+e+"_ampm").observe("change",r),$("input_"+e+"_ampmRange").observe("change",r)),JotForm.isEditMode()){var n=function(){$("input_"+e+"_hourSelectRange")&&$("input_"+e+"_hourSelectRange").value.empty()?window.setTimeout(n,100):o=r()};n()}else o=r();return o},displayLocalTime:function(e,t,o,r,n){if(JotForm.isEditMode()&&n)return;const i=document.querySelector(`#${e}`);if(i&&!i.classList.contains("noDefault")){const a=new Date;let l=a.getHours(),s="",c=!0;const u=document.querySelector(`#${o}`);u&&(c=!1,s=l>11?"PM":"AM",l=l>12?l-12:l,l=0==l?12:l);let d=a.getMinutes();const m=document.querySelector(`#${t}`);if(!r){const e=Number(m.options[2].value)-Number(m.options[1].value);d=Math.round(d/e)*e}if(d=this.addZeros(d,2),d>=60&&(d="00",l++,c?24==l&&(l=0):"AM"==s&&12==l?s="PM":"PM"==s&&12==l?s="AM":13==l&&(l=1)),l<10&&(r||i.options[1].value.length>1)&&(l="0"+l),u){const e=document.querySelector(`#${o}Range`);"PM"==s?(u.querySelectorAll('option[value="PM"]').length>0&&(u.value="PM"),e&&e.querySelectorAll('option[value="PM"]').length>0&&(e.value="PM")):(u.querySelectorAll('option[value="AM"]').length>0&&(u.value="AM"),e&&e.querySelectorAll('option[value="AM"]').length>0&&(e.value="AM"))}if(n)return;i.value=l,m.value=d,document.querySelector(`#${e}Range`)&&(document.querySelector(`#${e}Range`).value=l,document.querySelector(`#${t}Range`).value=d),document.querySelector(`#${r}Range`)&&(document.querySelector(`#${r}Range`).value=l+":"+d),r&&(document.querySelector(`#${r}`).value=l+":"+d)}},setDateTimeFieldItem:function(e,t){const o="hour"===e.key||"min"===e.key,r=e.value;let n;if(o){const o="hour"===e.key?"hour":"minute";let n=document.querySelector("#input_"+t+"_"+o+"Select");n&&(n.value=r.length<2&&r<10?"0"+r:r)}const i=document.querySelector("#input_"+t+"_"+e.key);document.querySelector(`#${e.key}_${t}`)?(n=document.querySelector(`#${e.key}_${t}`),n.value=r):i&&(JotForm.newDefaultTheme||JotForm.extendsNewTheme||"v2"===i.dataset.version)&&(n=i,n.value=r);n&&"SELECT"===n.nodeName&&o&&-1===n.options.selectedIndex&&(n.value="0"+r)},displayDynamicDate:function(e,t){var o=parseInt(t.split("today")[1])||0,r=new Date;r.setDate(r.getDate()+o),JotForm.formatDate({date:r,dateField:document.querySelector(`#id_${e}`)})},dateLimits:{},getCalendar:function(e){return document.querySelector("#calendar_"+e)},setCalendar:function(e,t,o,r){try{var n="input_"+e+"_pick";JotForm.dateLimits[e]=o;var i=$("id_"+e),a=Calendar.setup({triggerElement:n,dateField:"year_"+e,parentElement:r,closeHandler:function(){JotForm.calendarClose.apply(this,arguments),$("lite_mode_"+e)&&(JotForm.newDefaultTheme&&$("lite_mode_"+e).hasClassName("calendar-opened")&&$("lite_mode_"+e).removeClassName("calendar-opened"),e.indexOf("-")>-1&&$("lite_mode_"+e).triggerEvent("change"),$("lite_mode_"+e).triggerEvent("blur"))},selectHandler:function(){JotForm.formatDate.apply(this,arguments)},startOnMonday:t,limits:o,id:e});document.querySelector("#"+n).observe("click",(function(){var t=$("calendar_"+e);t.style&&"none"!==t.style.display&&JotForm.handleIFrameHeight()})),i.observe("keyup",(function(){i.fire("date:changed")}));var l=function(){$("month_"+e).value=$("day_"+e).value=$("year_"+e).value=""},s=function(e){e.addClassName("invalidDate"),l()};if($("lite_mode_"+e)&&($("lite_mode_"+e).dateChanged=function(e,t,o){var r=e.currentTarget,n=r.readAttribute("seperator")||r.readAttribute("data-seperator"),a=(r.readAttribute("format")||r.readAttribute("data-format")).toLowerCase();if(r.removeClassName("invalidDate"),r.removeClassName("invalidLimits"),i.removeClassName("form-line-error"),i.removeClassName("form-datetime-validation-error"),""===r.value)return i.fire("date:changed"),l();if((t.isNewTheme?r.value.replace(new RegExp("[^\\d"+n+"]"),"").length:r.value.length)==2*n.length+a.length){var c=a.indexOf("yy"),u=a.indexOf("mm"),d=a.indexOf("dd"),m=new Array(c,u,d),p={year:(m=m.sort()).indexOf(c),month:m.indexOf(u),day:m.indexOf(d)},f=parseInt(r.value.split(n)[p.year]),h=parseInt(r.value.split(n)[p.month])-1,g=parseInt(r.value.split(n)[p.day]),v=new Date(f,h,g);v&&v.getDate()?(t.setDate(v),t.selectHandler(t)):o||s(r)}else o||s(r);r.hasClassName("invalidDate")&&(JotForm.errored(r,"Enter a valid date"),i.addClassName("form-line-error"),i.addClassName("form-datetime-validation-error"))},$("lite_mode_"+e).observe("blur",(function(e){return e.stopPropagation(),e.currentTarget.dateChanged(e,a),e.currentTarget.setAttribute("date-val",a.date.getTime()),!1})),JotForm.newDefaultTheme||JotForm.extendsNewTheme||a.isNewTheme||($("lite_mode_"+e).observe("keydown",(function(e){var t=e.target.value;"Backspace"===e.key&&t[t.length-1]===e.target.dataset.seperator&&(t=t.substr(0,t.length-1)),e.target.value=t.substr(0,10)})),$("lite_mode_"+e).observe("input",(function(e){var t=e.target.value.split(e.target.dataset.seperator).map((function(e){return e.replace(/\D/g,"")})),o=[];o="yyyymmdd"!==e.target.dataset.format?t.map((function(t,o){return 2==t.length&&o<2?t+e.target.dataset.seperator:t})):t.map((function(t,o){return 4==t.length&&0==o||2==t.length&&1==o?t+e.target.dataset.seperator:t})),e.target.value=o.join("").substr(0,10),e.currentTarget.dateChanged(e,a,!0)})))),!r){var c=function(){var e=this;setTimeout((function(){JotForm.newDefaultTheme&&handlePopupUI(a,{width:e.parentNode.parentNode.offsetWidth}),a.showAtElement(e)}),50)};if($("input_"+e+"_pick").hasClassName("showAutoCalendar")||JotForm.isSourceTeam)$$(["#day_"+e,"#month_"+e,"#year_"+e,"#lite_mode_"+e].join(",")).each((function(e){e.onclick||(e.observe("focus",c),e.observe("click",c))}));$("year_"+e).observe("blur",(function(){a.hide()})),$("lite_mode_"+e)&&$("lite_mode_"+e).observe("blur",(function(){a.hide()}))}}catch(e){JotForm.error(e)}},currentDateReadonly:function(){},calendarClose:function(e){var t=e.isNewTheme?e.dateField.id[e.dateField.id.length-1]:e.id,o=e.dateField.id.match(/_[a-z0-9]+/),r=Array.isArray(o)?o[0]:"",n=r?$$('input[id*="'+r+'"]'):[],i=e.dateField.className.replace(/.*validate\[(.*)\].*/,"$1").split(/\s*,\s*/),a=n.any((function(e){return e.value.empty()}));(i.include("required")||i.include("disallowPast"))&&a&&e.dateField.validateInput(),i.include("required")&&!a&&JotForm.corrected($("id_"+t)),e.hide()},getDefaults:function(){document.querySelectorAll(".form-textbox, .form-dropdown, .form-textarea, .form-hidden-time").forEach((function(e){e.hinted||""===e.value||(JotForm.defaultValues[e.id]=e.value)})),document.querySelectorAll(".form-radio, .form-checkbox").forEach((function(e){e.checked&&(JotForm.defaultValues[e.id]=e.value)}))},handleOtherOptions:function(){document.querySelectorAll(".form-radio-other-input, .form-checkbox-other-input").forEach((function(e){e.placeholder=e.getAttribute("data-otherhint")||"Other"})),document.querySelectorAll(".form-radio, .form-checkbox").forEach((function(e){var t=e.id.replace(/input_(\d+)_\d+/gim,"$1");t.match("other_")&&(t=e.id.replace(/other_(\d+)/,"$1"));var o=document.getElementById("other_"+t);if(o){var r=document.getElementById("input_"+t);r.addEventListener("keyup",(function(){o.value=r.value;var e=""!==r.value;!o.checked&&e&&r.click(),setTimeout((function(){o.checked=e}))})),r.addEventListener("click",(function(){r.value=r.value===r.getAttribute("data-otherhint")?"":r.value,o.checked||(o.checked=!0,r.parentNode.classList.remove("is-none"))})),o.addEventListener("click",(function(){o.className.match(/\[.*required.*\]/)?r.value=r.value===r.getAttribute("data-otherhint")?"":r.value:r.value=""!==r.value?r.value:r.getAttribute("data-otherhint"),o.checked?r.select():r.hintClear&&r.hintClear()})),e.addEventListener("click",(function(){e!==o&&e.checked&&!o.checked&&(r.value="")}))}}))},shuffleOptions:function(e){var t=JotForm.calculationType(e);if("radio"===t||"checkbox"===t)try{for(var o=$("id_"+e).select(".form-"+t+"-item"),r=$("id_"+e).down(".form-"+t+"-other-input")?o.length-1:o.length,n=0;n<r-1;n++){var i=$("id_"+e).select(".form-"+t+"-item")[n],a=o[u=Math.floor(Math.random()*r)].replace(i),l=i.next();(l&&l!==o[r]?l:i).insert({after:a})}if($("id_"+e).down(".form-multiple-column")){var s=$("id_"+e).down(".form-multiple-column").readAttribute("data-columncount");$("id_"+e).select(".form-"+t+"-item").each((function(e,t){e.setStyle({clear:t%s==0?"left":"none"})}))}}catch(e){console.log(e)}else if("select"===t)try{var c=$("input_"+e).clone(!0);$("input_"+e).update("");r=c.length;$("input_"+e).insert(c[0].clone(!0));for(n=1;n<r;n++){var u=Math.floor(Math.random()*(c.length-1))+1;$("input_"+e).insert(c[u].clone(!0)),c[u].remove()}}catch(e){console.log(e)}else if("matrix"===t)try{var d=$("id_"+e).select("tr"),m=d.length;for(n=1;n<m;n++){a=d[u=Math.floor(Math.random()*(m-1))+1].replace(d[n]);(d[n].next()?d[n].next():d[n]).insert({after:a})}}catch(e){console.log(e)}},handleSingleChoiceWithMultiTypeColumns:function(){const e=document.querySelectorAll("td.form-matrix-values");e&&e.forEach((function(e){e.children[0].addEventListener("click",(function(){if(e.children[0]&&e.getElementsByClassName("form-radio")&&e.getElementsByClassName("form-radio")[0]){const t=e.getElementsByClassName("form-radio")[0];if(t&&t.name&&e.parentElement){const o=t.name,r=e.parentElement;if(o&&r&&r.cells&&r.cells.length){const e=r.cells,n=r.cells.length;for(let r=0;r<n;r++){const n=e[r];if(n&&n.className&&t.type&&n.children[0]&&n.children[0].name&&"form-matrix-values"===n.className&&"radio"===t.type&&n.children[0].name!==o){const e=n.children[0];"radio"===e.type&&(e.checked=!1)}}}}}}))}))},handleSingleChoiceWithMultiTypeColumnsForCardForms:function(){},handleDateTimeChecks:function(){try{document.querySelectorAll("[name$=\\[month\\]]").forEach((function(e){const t="tel"!==e.type&&"text"!==e.type,o=t?e.id.replace(new RegExp(".*?([0-9]+).*","gim"),"$1"):e.id.split("month_").last(),r=document.querySelector("#id_"+o);if(!r)return;const n=r.querySelector("[id*=day]"),i=r.querySelector("[id*=year]");let a=r.querySelector("#hour_"+o),l=r.querySelector("#min_"+o),s=r.querySelector("#ampm_"+o);(JotForm.newDefaultTheme||r.querySelector("#input_"+o+"_hourSelect")&&r.querySelector("#input_"+o+"_minuteSelect"))&&(a=r.querySelector("#input_"+o+"_hourSelect"),l=r.querySelector("#input_"+o+"_minuteSelect"),s=r.querySelector("#input_"+o+"_ampm")),e.dateTimeCheck=function(c){let u=null;if(!(t&&(""===e.value||""===n.value||""===i.value))&&(""!=e.value||""!=n.value||""!=i.value)){const o=t?e.selectedIndex:e.value,r=parseInt(o,10),a=+n.value,l=+i.value;if(isNaN(l)||l<1||l.toString().length<4)u=i;else if(isNaN(o)||isNaN(r)||r<1||r>12)u=e;else if(isNaN(a)||a<1)u=n;else switch(r){case 2:(l%4==0?a>29:a>28)&&(u=n);break;case 4:case 6:case 9:case 11:a>30&&(u=n);break;default:a>31&&(u=n)}}let d=c&&c.target&&c.target===document.activeElement;if("cardform"===window.FORM_MODE&&void 0!==document.activeElement&&document.activeElement&&"function"==typeof document.activeElement.up&&e&&(d=e.closest(".jfCard-question")===document.activeElement.closest(".jfCard-question")),!u&&a&&l&&(""!=a.value||""!=l.value)&&!d){const e=""==a.value.strip()?-1:+a.value,t=""==l.value.strip()?-1:+l.value;isNaN(e)||(s?e<0||e>12:e<0||e>23)?u=a:(isNaN(t)||t<0||t>59)&&(u=l)}const m=document.activeElement;let p=!1,f=!1;if(!u){var h=r.querySelector('input[class*="validateLiteDate"]')||r.querySelector('input[class*="validate"][class*="limitDate"]');h&&h.classList.contains("invalidDate")&&(u=h,p=!0),h&&h.classList.contains("invalidLimits")&&(u=h,f=!0)}if(u&&m!=i&&m!=e&&m!=n){if(u===a||u===l)u.errored=!1,JotForm.errored(u,JotForm.texts.invalidTime);else if(p){u.errored=!1;const e=JotForm.texts.dateInvalid.replace("{format}",u.readAttribute("placeholder"));JotForm.errored(u,e)}else if(f)u.errored=!1,JotForm.errored(u,JotForm.texts.dateLimited);else{u.errored=!1;const e=JotForm.texts.dateInvalidSeparate.replace("{element}",u.id.replace("_"+o,""));JotForm.errored(u,e)}return r.classList.add("form-line-error"),r.classList.add("form-datetime-validation-error"),!1}return JotForm.corrected(e),JotForm.corrected(n),JotForm.corrected(i),a&&l&&(JotForm.corrected(a),JotForm.corrected(l)),r.classList.remove("form-line-error"),r.classList.remove("form-datetime-validation-error"),!0},a&&l&&(a.addEventListener("change",(function(t){e.dateTimeCheck(t)})),l.addEventListener("change",(function(t){e.dateTimeCheck(t)})))}))}catch(e){console.error(e)}},handleTimeChecks:function(){try{document.querySelectorAll(".form-line[data-type=control_time]").forEach((function(e){var t=e.id.split("_")[1],o=e.querySelector(`#input_${t}_hourSelect`),r=e.querySelector(`#input_${t}_minuteSelect`),n=e.querySelector(`#input_${t}_ampm`),i=e.querySelector(`#input_${t}_hourSelectRange`),a=e.querySelector(`#input_${t}_minuteSelectRange`),l=e.querySelector(`#input_${t}_ampmRange`);o.timeCheck=function(){var t=null;if(!t&&o&&r&&(""!=o.value||""!=r.value)){var s=""==o.value.strip()?-1:+o.value,c=""==r.value.strip()?-1:+r.value;isNaN(s)||(n?s<0||s>12:s<0||s>23)?t=o:(isNaN(c)||c<0||c>59)&&(t=r)}if(!t&&i&&a&&(""!=i.value||""!=a.value)){s=""==i.value.strip()?-1:+i.value,c=""==a.value.strip()?-1:+a.value;isNaN(s)||(l?s<0||s>12:s<0||s>23)?t=i:(isNaN(c)||c<0||c>59)&&(t=a)}return t?(JotForm.errored(t,JotForm.texts.invalidTime),e.classList.add("form-line-error"),!1):(o&&r&&(JotForm.corrected(o),JotForm.corrected(r)),i&&a&&(JotForm.corrected(i),JotForm.corrected(a)),!0)},o&&r&&(o.addEventListener("change",(function(){o.timeCheck()})),r.addEventListener("change",(function(){o.timeCheck()}))),i&&a&&(i.addEventListener("change",(function(){o.timeCheck()})),a.addEventListener("change",(function(){o.timeCheck()})))}))}catch(e){console.error(e)}},handleTextareaLimits:function(e){void 0===e&&(e=!0),$$(".form-textarea-limit-indicator span").each((function(t){var o=t.id.split("-")[0];if($(o)){var r,n=t.readAttribute("data-minimum"),i=t.readAttribute("data-limit"),a=$(o),l=function(e){if(""===a.value||a.hasClassName("form-custom-hint"))return $(t.parentNode).removeClassName("form-textarea-limit-indicator-error"),t.update("0/"+(n>-1?n:i)),JotForm.corrected(t);var o;if(o=a.hasClassName("form-textarea")&&a.up("div").down(".nicEdit-main")?a.value.stripTags(" ").replace(/&nbsp;/g," "):a.value,a.up("div").down(".nicEdit-main")){var l=a.up("div").down(".nicEdit-main").querySelector("style");l&&l.remove()}var s=o.replace(/(\<\w*)((\s\/\>)|(.*\<\/\w*\>))/gm," ").replace(/&nbsp;|&#160;/gi," ");$(t.parentNode).removeClassName("form-textarea-limit-indicator-error"),JotForm.corrected(t.up(".form-line").down("textarea"));var c=function(o){var a="min"==o?t.readAttribute("data-typeminimum"):t.readAttribute("type");"Words"==a?r=$A(s.replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g,"").split(/\s+/)).without("").length:"Letters"==a&&(r=s.length);var l=!1;if(("min"==o&&r<n||"max"==o&&r>i)&&!0!==e){$(t.parentNode).addClassName("form-textarea-limit-indicator-error");var c="min"==o?"Min":"",u="min"==o?n:i,d="Words"===a?"word":"character",m=JotForm.getValidMessage(JotForm.texts[d+c+"LimitError"],u);JotForm.errored(t.up(".form-line").down("textarea"),m),l=!0}return t.update(r+"/"+(n&&r<n&&"min"==o||-1==i?n:i)),l},u=!0;n&&n>0&&(u=!c("min")),i&&i>0&&u&&c("max")};if(l(e),a.observe("change",l),a.observe("focus",l),a.observe("keyup",l),a.hasClassName("form-textarea")&&a.up("div").down(".nicEdit-main")){var s=a.up("div").down(".nicEdit-main"),c=function(){a.value=s.innerHTML,l()};s.observe("keyup",c),s.observe("blur",(function(){setTimeout(c,0)}))}}}))},handleAutoCompletes:function(){var e=[];$H(JotForm.autoCompletes).each((function(t){var o=$(t.key);o.writeAttribute("autocomplete","off");var r,n=t.value.split(/\r\n|\r|\n|\|/g),i=$A(n),a=0,l=0,s=document.createElement("div");s.className="form-autocomplete-list",Object.assign(s.style,{listStyle:"none",listStylePosition:"outside",position:"absolute",zIndex:"10000",display:"none"});$(document.body).insert(s),s.close=function(){s.update(),s.hide(),a=0},o.observe("blur",(function(){s.close()})),o.observe("keyup",(function(t){var n=o.value;if(r!=n)if(r=n,s.update(),n){var a,c="Yes"==o.readAttribute("data-fuzzySearch"),u=n.toLowerCase();a=i.collect((function(e){if(c&&e.toLowerCase().include(u)||0==e.toLowerCase().indexOf(u))return e})).compact();var d=o.readAttribute("data-maxMatches");d>0&&(a=a.slice(0,d)),a.length>0?(a.each((function(e){var t=document.createElement("li");t.className="form-autocomplete-list-item";var r=e;t.val=r;try{r=e.replace(new RegExp("("+n+")","gim"),"<b>$1</b>")}catch(e){JotForm.error(e)}t.insert(r),t.onmousedown=function(){o.value=JotForm.decodeHtmlEntities(e),o.triggerEvent("change"),s.close()},s.insert(t)})),function(){if("cardform"===window.FORM_MODE){var e=o.getBoundingClientRect(),t=e.top+e.height-5+"px",r=e.left+"px",n=(e.width<1?100:e.width)+"px";s.setStyle({top:t,left:r,width:n}),s.show()}else{var i=o.getDimensions(),a=o.cumulativeOffset();s.setStyle({backgroundColor:"#f0f8ff",top:i.height+a[1]+"px",left:a[0]+"px",width:(i.width<1?100:i.width)-2+"px"}),s.show()}}(),l=l||$(s.firstChild).getHeight()+(parseInt($(s.firstChild).getStyle("padding"),10)||0)+(parseInt($(s.firstChild).getStyle("margin"),10)||0),s.setStyle({height:l*(a.length>9?10:a.length)+4+"px",overflow:"auto"}),JotForm.isEditMode()&&-1===e.indexOf(o.id)&&(s.hide(),e.push(o.id)),t.isTrusted||s.close()):s.close()}else s.close()})),o.observe("keydown",(function(e){var t;if(s.visible()&&s.firstChild)switch((t=s.select(".form-autocomplete-list-item-selected")[0])&&t.removeClassName("form-autocomplete-list-item-selected"),e.keyCode){case Event.KEY_UP:t&&t.previousSibling?$(t.previousSibling).addClassName("form-autocomplete-list-item-selected"):$(s.lastChild).addClassName("form-autocomplete-list-item-selected"),a<=1?t&&t.previousSibling?($(t.previousSibling).scrollIntoView(!0),a=0):($(s.lastChild).scrollIntoView(!1),a=10):a--;break;case Event.KEY_DOWN:t&&t.nextSibling?$(t.nextSibling).addClassName("form-autocomplete-list-item-selected"):$(s.firstChild).addClassName("form-autocomplete-list-item-selected"),a>=9?t&&t.nextSibling?($(t.nextSibling).scrollIntoView(!1),a=10):($(s.firstChild).scrollIntoView(!0),a=0):a++;break;case Event.KEY_ESC:s.close();break;case Event.KEY_TAB:case Event.KEY_RETURN:t&&(o.value=JotForm.decodeHtmlEntities(t.val),r=o.value),s.close(),e.keyCode==Event.KEY_RETURN&&e.stop();break;default:return}})),s.close()}))},decodeHtmlEntities:function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value},getFileExtension:function(e){return/[.]/.exec(e)?/[^.]+$/.exec(e)[0]:void 0},setAPIUrl:function(){if("undefined"!==JotForm.enterprise&&JotForm.enterprise)return void(this.APIUrl="https://"+JotForm.enterprise+"/API");const e=/(?:eu\.jotform)|(jotformeu\.com)/.test(window.location.host),t=/(?:hipaa\.jotform)/.test(window.location.host);switch(!0){case e:this.APIUrl="https://eu-api.jotform.com";break;case t:this.APIUrl="https://hipaa-api.jotform.com";break;case/form.jotform/.test(window.location.host):case/fb.jotform/.test(window.location.host):case/form.myjotform/.test(window.location.host):case/pci.jotform/.test(window.location.host):this.APIUrl="https://api.jotform.com";break;case Boolean(window.JotFormAPIEndpoint):this.APIUrl=window.JotFormAPIEndpoint;break;case window.parent!==window:const o=document.querySelector(".jotform-form").readAttribute("action");switch(!0){case Boolean(JotForm.hipaa):this.APIUrl="https://hipaa-api.jotform.com";break;case/jotformeu\./.test(o):this.APIUrl="https://eu-api.jotform.com";break;default:this.APIUrl="https://api.jotform.com"}break;case!0===JotForm.isFullSource:switch(!0){case/eu-submit.jotform/.test(this.url):this.APIUrl="https://eu-api.jotform.com";break;case/:\/\/submit.jotform/.test(this.url):this.APIUrl="https://api.jotform.com";break;default:this.APIUrl=this.url.replace(/\/$/,"")+"/API"}break;default:this.APIUrl="/API"}},setJotFormUserInfo:function(){const e=document.querySelector('input[name="formID"]').value;JotForm.createXHRRequest(JotForm.APIUrl+"/formuser/"+e+"/combinedinfo","GET",null,(function(e){const t=e.content.credentials;t&&"GUEST"!==t.accountType&&"GUEST"!==t.account_type&&(t.account_type&&t.account_type.name&&"GUEST"===t.account_type.name||(window.JFUser={name:t.name,email:t.email},window.parent.isBuilder||JotForm.setNameAndEmailFieldsFromUserCredentials()))}),(function(){}),!0)},setAsanaTaskID:function(){appendHiddenInput("asanaTaskID",getQuerystring("asanaTaskID"))},fillFieldElementIfEmpty:function(e,t){e&&!e.value&&(e.value=t,"cardform"===window.FORM_MODE&&e.parentNode.classList.add("isFilled"))},setNameAndEmailFieldsFromUserCredentials:function(){if(window.JFUser&&!getQuerystring("preview")){var e=document.querySelector("input[data-component='first']"),t=document.querySelector("input[data-component='last']"),o=document.querySelector("input[data-component='middle']"),r=document.querySelector("input[data-component='email']"),n=window.JFUser;if(setTimeout((function(){JotForm.runAllConditions()}),1200),n.email&&JotForm.fillFieldElementIfEmpty(r,n.email),n.name){var i=n.name.split(" ");i.length>1&&(JotForm.fillFieldElementIfEmpty(t,i[i.length-1]),i.length>2&&(o?JotForm.fillFieldElementIfEmpty(o,n.name.substring(n.name.indexOf(" "),n.name.lastIndexOf(" "))):JotForm.fillFieldElementIfEmpty(e,n.name.substring(0,n.name.lastIndexOf(" "))))),JotForm.fillFieldElementIfEmpty(e,i[0])}}},getIsHTML:function(e){try{var t=document.createElement("div");return t.innerHTML=e,t.children.length>0}catch(e){return!1}},prePopulations:function(e,t){var o=e||document.get;if($H(o).each((function(e){if(void 0!==e.value){e.key.match(/[\s\S]+;/)&&(e.key=e.key.replace(/[\s\S]+;/,""));var o,r=e.key.length<3,n='[name$="_'+e.key+'"]',i=r?n:'[name*="_'+e.key+'"]',a='[name*="_'+e.key+'"]',l='[name$="_'+e.key+'"]';if("cardform"!==window.FORM_MODE&&(o=$$(".form-star-rating"+n)[0]))o.setRating(parseInt(e.value));else if("object"==typeof e.value&&(e.value=e.value[0]||""),o=$$(".form-slider"+i)[0])o.setSliderValue(parseInt(e.value));else{var s=i.indexOf("signature")>0&&$$(i)[0];if("coupon-input"==e.key&&$("coupon-input"))return $("coupon-input").setValue(e.value),$("coupon-button").triggerEvent("click"),void $(window).scrollTo(0,0);if(!(o=$$(".form-textbox%s, .form-dropdown%s, .form-textarea%s, .form-hidden%s".replace(/\%s/gim,n))[0])&&(o=$$(".form-textbox%s, .form-dropdown%s, .form-textarea%s, .form-hidden%s".replace(/\%s/gim,i)).filter((function(e){return""===e.value}))[0])){var c=$$('input[name="formID"]')[0];(f=o.closest("li")&&o.closest("li").getAttribute("data-type"))&&!["control_rating","control_phone","control_time"].includes(f)&&JotForm.errorCatcherLog({message:{inputName:o.name,matchedParam:e.key,questionType:f,formID:c.value}},"PREPOPULATE_SINGLE_INPUT_NON_STRICT_MATCH")}if(!o&&e.key.indexOf("[")>0){var u=e.key.substr(0,e.key.lastIndexOf("[")),d=u.includes("]")?u:e.key.replace(/(\w+)\[\d+\]/g,"_$1\\["),m=e.key.replace(/(\w+)\[\d+\]/g,"_$1");if(u.length>0&&$$("select[name*="+u+"], input[name*="+u+"]").length>0){var p=e.key.substr(e.key.lastIndexOf("[")+1).replace("]","");if(p&&Number(p)>-1&&$$("select[name*="+u+"], input[name*="+u+"]").length>p)switch($$("select[name*="+u+"]")[p]?"select":$$("input[name*="+u+"]")[p]&&$$("input[name*="+u+"]")[p].type){case"select":$$("select[name*="+u+"]")[p]&&($$("select[name*="+u+"]")[p].value=e.value.replace(/\+/g," "));break;case"text":case"tel":case"number":if(!(o=$$("input[name*="+d+"]")[p])){if(!(o=$$("input[name*="+u+"]")[p]))break;c=$$('input[name="formID"]')[0];var f=o.closest("li")&&o.closest("li").getAttribute("data-type");JotForm.errorCatcherLog({message:{inputName:o.name,matchedParam:u,index:p,questionType:f,formID:c.value}},"PREPOPULATE_MULTI_INPUT_NON_STRICT_MATCH")}o.value=e.value.replace(/\+/g," "),o.triggerEvent("keyup");break;case"radio":case"checkbox":try{if(("true"==e.value||1==e.value)&&$$("input[name*="+u+"]")[p]&&!("control_matrix"===$$("input[name*="+u+"]").first().up(".form-line").readAttribute("data-type")&&u.indexOf("[")<0)){let e=$$("input[name$="+m+"]")[p]||$$("input[name*="+d+"]")[p];if(!e){if(e=$$("input[name*="+u+"]")[p],!e)break;c=$$('input[name="formID"]')[0],f=e.closest("li").getAttribute("data-type");JotForm.errorCatcherLog({message:{inputName:e.name,matchedParam:u,index:p,questionType:f,formID:c.value}},"PREPOPULATE_MULTI_INPUT_NON_STRICT_MATCH")}e.click()}}catch(e){console.log(e)}}}}if(o&&"input-grading"==o.readAttribute("data-type"))for(var h=e.value.split(","),g=o.id.substr(0,o.id.lastIndexOf("_")+1),v=0;v<h.length;v++)$(g+v)&&($(g+v).value=h[v]);else if(o&&(o.hasClassName("form-checkbox-other-input")||o.hasClassName("form-radio-other-input")))JotForm.onTranslationsFetch((function(){var t=(o=$(o.id)).id.split("_").pop();if(i.indexOf("[other]")>-1)o.value=e.value.replace(/\+/g," "),JotForm.defaultValues[o.id]=o.value;else try{for(var r="control_checkbox"===o.up(".form-line").readAttribute("data-type")?e.value.split(","):[e.value],n=0;n<r.length;n++){if(!("cardform"===window.FORM_MODE?o.up(".form-multiple-column"):o.up(".form-input, .form-input-wide")).select('input[type="radio"], input[type="checkbox"]').any((function(e){if("undefined"!=typeof FormTranslation&&Object.keys(FormTranslation.dictionary).length>0){var t=Object.values(FormTranslation.dictionary).map((function(t){return t[e.value]})).filter((function(e){return e}));if(t.length>0)return t.any((function(e){return r[n]===e}))}return r[n]===e.value}))&&RegExp(e.key+"\\[other\\]$").test(o.name)){if(o.value=r[n],""===o.value)continue;r[n]="other",$("other_"+t).value=o.value}}e.value=r.join(",")}catch(e){console.error(e)}}));else if(o&&o.hasClassName("form-textarea")&&o.up("div").down(".nicEdit-main")){var y=e.value.replace(/\+/g," ");window.DomPurify&&(y=window.DomPurify.sanitize(y)),o.up("div").down(".nicEdit-main").update(y)}else if(o&&o.hasClassName("form-textarea")&&o.up("div").down(".jfTextarea-editor"))window.DomPurify&&(e.value=window.DomPurify.sanitize(e.value)),o.up("div").down(".jfTextarea-editor").update(e.value);else if(o&&o.hasClassName("form-dropdown")){var F=o.readAttribute("multiple")||o.multiple,b=(y=e.value.replace(/\{\+\}/g,"{plusSign}").replace(/\+/g," ").replace(/\{plusSign\}/g,"+"),F?y.split(","):[y]),w=o.select("option");o.value=b,$A(w).each((function(e){e.writeAttribute("selected",!!b.include(e.value)&&"selected")})),"cardform"===window.FORM_MODE&&window.CardForm&&window.CardForm.setDropdownInitialValues()}else if(o){o.value=e.value.replace(/\{\+\}/g,"{plusSign}").replace(/\+/g," ").replace(/\{plusSign\}/g,"+");var _=o.up(".form-line");(t||document.referrer.match(/jotform/)||"email"===o.getAttribute("type")||_&&["control_textarea"].indexOf(_.readAttribute("data-type"))>-1)&&(o.value=e.value),JotForm.defaultValues[o.id]=o.value;try{if(_&&("control_datetime"===_.readAttribute("data-type")||"control_inline"===_.readAttribute("data-type"))){var E="control_datetime"===_.readAttribute("data-type")?_:o.up("[data-type=datebox]");if(E){var S=E.down('input[id*="year_"]').value,J=E.down('input[id*="month_"]').value,C=E.down('input[id*="day_"]').value;if(""!==S&&""!==J&&""!==C){JotForm.formatDate({date:new Date(S,J-1,C),dateField:E});var A=E.down('input[id*="input_"]'),x=E.down('input[id*="lite_mode_"]');if(A&&-1===A.getAttribute("id").indexOf("timeInput")){var k=S+"-"+J+"-"+C;JotForm.defaultValues[A.id]=k,A.value=k}x&&(JotForm.defaultValues[x.id]=x.value)}}}}catch(e){console.log(e)}}else if(s){var T=s.closest("span"),I=T&&T.querySelector(".FITB-sign-image");I&&(s.value=e.value,I.src=e.value)}if($$(".form-textbox%s, .form-textarea%s, .form-hidden%s".replace(/\%s/gim,i)).each((function(e){e.triggerEvent("keyup")})),$$(".form-dropdown%s".replace(/\%s/gim,i)).each((function(e){e.triggerEvent("change")})),JotForm.onTranslationsFetch((function(){var o="(_"+e.key+"([(.*?)])?)$",r=new RegExp(o.replace(/\[/g,"\\[").replace(/\]/g,"\\]")),n=".form-radio%s".replace(/\%s/gim,l)+", "+".form-checkbox%s".replace(/\%s/gim,a);$$(n).each((function(o){if(o=$(o.id),!t||"checkbox"!==o.type||r.test(o.name)){var n=!!o.disabled&&!!o.enable(),i=e.value.replace(/\{\+\}/g,"{plusSign}").replace(/\+/g," ").replace(/\{plusSign\}/g,"+"),a=[];"undefined"!=typeof FormTranslation&&Object.values(FormTranslation.dictionary).forEach((function(e){e[o.value]&&a.push(e[o.value].replace(/\{\+\}/g,"{plusSign}").replace(/\+/g," ").replace(/\{plusSign\}/g,"+"))})),0===a.length&&a.push(o.value.replace(/\{\+\}/g,"{plusSign}").replace(/\+/g," ").replace(/\{plusSign\}/g,"+"));var l=i.replace(/([^\\]),/g,"$1\v").split("\v");a.each((function(r){t||!r.indexOf(",")||i.includes("<br>")||(r=r.replace(/,/g,"\\,")),i==r||$A(l).include(r)||$A(i.split("<br>")).include(r)||l.includes(r.replace(/[\u00A0\u180E\u2000-\u200B\u202F\u205F\u3000\uFEFF]/," "))?o.checked||(o.disabled?(o.enable(),o.click(),o.disable()):o.click(),JotForm.defaultValues[o.id]=r):$A(e.value.split(",")).include("other")&&(o.name.indexOf("[other]")>-1||o.id&&o.id.indexOf("other_")>-1)&&o.click(),n&&setTimeout((function(){o.disable()}))}))}}))})),o&&o.hasClassName("form-textarea")&&o.hasClassName("form-custom-hint")){let e=o.hasContent;o.up("div").down(".nicEdit-main")&&o.up("div").down(".nicEdit-main").innerHTML&&(e=!0),e&&o.removeClassName("form-custom-hint")}}}})),setTimeout((function(){document.getElementById("draftID")||(JotForm.firstUrlPrefillCondition=!1,JotForm.runAllConditions())}),1500),"cardform"===window.FORM_MODE){var r=window.CardForm.cards;window.CardForm.checkCardsIfFilled(r)}var n=""!==window.location.search,i=$$('link[rel="canonical"]')[0];n&&i&&window.location.href!==i.href&&(i.href=window.location.href)},resetForm:function(e){var t=e.querySelectorAll('input[type="hidden"], #input_language');return t.forEach((function(e){e.__defaultValue=e.value})),e.reset(),t.forEach((function(e){e.value=e.__defaultValue})),e},editMode:function(e,t,o,r,n,i){void 0===n&&(n=function(){}),void 0===i&&(i=function(){}),this.isNewSaveAndContinueLaterActive&&this.isEditMode()&&document.querySelectorAll(".js-new-sacl-button").forEach((function(e){e.style.display="none"}));let a="";JotForm.debug||(a="https://cdn.jotfor.ms/"),"true"==document.get.offline_forms&&1==document.get.jotformNext&&(a=window.location.pathname.replace("/index.html",""));const l=this;window.editModeFunction?l.editMode(e,t,o,r,n):(this.loadScript(a+"/js/form.edit.mode.js?v_"+(new Date).getTime(),(function(){l.editMode=editModeFunction,JotForm.sessionID&&e&&(e.fromSession=!0),l.editMode(e,t,o,r,i),n()})),this.loadScript(a+"/js/stock.edit.js?v_"+(new Date).getTime()))},isEditMode:function(){return"cardform"===window.FORM_MODE&&window.CardForm&&window.CardForm.layoutParams?CardForm.layoutParams.isEditMode:window.location.pathname.match(/^\/edit\//)||window.location.pathname.match(/^\/\/edit/)||window.location.href.match(/mode=inlineEdit/)||window.location.href.match(/mode=submissionToPDF/)||!0===window.JotForm.offlineEditMode},setConditions:function(e){e.reverse(),JotForm.conditions=e,e.forEach((function(e){e.action=[].concat(e.action)}))},setCalculations:function(e){0===JotForm.calculations.length?JotForm.calculations=e:Object.values(e).forEach((function(e){JotForm.calculations.push(e)}))},prepareCalculationsOnTheFly:function(e){var t=[],o=[];function r(e){return e[0].map((function(t,o){return e.map((function(e){return e[o]}))}))}e.length>0&&(JotForm.calculations.length<=0&&(JotForm.calculations=[]),e.each((function(e){e&&(t[e.name]=e.qid,o[e.name]=e.type)})),e.each((function(e){if(e){var n,i=[];switch(e.type){case"control_textbox":""!==e.text&&i.push(e.text),""!==e.subLabel&&i.push(e.subLabel),""!==e.description&&i.push(e.description);break;case"control_image":""!==e.labelText&&i.push(e.labelText);break;case"control_inline":""!==e.template&&i.push(e.template);break;default:""!==e.text&&i.push(e.text),""!==e.description&&i.push(e.description)}for(;n=i.shift();){for(var a=/\{([^\}]*)\}/gim,l=[];result=a.exec(n);l.push(result));l.length>0&&(l=r(l))[1].forEach((function(r){var n,i,a=r.indexOf(":")>-1?":":"[";n=t[r.split(a)[0]],i=o[r.split(a)[0]];var l=/\[(.*?)\]/gi.exec(r),s=l?n+"|"+l[1]:"";if("control_inline"===i){var c=/(\:)(.*)/gi.exec(r);if(c){var u=c[2].split("-");s=n+"|"+(Number(u[0])?u[0]:u[1])}}JotForm.calculations.push({decimalPlaces:"2",defaultValue:"",equation:"{"+(s||n)+"}",ignoreHiddenFields:"",insertAsText:"1",isLabel:["control_text","control_inline"].indexOf(e.type)>-1?"":"1",newCalculationType:"1",operands:s||n,readOnly:"",replaceText:r,resultField:e.qid,showBeforeInput:"",tagReplacement:"1",useCommasForDecimals:"",allZeroCopy:""})}))}}})))},runConditionForId:function(e){Object.values(JotForm.fieldConditions).forEach((function(t){t.conditions.forEach((function(t){t.terms.forEach((function(o){var r="input_"+o.field;o.field!==e&&e!==r||JotForm.checkCondition(t)}))}))}))},otherConditionTrue:function(e,t){t=t.replace(/multiple/,"");var o=!1;return Object.values(JotForm.fieldConditions).forEach((function(r){r.conditions.forEach((function(r){r.action.forEach((function(r){r.fields&&r.fields.forEach((function(n){n===e&&r.visibility&&r.visibility.toLowerCase().replace(/multiple/,"")===t&&r.hasOwnProperty("currentlyTrue")&&r.currentlyTrue&&(o=!0)})),r.field===e&&r.visibility&&r.visibility.toLowerCase()===t&&r.hasOwnProperty("currentlyTrue")&&r.currentlyTrue&&(o=!0)}))}))})),o},showField:function(e,t){if(!JotForm.otherConditionTrue(e,"hide")){t=void 0===t||t;var o=null,r=$("id_"+e),n=$("cid_"+e),i=$("section_"+e);if(!(o=i&&n?i:n&&!r?n:r)){var a=$$('input[name*="q'+e+'"][type="hidden"]');return a.length>0&&a[0].setAttribute("selected",!0),o}"control_button"===o.getAttribute("data-type")&&o.getElementsBySelector("button").length>1?o.getElementsBySelector("button").each((function(e){"Yes"===JotForm.useJotformSign&&e.hasClassName("useJotformSign-button")?e.show():JotForm.useJotformSign&&"Yes"===JotForm.useJotformSign||!e.hasClassName("submit-button")||e.show(),(e.hasClassName("form-submit-reset")||e.hasClassName("form-submit-print"))&&e.show(),e.hasClassName("form-pagebreak-back")&&e.show(),o.querySelector(".form-submit-clear-wrapper")&&o.querySelector(".form-submit-clear-wrapper").show()})):o.show();var l=o.hasClassName("form-field-hidden")||o.hasClassName("always-hidden");o.removeClassName("form-field-hidden"),(t||"cardform"===window.FORM_MODE)&&("cardform"==window.FORM_MODE&&o.hasClassName("always-hidden")&&o.setAttribute("always-hidden-removed-by-cardform",!0),o.removeClassName("always-hidden")),o.hasClassName("form-section")||o.hasClassName("form-section-closed")||!o.down(".always-hidden")||o.down(".always-hidden").removeClassName("always-hidden"),JotForm.paymentFields.indexOf(o.getAttribute("data-type"))>-1&&$("hiddenPaymentField")&&$("hiddenPaymentField").remove(),i&&(o.hasClassName("form-section-closed")?o.select(".form-collapse-table")[0].hasClassName("form-collapse-hidden")?(o.removeClassName("form-section-closed"),o.addClassName("form-section"),o.setStyle({height:"auto",overflow:"visible"})):o.setStyle({overflow:"hidden"}):o.setStyle({height:"auto",overflow:"visible"})),"html"===JotForm.getInputType(e)&&($("text_"+e).innerHTML.match(/google.*maps/gi)&&($("text_"+e).innerHTML=$("text_"+e).innerHTML),JotForm.runAllCalculationByID(e));var s=o.show();if("widget"===JotForm.getInputType(e)&&JotForm.showWidget(e),"signature"===JotForm.getInputType(e)&&l&&JotForm.showAndResizeESignature(e),"collapse"===JotForm.getInputType(e)&&i&&!o.hasClassName("form-section-closed")&&o.select("li.form-line").each((function(e){var t=e.id.split("_")[1];"widget"===JotForm.getInputType(t)?JotForm.showWidget(t):"signature"===JotForm.getInputType(t)&&JotForm.showAndResizeESignature(t)})),"cardform"==window.FORM_MODE&&l&&$("id_"+e)&&"control_matrix"==$("id_"+e).readAttribute("data-type")&&JotForm.setMatrixLayout(e,!1),JotForm.donationField&&o.down('[data-component="paymentDonation"][data-custom-amount-field]')&&JotForm.updateDonationAmount(),"control_paypalSPB"===o.getAttribute("data-type")&&$$('[data-paypal-button="Yes"]')[0]){var c=$$(".paypal-buttons.paypal-buttons-context-iframe")[0];if(c){var u=JotForm.getContainer(c);u&&u.setAttribute("paypal-button-status","show")}}return s}},collectStylesheet:function(){const e=document.querySelectorAll("style, link"),t=[];return e.forEach((function(e){"text/css"!==e.type&&"stylesheet"!==e.rel||t.push(e.outerHTML)})),t},showWidget:function(e,t){var o=!!document.getElementById("customFieldFrame_"+e)&&document.getElementById("customFieldFrame_"+e).src;if(o){var r=-1!=navigator.userAgent.indexOf("Firefox")&&"undefined"!=typeof getIframeWindow?getIframeWindow(window.frames["customFieldFrame_"+e]):window.frames["customFieldFrame_"+e],n=!(!$("customFieldFrame_"+e).hasClassName("frame-xd-ready")&&!$("customFieldFrame_"+e).retrieve("frame-xd-ready"));if(r&&n&&(window.XD.postMessage(JSON.stringify({type:"show",qid:e}),o,r),void 0!==window.JCFServerCommon&&JotForm.isVisible(JotForm.getSection($("id_"+e)))&&JotForm.isVisible($("id_"+e))&&window.JCFServerCommon.frames.hasOwnProperty(e)&&window.JCFServerCommon.frames[e].sendReadyMessage(e),t&&"configurableList"===JotForm.getWidgetType(e)&&"undefined"!=typeof FormTranslation)){var i={type:"translate",id:e,dictionary:FormTranslation.dictionary,to:FormTranslation.to,success:!0};XD.postMessage(JSON.stringify(i),o,r)}}},reloadWidget:function(e){var t=!!document.getElementById("customFieldFrame_"+e)&&document.getElementById("customFieldFrame_"+e).src;if(t){var o=-1!=navigator.userAgent.indexOf("Firefox")&&"undefined"!=typeof getIframeWindow?getIframeWindow(window.frames["customFieldFrame_"+e]):window.frames["customFieldFrame_"+e],r=!(!$("customFieldFrame_"+e).hasClassName("frame-xd-ready")&&!$("customFieldFrame_"+e).retrieve("frame-xd-ready"));o&&r&&XD.postMessage(JSON.stringify({type:"reload",qid:e}),t,o)}},disableWidget:function(e){var t=!!document.getElementById("customFieldFrame_"+e)&&document.getElementById("customFieldFrame_"+e).src;if(t){var o=-1!=navigator.userAgent.indexOf("Firefox")&&"undefined"!=typeof getIframeWindow?getIframeWindow(window.frames["customFieldFrame_"+e]):window.frames["customFieldFrame_"+e],r=!(!$("customFieldFrame_"+e).hasClassName("frame-xd-ready")&&!$("customFieldFrame_"+e).retrieve("frame-xd-ready"));o&&r&&window.XD.postMessage(JSON.stringify({type:"disable",qid:e}),t,o)}},shouldWidgetSkipSubmit:function(){if(JotForm.isEncrypted||JotForm.disableSubmitButton)return!0;var e=["stripe","braintree","square","eway","bluepay","moneris","paypalcomplete","mollie"];return"sensepass"===JotForm.payment&&"Yes"===JotForm.isDirectFlow&&e.push("sensepass"),"subscription"===window.paymentType&&"paypalcomplete"===JotForm.payment&&e.splice(e.indexOf("paypalcomplete"),1),!!(!JotForm.isEditMode()&&JotForm.isPaymentSelected()&&e.indexOf(JotForm.payment)>-1)&&(JotForm.paymentTotal>0||"stripe"==JotForm.payment&&"subscription"==window.paymentType)},showAndResizeESignature:function(e){var t=document.querySelector("#id_"+e);if(t&&JotForm.isVisible(t)&&t.querySelectorAll(".pad").length>0){const e=document.createEvent("HTMLEvents");e.initEvent("dataavailable",!0,!0),e.eventName="on:sigresize",e.memo=e.memo||{},document.querySelector(".pad").dispatchEvent(e)}},hideField:function(e,t,o){if(!JotForm.otherConditionTrue(e,"show")){var r="id_";$("cid_"+e)&&!$("id_"+e)&&(r="cid_"),$("cid_"+e)&&$("section_"+e)&&(r="section_");var n=$(r+e);if(n){n.addClassName("form-field-hidden");var i=JotForm.isEditMode()&&"dontClear"===JotForm.clearFieldOnHide&&"control_payment"===n.getAttribute("data-type");if(JotForm.paymentFields.indexOf(n.getAttribute("data-type"))>-1&&!$("hiddenPaymentField")&&!i&&appendHiddenInput("hiddenPaymentField",1,{id:"hiddenPaymentField"}),"control_paypalSPB"===n.getAttribute("data-type")&&$$('[data-paypal-button="Yes"]')[0]){var a=$$(".paypal-buttons.paypal-buttons-context-iframe")[0];if(a){var l=JotForm.getContainer(a);l&&l.setAttribute("paypal-button-status","hide")}}if("enable"==JotForm.clearFieldOnHide&&!o&&!JotForm.ignoreInsertionCondition)try{JotForm.clearField(e)}catch(e){console.log(e)}if(n.style.setProperty?n.style.setProperty("display","none","important"):n.hide(),n.getAttribute("data-type")&&"control_button"==n.getAttribute("data-type")&&n.getElementsBySelector("button").length>1){var s=n.getElementsBySelector("button"),c=s.find((function(e){return e.hasClassName("form-sacl-button")})),u=s.find((function(e){return e.hasClassName("form-submit-preview")}));(c||u)&&(n.show(),s.each((function(e){e!=c&&e!=u&&(e.addClassName("form-field-hidden"),e.style.setProperty?e.style.setProperty("display","none","important"):e.hide(),n.querySelector(".form-submit-clear-wrapper")&&n.querySelector(".form-submit-clear-wrapper").hide())})))}return JotForm.donationField&&n.down('[data-component="paymentDonation"][data-custom-amount-field]')&&JotForm.updateDonationAmount(0),JotForm.corrected(n),"enable"==JotForm.clearFieldOnHide&&"signature"===JotForm.getInputType(e)&&JotForm.handleSignatureState(e),n}var d=$$('input[name*="q'+e+'"][type="hidden"]');d.length>0&&d[0].setAttribute("selected",!1)}},handleSignatureState:function(e){var t=jQuery("#signature_pad_"+e+" .signature-line"),o=jQuery("#signature_pad_"+e+" #input_"+e),r=jQuery("#signature_pad_"+e+" .pad");r&&o&&""!==o.val()&&(r.jSignature("clear"),t.addClass("signature-placeholder"),o.val(""),JotForm.triggerWidgetCondition(e))},clearField:function(e,t,o){var r=JotForm.calculationType(e);if(!r)return;var n="input_"+e in JotForm.defaultValues?JotForm.defaultValues["input_"+e]:"";if(e.indexOf("|")>-1){var i=e.split("|");e=i[0],t||(t=i[1])}if("file"==r&&document.querySelector("#id_"+e).querySelectorAll("ul").forEach((function(e){e.getElementsByTagName("li").length>0&&e.querySelectorAll("span.qq-upload-delete").forEach((function(e){e.click()}))})),"collapse"==r)return void document.querySelector("#section_"+e).querySelectorAll(".form-line").forEach((function(e){var t=e.id.replace("id_","");JotForm.clearField(t)}));const a=t instanceof Element?t:document.getElementById(t);if("matrix"===r&&a)a.value="",!o&&a.triggerEvent&&a.triggerEvent("keyup");else if("matrix"===r){if(document.querySelector("#id_"+e).querySelectorAll('input[type="text"], input[type="tel"], input[type="number"]').forEach((function(e){e.value=e.id in JotForm.defaultValues?JotForm.defaultValues[e.id]:""})),document.querySelector("#id_"+e).querySelectorAll('input[type="radio"], input[type="checkbox"]').forEach((function(e){JotForm.defaultValues[e.id]||(e.checked=!1)})),document.querySelector("#id_"+e).querySelectorAll("select").forEach((function(e){e.id in JotForm.defaultValues?e.value=JotForm.defaultValues[e.id]:e.selectedIndex=0})),0===document.querySelector("#id_"+e).querySelectorAll("input, select").length)return;var l=document.querySelector("#id_"+e).querySelectorAll("input, select")[0];l&&l.triggerEvent&&("input"===l.nodeName.toLowerCase()?"checkbox"===l.type||"radio"===l.type?document.querySelector("#id_"+e).triggerEvent("change"):l.triggerEvent("keyup"):l.triggerEvent("change"))}else if(["address","combined","datetime","time"].includes(r)){"control_mixed"===document.querySelector("#id_"+e).getAttribute("data-type")?document.querySelector("#id_"+e).querySelectorAll(".jfField").forEach((function(e){if("mixed-dropdown"===e.getAttribute("data-type")){var t=e.querySelector("select").id;e.querySelector("input")&&(e.querySelector("input").value=t in JotForm.defaultValues?JotForm.defaultValues[t]:"")}})):document.querySelector("#id_"+e).querySelectorAll("input").forEach((function(e){e.value=e.id in JotForm.defaultValues?JotForm.defaultValues[e.id]:""})),document.querySelector("#id_"+e).querySelectorAll("select").forEach((function(e){e.id in JotForm.defaultValues?e.value=JotForm.defaultValues[e.id]:e.selectedIndex=0}));var s=document.querySelector("#input_"+e)?document.querySelector("#input_"+e):document.querySelector("#id_"+e).querySelectorAll("input")[0];s&&s.triggerEvent&&s.triggerEvent("keyup"),document.querySelector("#input_"+e+"_full")&&"true"==document.querySelector("#input_"+e+"_full").getAttribute("data-masked")&&JotForm.setQuestionMasking("#input_"+e+"_full","textMasking",document.querySelector("#input_"+e+"_full").getAttribute("maskValue"))}else if(["braintree","stripe","paypalpro","authnet"].includes(r))document.querySelector("#id_"+e).querySelectorAll('input[type="text"], .form-address-country').forEach((function(e){e.value=e.id in JotForm.defaultValues?JotForm.defaultValues[e.id]:""}));else if("html"===r)try{document.querySelector("#id_"+e).querySelectorAll(".replaceTag").forEach((function(e){var t=e.getAttribute("default");e.innerHTML=t}))}catch(e){console.log(e)}else if("inline"===r){var c="input, select";if(t){c=Number(t)<15463e8?'input[id$="-'+t+'"], select[id$="-'+t+'"]':"input[id*="+t+"-], select[id*="+t+"-]"}document.querySelector("#id_"+e).querySelectorAll(c).forEach((function(e){if(["radio","checkbox"].indexOf(e.type)>-1)e.id in JotForm.defaultValues?e.checked=!0:e.checked=!1;else{if("signaturebox"===e.parentNode.dataset.type){var t=e.parentNode.querySelector(".FITB-sign-image");t&&t.setAttribute("src","")}var o=e.id in JotForm.defaultValues?JotForm.defaultValues[e.id]:"";e.value!==o&&(e.value=o,e.triggerEvent("change"))}}))}else if("textarea"==r){document.querySelector("#input_"+e).value=n,document.querySelector("#input_"+e).triggerEvent&&!o&&document.querySelector("#input_"+e).triggerEvent("keyup"),document.querySelector("#input_"+e).showCustomPlaceHolder&&document.querySelector("#input_"+e).showCustomPlaceHolder();var u=document.querySelector("#id_"+e).querySelector(".nicEdit-main");u&&(u.innerHTML=n,document.querySelector("#input_"+e).classList.contains("custom-hint-group")&&!document.querySelector("#input_"+e).hasContent&&(u.style.cssText+="; color: #babbc0"))}else if("checkbox"==r||"radio"==r){var d=!1;document.querySelector("#id_"+e).querySelectorAll('input[type="radio"], input[type="checkbox"]').forEach((function(e){var t=e.checked;e.id in JotForm.defaultValues?e.checked=!0:e.checked=!1,d||t===e.checked||(d=!0)})),document.querySelector("#id_"+e).triggerEvent&&!o&&d&&document.querySelector("#id_"+e).triggerEvent("change")}else if("select"==r)document.querySelector("#input_"+e)?(JotForm.firstUrlPrefillCondition||document.querySelector("#input_"+e).value?JotForm.firstUrlPrefillCondition&&(document.querySelector("#input_"+e).value=n,document.querySelector("#input_"+e).triggerEvent&&!o&&document.querySelector("#input_"+e).triggerEvent("change")):document.querySelector("#input_"+e).value=n,JotForm.firstUrlPrefillCondition=!0):document.querySelector("#id_"+e).querySelectorAll("select").forEach((function(e){"mixed-dropdown"!==e.getAttribute("data-component")&&(e.value="",e.triggerEvent&&!o&&e.triggerEvent("change"))}));else if(document.querySelector("#input_"+e)){if(document.querySelector("#input_"+e).value=n,document.querySelector("#input_"+e).triggerEvent&&!o)if("widget"==r){var m=document.querySelector("#input_"+e),p=document.createEvent("HTMLEvents");p.initEvent("dataavailable",!0,!0),p.eventName="widget:clear",p.memo={qid:parseInt(m.id.split("_")[1])},m.dispatchEvent(p)}else document.querySelector("#input_"+e).triggerEvent("keyup");if(""===n&&document.querySelector("#input_"+e).hintClear&&document.querySelector("#input_"+e).hintClear(),"true"==document.querySelector("#input_"+e).getAttribute("data-masked")&&JotForm.setQuestionMasking("#input_"+e,"textMasking",document.querySelector("#input_"+e).getAttribute("maskValue")),document.querySelector("#input_"+e).classList.contains("form-star-rating")&&document.querySelector("#input_"+e).setRating&&document.querySelector("#input_"+e).setRating(0),"email"==r){var f=document.querySelector("#input_"+e).parentElement;"cardform"==window.FORM_MODE&&f&&f.classList.contains("isFilled")&&f.classList.remove("isFilled")}}},checkValueByOperator:function(e,t,o,r){try{"string"==typeof t&&t.indexOf("{")>-1&&t.indexOf("}")>-1&&(t=t.replace(/\{.*?\}/gi,(function(e){var t=e.replace(/[\{\}]/g,""),o=$$('input[name$="_'+t+'"], input[name$="_'+t+'[date]"], input[name$="_'+t+'[0]"]');if((o=Array.from(o)).length>0){var r=o.first(),n=o.find((function(e){return"radio"!==e.type}));if(r&&!n){var i=o.find((function(e){return e.checked}));return i?i.value:void 0}if(r&&r.value)return r.value}return e})))}catch(e){console.log(e)}var n=JotForm.getInputType(r),i=Object.isBoolean(o)?o:o.toString().strip().toLowerCase(),a=Object.isBoolean(t)?t:t.toString().strip().toLowerCase();switch("appointment"===n&&(i=i?new Date(i.replace(/-/g,"/")).getTime():0,a=a?new Date(a.replace(/-/g,"/")).getTime():0),e){case"equals":return"number"==n?parseFloat(i)==parseFloat(a):i==a;case"quantityEquals":case"equalDate":return i==a;case"equalDay":return JotForm.getDayOfWeek(i)==t.toLowerCase();case"notEquals":case"notEqualDate":case"quantityNotEquals":return i!=a;case"notEqualDay":return JotForm.getDayOfWeek(i)!=a;case"endsWith":return i.endsWith(a);case"notEndsWith":return!i.endsWith(a);case"startsWith":return i.startsWith(a);case"notStartsWith":return!i.startsWith(a);case"contains":return condValues=","!=a?a.split(","):a.split(" "),$A(condValues).any((function(e){return i.include(e.replace(/^\s+|\s+$/g,""))}));case"notContains":return condValues=a.split(","),!$A(condValues).any((function(e){return i.include(e.replace(/^\s+|\s+$/g,""))}));case"greaterThan":case"quantityGreater":return(parseFloat(i,10)||0)>(parseFloat(a,10)||0);case"lessThan":case"quantityLess":return!!i.length&&(parseFloat(i,10)||0)<(parseFloat(a,10)||0);case"isEmpty":return Object.isBoolean(i)||!i.empty?!i:i.empty();case"isFilled":return Object.isBoolean(i)||!i.empty?i:!i.empty();case"before":return o<t;case"after":return o>t;default:JotForm.error("Could not find this operator",e)}return!1},getDayOfWeek:function(e){return["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][(e=new Date(e)).getDay()]},typeCache:{},getInputType:function(e){if(JotForm.typeCache[e])return JotForm.typeCache[e];if("string"==typeof e&&e.indexOf("|")>-1){var t=e.split("|");e=$("id_"+t[0])&&"control_inline"==$("id_"+t[0]).readAttribute("data-type")?t[0]:t[0]+"_field_"+t[1]}var o="other";if($("id_"+e)&&"control_text"==$("id_"+e).readAttribute("data-type"))o="html";else if($("id_"+e)&&"control_inline"==$("id_"+e).readAttribute("data-type"))o="inline";else if($("input_"+e+"_pick")||$("id_"+e)&&"control_datetime"==$("id_"+e).readAttribute("data-type"))o="datetime";else if($("input_"+e+"_duration"))o="appointment";else if($("input_"+e))o="input"==$("input_"+e).nodeName.toLowerCase()?$("input_"+e).readAttribute("type").toLowerCase():$("input_"+e).nodeName.toLowerCase(),$("input_"+e).hasClassName("form-radio-other-input")&&(o="radio"),$("input_"+e).hasClassName("js-forMixed")&&(o="mixed"),$("input_"+e).hasClassName("form-checkbox-other-input")&&(o="checkbox"),$("input_"+e).hasClassName("form-autocomplete")&&(o="autocomplete"),$$("#id_"+e+" .pad").length>0&&(o="signature"),$("input_"+e).hasClassName("form-slider")&&(o="slider"),$("input_"+e).hasClassName("form-widget")&&(o="widget"),$("input_"+e).hasClassName("form-star-rating")&&(o="rating");else if($("input_"+e+"_month"))o="birthdate";else if($("input_"+e+"_hourSelect"))o="time";else{if($("cid_"+e)&&"control_collapse"==$("cid_"+e).getAttribute("data-type"))return"collapse";if($$("#id_"+e+" .form-product-item").length>0)o=$$("#id_"+e+" .form-product-item")[0].select("input")[0].readAttribute("type").toLowerCase();else if($$("#id_"+e+" .product--subscription").length>0)o=$$("#id_"+e+" .product--subscription")[0].select("input")[0].readAttribute("type").toLowerCase();else if($$("#id_"+e+" .form-address-table").length>0)o="address";else if($$("input[id^=input_"+e+"_]")[0]&&$$("input[id^=input_"+e+"_]")[0].hasClassName("form-grading-input"))o="grading";else if($("id_"+e)&&"control_mixed"==$("id_"+e).getAttribute("data-type"))o="mixed";else if($$("#id_"+e+" input")[0]){"text"!=(o=$$("#id_"+e+" input")[0].readAttribute("type").toLowerCase())&&"tel"!=o&&"number"!==o||(o="combined");var r=$$("#id_"+e+" input,#id_"+e+" select");r.every((function(e){return e.type===r[0].type}))||(o="combined")}else $$("#id_"+e+" select")[0]&&(o="select")}return JotForm.typeCache[e]=o,o},strToDate:function(e){var t=new Date(void 0),o=/(\d{4})\-(\d{2})-(\d{2})T?(\d{2})?\:?(\d{2})?/gim;if(e.empty())return t;if(!o.test(e))return t;var r=new Date;return e.replace(o,(function(e,t,o,n,i,a){return r=i?new Date(parseInt(t,10),parseInt(o,10)-1,parseInt(n,10),parseInt(i,10),parseInt(a,10)):new Date(parseInt(t,10),parseInt(o,10)-1,parseInt(n,10)),e})),r},getBirthDate:function(e){var t=document.querySelector("#input_"+e+"_day").value||"%empty%",o=document.querySelector("#input_"+e+"_month").selectedIndex||"%empty%";o=String(o);var r=(document.querySelector("#input_"+e+"_year").value||"%empty%")+"-"+(1==o.length?"0"+o:o)+"-"+(1==t.length?"0"+t:t);return r.includes("%empty%")?"":r},get24HourTime:function(e){var t=document.querySelector("#input_"+e+"_hourSelect").value;if(""==t)return"";var o=document.querySelector("#input_"+e+"_minuteSelect").value;0==o.length&&(o="00");var r=document.querySelector("#input_"+e+"_ampm")?document.querySelector("#input_"+e+"_ampm").value:"";return t=Number(t),"PM"==r&&12!=t?t+=12:"AM"==r&&12==t&&(t=0),(t=t<10?"0"+t:String(t))+o},getDateValue:function(e){let t="";const o=document.querySelector(`#year_${e}`);o&&(t+=o.value||"%empty%");const r=document.querySelector(`#month_${e}`);if(r){t+="-"+(r.value?r.value.length>1?r.value:"0"+r.value:"%empty%")}const n=document.querySelector(`#day_${e}`);if(n){t+="-"+(n.value?n.value.length>1?n.value:"0"+n.value:"%empty%")}if(t.includes("%empty%"))return JotForm.info("Wrong date: "+t),"";let i="";const a=document.querySelector(`#input_${e}_hourSelect`),l=document.querySelector(`#input_${e}_ampm`);l?a&&(i=a.value,"pm"==l.value&&(i=parseInt(i,10)+12),"24"==i&&(i=0),t+="T"+((1==i.length?"0"+i:i)||"00")):a&&(i=a.value,t+="T"+((1==i.length?"0"+i:i)||"00"));const s=document.querySelector(`#input_${e}_minuteSelect`);return s&&(t+=":"+(s.value||"00")),""===i&&(t+="T00:00"),t},hidePages:{},skippedPages:{},getAdditionalRequiredValidationArray:function(e,t){if(e.additionalRequireTypes){var o=[];return t?Object.keys(e.additionalRequireTypes).forEach((function(r){var n="string"==typeof r&&r.split("-").length>=2&&r.split("-")[1];t===n&&Object.keys(e.additionalRequireTypes[r]).forEach((function(t){o.push(e.additionalRequireTypes[r][t])}))})):Object.keys(e.additionalRequireTypes).forEach((function(t){Object.keys(e.additionalRequireTypes[t]).forEach((function(r){o.push(e.additionalRequireTypes[t][r])}))})),o}},getFieldFromID:function(e){return document.querySelector(".form-line#id_"+e)},getMatrixValues:function(e,t){const o=document.getElementById("matrix_"+e),r=o.querySelector(".forDesktop"),n=o.querySelector(".forMobile"),i=o.getAttribute("data-type");let a="desktop";r&&n&&"none"===document.defaultView.getComputedStyle(r,null).display&&(a="mobile");if(!0==("Yes No"===i&&("contains"==t||"notContains"==t))){let t="";return r&&"desktop"===a&&(t="#id_"+e+' input:not([disabled]):not([class*="jsMatrix-mobileNo"]:not([class*="jsMatrix-mobileYes"])'),n&&"mobile"===a&&(t="#id_"+e+' input:not([disabled])[class*="jsMatrix-mobileNo"],[class*="jsMatrix-mobileYes"]'),Array.from(document.querySelectorAll(t)).map((function(e){return function(e){const t=e.id,o=Array.from(document.querySelectorAll('label[for="'+t+'"]')),r=o.length>0?o[0].innerText:e.checked;return e.checked?r:e.checked}(e)}))}},addEventToDebug:function(e){!Object.keys(e).length||JotForm&&-1===JotForm.conditionCalculationDebugEnabledServers.indexOf(JotForm.enterprise)||JotForm.conditionCalculationDebugLogs.push(e)},checkCondition:function(e,t,o){if(e.__disabledByDebugger)return;JotForm.addEventToDebug({conditionID:e.id,sourceField:t,sourceEvent:o});var r,n=!1,i=!0;void 0===e.link&&(e.link="Any"),$A(e.terms).each((function(t){var o,a=JotForm.getFieldIdFromFieldRef(t.value);t.field=String(t.field);try{var l=JotForm.getInputType(t.field);switch(l){case"combined":if(["isEmpty","isFilled"].include(t.operator))return r=$$("#id_"+t.field+" input,#id_"+t.field+" select").filter((e=>"hidden"!==e.getAttribute("type"))).collect((function(e){return"checkbox"===e.getAttribute("type")||"radio"===e.getAttribute("type")?e.checked?e.value:"":e.value})).any(),void(JotForm.checkValueByOperator(t.operator,t.value,r)?n=!0:i=!1);o=$$("#id_"+t.field+" input,#id_"+t.field+" select").collect((function(e){return"checkbox"===e.getAttribute("type")||"radio"===e.getAttribute("type")?e.checked?e.value:"":e.value})),JotForm.checkValueByOperator(t.operator,t.value,o)?n=!0:i=!1;break;case"address":if(["isEmpty","isFilled"].include(t.operator))r=$$("#id_"+t.field+" input:not(.jfDropdown-search)","#id_"+t.field+" select").collect((function(e){return e.value})).any(),JotForm.checkValueByOperator(t.operator,t.value,r)?n=!0:i=!1;else if("equalCountry"==t.operator||"notEqualCountry"==t.operator){var s=t.value;a&&(s=$("input_"+a+"_country").value),$("input_"+t.field+"_country").select("option").each((function(e){if(s===e.value)throw q=e,$break})),q&&("equalCountry"==t.operator?q.selected?n=!0:i=!1:"notEqualCountry"==t.operator&&(q.selected?i=!1:n=!0))}else{var c;s=t.value;a&&(s=$("input_"+a+"_state").value),(c=$("input_"+t.field+"_state").value)&&("equalState"==t.operator?c==s?n=!0:i=!1:"notEqualState"==t.operator&&(c!=s?n=!0:i=!1))}break;case"birthdate":case"datetime":if(void 0===(o="datetime"==l?JotForm.getDateValue(t.field):JotForm.getBirthDate(t.field)))return;if(["isEmpty","isFilled"].include(t.operator))JotForm.checkValueByOperator(t.operator,t.value,o)?n=!0:i=!1;else{s=t.value;if((s=t.value.toLowerCase().replace(/\s/g,"")).indexOf("today")>-1){var u=parseInt(s.split("today")[1])||0,d=new Date;d.setDate(d.getDate()+u);var m=d.getFullYear();f=(f=d.getMonth()+1)<10?"0"+f:f;var p=d.getDate();s=m+"-"+f+"-"+(p=p<10?"0"+p:p)}else if(a){m=$("year_"+a).value;var f=$("month_"+a).value;p=$("day_"+a).value;s="equalDay"===t.operator||"notEqualDay"===t.operator?JotForm.getDayOfWeek(JotForm.strToDate(m+"-"+f+"-"+p)):JotForm.getDateValue(a)}["equalDate","notEqualDate","before","after"].include(t.operator)?JotForm.checkValueByOperator(t.operator,JotForm.strToDate(s),JotForm.strToDate(o))?n=!0:i=!1:["equalDay","notEqualDay"].include(t.operator)?JotForm.checkValueByOperator(t.operator,s,JotForm.strToDate(o))?n=!0:i=!1:JotForm.checkValueByOperator(t.operator,JotForm.strToDate(s),JotForm.strToDate(o))?n=!0:i=!1}break;case"time":o=JotForm.get24HourTime(t.field);s=t.value?t.value.replace(/:/,""):"";a&&(s=JotForm.get24HourTime(a)),3==s.length&&(s="0"+s),"before"==t.operator&&o.empty()?i=!1:JotForm.checkValueByOperator(t.operator,s,o)?n=!0:i=!1;break;case"checkbox":case"radio":if(["isEmpty","isFilled"].include(t.operator))return r=$$("#id_"+t.field+" input").collect((function(e){return e.checked})).any(),void(JotForm.checkValueByOperator(t.operator,t.value,r)?n=!0:i=!1);if(t.value&&(t.value=t.value.replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<")),["lessThan","greaterThan"].include(t.operator)){var h=!1;return $$("#id_"+t.field+" input").each((function(e){o=e.checked?e.value:"",JotForm.checkValueByOperator(t.operator,t.value,o)&&(n=!0,h=!0)})),void(h||(i=!1))}var g=$("id_"+t.field).down(".form-"+l+"-other-input")?$("id_"+t.field).down(".form-"+l+"-other-input").getAttribute("data-otherhint").replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<"):"";$$("#id_"+t.field+" input").each((function(r){o=r.hasClassName("form-"+l+"-other")&&r.checked?"-- "+g+" --":(o=r.checked?r.value:"").replace(/_expanded/,"");var a=t.value.strip(),s=JotForm.checkValueByOperator(t.operator,a,o);if("notEquals"==t.operator&&(s=$$("#id_"+t.field+" input").filter((function(e){return e.checked})).map((function(e){return JotForm.checkValueByOperator(t.operator,a,e.value)})).every((function(e){return e}))),document.getElementById("matrix_"+t.field)){var c=JotForm.getMatrixValues(t.field,t.operator);c&&(s=JotForm.checkValueByOperator(t.operator,a,c))}if(s)n=!0;else if("notEquals"==t.operator&&a==o){if(i=!1,"all"==e.link.toLowerCase())throw $break}else(r.value==a||r.hasClassName("form-"+l+"-other")&&a=="-- "+g+" --"||r.value.replace(/_expanded/,"")==a)&&(i=!1)}));break;case"select":t.value&&(t.value=t.value.replace(/&amp;/g,"&"));var v="";if(t.field.indexOf("|")>-1)v="input_"+(D=t.field.split("|"))[0]+"_field_"+D[1];else v="input_"+t.field;if($(v)&&$(v).multiple){if("equals"==t.operator)(q=$(v).querySelector('option[value="'+(t.value||"").replace(/["\\]/g,"\\$&")+'"]'))&&q.selected?n=!0:i=!1;else if("notEquals"==t.operator){(q=$(v).querySelector('option[value="'+(t.value||"").replace(/["\\]/g,"\\$&")+'"]'))&&!q.selected?n=!0:i=!1}else if(["isEmpty","isFilled"].include(t.operator)){for(var y=!1,F=$(v).options,b=0;b<F.length;b++)F[b].value.empty()||1!=F[b].selected||(y=!0);"isEmpty"==t.operator&&(y?i=!1:n=!0),"isFilled"==t.operator&&(y?n=!0:i=!1)}}else if($(v)){if(void 0===(o=$(v).value))return;JotForm.checkValueByOperator(t.operator,t.value,o)?n=!0:i=!1}else["isEmpty","isFilled"].include(t.operator)?(r=$$("#id_"+t.field+" select").collect((function(e){return e.value})).any(),JotForm.checkValueByOperator(t.operator,t.value,r)?n=!0:i=!1):(o=$$("#id_"+t.field+" select").collect((function(e){return e.value})),JotForm.checkValueByOperator(t.operator,t.value,o)?n=!0:i=!1);break;case"grading":["isEmpty","isFilled"].include(t.operator)?(r=$$("input[id^=input_"+t.field+"_]").collect((function(e){return e.value})).any(),JotForm.checkValueByOperator(t.operator,t.value,r)?n=!0:i=!1):(o=$("grade_point_"+t.field).innerHTML.stripTags(),JotForm.checkValueByOperator(t.operator,t.value,o)?n=!0:i=!1);break;case"file":if(void 0===(o=$("id_"+t.field).select(".qq-uploader").length>0?$("id_"+t.field).select(".qq-upload-file").length>0:$("input_"+t.field).uploadMarked?$("input_"+t.field).uploadMarked:$("input_"+t.field).value))return;JotForm.checkValueByOperator(t.operator,t.value,o,t.field)?n=!0:i=!1;break;case"textarea":if(o=$("input_"+t.field).value,($("input_"+t.field).hinted||$("input_"+t.field).hasClassName("form-custom-hint"))&&(o=""),void 0===o)return;$("id_"+t.field).down(".nicEdit-main")&&(o=o.stripTags().replace(/\s/g," ").replace(/&nbsp;/g," ")),JotForm.checkValueByOperator(t.operator,t.value,o,t.field)?n=!0:i=!1;break;case"widget":o=$("input_"+t.field).value;var w=t.field,_=JotForm.getWidgetType(t.field);if(void 0===o)return;if(_&&"checklist"===_){var E=JotForm.getChecklistWidgetValues(t.field).checked;w=-1!==E.indexOf(t.value),o=E.find((function(e){return e===t.value}))||"","isFilled"!==t.operator&&"isEmpty"!==t.operator||(o=E.join(","))}if(_&&("inventory"==_||"inventoryV2"==_)&&o){var S=o.split("\n");Array.isArray(S)&&(o=S[0],isNaN(S[0])&&(o=S[0].match(/ \[(\d+)\]$/)[1]))}if(o.indexOf("widget_metadata")>-1)try{o=JSON.parse(o).widget_metadata.value;var J=!1;for(b=0;b<o.length;b++){var C=o[b];for(var A in C)JotForm.checkValueByOperator(t.operator,t.value,C[A],w)&&(n=!0,J=!0)}J||(i=!1)}catch(e){console.log(e)}else o="greaterThan"!==t.operator&&"lessThan"!==t.operator||"string"!=typeof o?o:o.replace(/,/g,""),JotForm.checkValueByOperator(t.operator,t.value,o,w)?n=!0:i=!1;break;case"hidden":o=$("input_"+t.field+"_donation")?$("input_"+t.field+"_donation").value:$("input_"+t.field).value,JotForm.checkValueByOperator(t.operator,t.value,o,t.field)?n=!0:i=!1;break;case"rating":o=$("input_"+t.field).value||"",JotForm.checkValueByOperator(t.operator,t.value,o,t.field)?n=!0:i=!1;break;case"inline":var x="";if(!(t.field.indexOf("|")>-1))return;var k=(D=t.field.split("|"))[0],T=D[1];x="#id_"+k+" input"+(x=Number(T)>15463e8?"[id*="+T+"-]":"[id$=-"+T+"]")+", #id_"+k+" select"+x;var I=$$(x);if(0===I.length)return;o=I.collect((function(e){return["checkbox","radio"].indexOf(e.getAttribute("type"))>-1?e.checked?e.value:"":e.value})).filter((function(e){return e})).join(" "),JotForm.checkValueByOperator(t.operator,t.value,o,t.field)?n=!0:i=!1;break;case"appointment":o=JotForm.appointments[t.field].getComparableValue(),JotForm.checkValueByOperator(t.operator,t.value,o,t.field)?n=!0:i=!1;break;default:var D;v="";if(t.field.indexOf("|")>-1)v="input_"+(D=t.field.split("|"))[0]+"_field_"+D[1];else v="input_"+t.field;if(!$(v))return;if($(v)&&$(v).multiple){if("equals"==t.operator)(q=$(v).select("option[value="+t.value+"]")).length>0&&q[0].selected?n=!0:i=!1;else if("notEquals"==t.operator){var q;(q=$(v).select("option[value="+t.value+"]")).length>0&&!q[0].selected?n=!0:i=!1}else if(["isEmpty","isFilled"].include(t.operator)){for(y=!1,F=$(v).options,b=0;b<F.length;b++)F[b].value.empty()||1!=F[b].selected||(y=!0);"isEmpty"==t.operator&&(y?i=!1:n=!0),"isFilled"==t.operator&&(y?n=!0:i=!1)}}else if($(v)){if(void 0===(o=$(v).value))return;JotForm.checkValueByOperator(t.operator,t.value,o,t.field)?n=!0:i=!1}else["isEmpty","isFilled"].include(t.operator)?(r=$$("#id_"+t.field+" select").collect((function(e){return e.value})).any(),JotForm.checkValueByOperator(t.operator,t.value,r,t.field)?n=!0:i=!1):(o=$$("#id_"+t.field+" select").collect((function(e){return e.value})),JotForm.checkValueByOperator(t.operator,t.value,o,t.field)?n=!0:i=!1)}}catch(e){JotForm.error(e)}}));const a=["time","datetime","text","mixed"],l=e.action&&e.action[0]&&e.action[0].operands&&e.action[0].operands.split(",")||[],s=e.action&&e.action[0]&&e.action[0].baseField&&e.action[0].baseField.split(",")||[],c=Boolean([...s,...l].find((e=>a.includes(JotForm.getInputType(e)))));if(("calculation"!==e.type||(this.loopMapExist||c))&&function(){var t=(new Date).getTime(),o=t%1e3;o=o<500?"0":"1";var r=parseInt(t/1e3),n=e.id+"-"+r+"-"+o,i=Array.isArray(JotForm.conditions)&&19*(JotForm.conditions.length/100+1)||19,a=i>100?100:i,l="enable"==JotForm.clearFieldOnHide?3:a;if(window.lastConditionTimeStamp=window.lastConditionTimeStamp||(new Date).getTime(),(t-window.lastConditionTimeStamp)/1e3>10&&(window.__antiConditionLoopCache={},window.lastConditionTimeStamp=null),"__antiConditionLoopCache"in window||(window.__antiConditionLoopCache={}),n in window.__antiConditionLoopCache){if(window.__antiConditionLoopCache[n]++,window.__antiConditionLoopCache[n]>l)return!0}else window.__antiConditionLoopCache[n]=1;return!1}()){if(JotForm.isConditionDebugMode){var u=JotForm.conditions.findIndex((t=>t===e));"function"==typeof __conditionDebugger_logStatus&&__conditionDebugger_logStatus([{title:"Loop Detected In",value:`Condition - ${u}`}]),console.log({condition:e,sourceField:t,index:u},"IN CHECK CONDITION")}}else{if("field"==e.type){var d="any"==e.link.toLowerCase()&&n||"all"==e.link.toLowerCase()&&i;if(1==e.disabled)return;e.action.each((function(t){var o=e.terms.any((function(e){return e.field==t.field}));d?(t.currentlyTrue=!0,"show"==t.visibility.toLowerCase()?JotForm.showField(t.field):"hide"==t.visibility.toLowerCase()?JotForm.hideField(t.field,!1,o):"showmultiple"==t.visibility.toLowerCase()&&t.fields?JotForm.showOrHideMultipleFields?JotForm.showOrHideMultipleFields(!0,t.fields,!0):t.fields.each((function(e){JotForm.showField(e,!0)})):"hidemultiple"==t.visibility.toLowerCase()&&t.fields&&(JotForm.showOrHideMultipleFields?JotForm.showOrHideMultipleFields(!1,t.fields,!0,o):t.fields.each((function(e){JotForm.hideField(e,!0,o)})))):(t.currentlyTrue=!1,"show"==t.visibility.toLowerCase()?JotForm.hideField(t.field,!1,o):"hide"==t.visibility.toLowerCase()?JotForm.showField(t.field,!1):"showmultiple"==t.visibility.toLowerCase()&&t.fields?JotForm.showOrHideMultipleFields?JotForm.showOrHideMultipleFields(!1,t.fields,!0,o):t.fields.each((function(e){JotForm.hideField(e,!0,o)})):"hidemultiple"==t.visibility.toLowerCase()&&t.fields&&(JotForm.showOrHideMultipleFields?JotForm.showOrHideMultipleFields(!0,t.fields,!0):t.fields.each((function(e){JotForm.showField(e,!0)})))),"cardform"!==window.FORM_MODE&&JotForm.iframeHeightCaller(),($("section_"+t.field)||"fields"in t)&&"enable"===JotForm.clearFieldOnHide&&JotForm.runAllCalculations(!0),$("input_"+t.field)&&$("input_"+t.field).triggerEvent&&!o&&$("input_"+t.field).className.indexOf("-other-")<0&&$("input_"+t.field).triggerEvent("keyup")}))}else if("require"==e.type){d="any"==e.link.toLowerCase()&&n||"all"==e.link.toLowerCase()&&i;e.action.each((function(e){if(e.currentlyTrue=d,"require"==e.visibility.toLowerCase()){var t=JotForm.getAdditionalRequiredValidationArray(e,!1);JotForm.requireField(e.field,d,t)}else"unrequire"==e.visibility.toLowerCase()?JotForm.requireField(e.field,!d):"requiremultiple"==e.visibility.toLowerCase()&&e.fields?e.fields.each((function(t){var o=JotForm.getAdditionalRequiredValidationArray(e,t);JotForm.requireField(t,d,o)})):"unrequiremultiple"==e.visibility.toLowerCase()&&e.fields?e.fields.each((function(e){JotForm.requireField(e,!d)})):"enable"==e.visibility.toLowerCase()?JotForm.enableDisableField(e.field,d):"disable"==e.visibility.toLowerCase()?JotForm.enableDisableField(e.field,!d):"disablesubmit"==e.visibility.toLowerCase()&&JotForm.disableSubmitForCard(e,d)}))}else if("mask"==e.type)try{e.action.each((function(t){if("any"==e.link.toLowerCase()&&n||"all"==e.link.toLowerCase()&&i)e.conditionTrue=!0,JotForm.setQuestionMasking("#input_"+t.field,"textMasking",t.mask),$("input_"+t.field)&&($("input_"+t.field).writeAttribute("data-masked","true"),-1===$("input_"+t.field).className.indexOf("validate[Fill Mask]")&&$("input_"+t.field).addClassName("validate[Fill Mask]"),$("input_"+t.field).writeAttribute("masked","true"),JotForm.setFieldValidation($("input_"+t.field)));else{e.conditionTrue=!1;var o=!0;$A(JotForm.conditions).each((function(e){1!=e.disabled&&"mask"===e.type&&e.conditionTrue&&$A(e.action).each((function(e){e.field==t.field&&(o=!1)}))})),o&&(JotForm.setQuestionMasking("#input_"+t.field,"","",!0),$("input_"+t.field)&&$("input_"+t.field).writeAttribute("masked","false"))}}))}catch(e){console.log(e)}else if("calculation"==e.type){var m=e.action[0].resultField,p=$("id_"+m);if(m.indexOf("|")>-1){var f=m.split("|"),h=f[0],g=f[1];$("id_"+h)&&"control_inline"===$("id_"+h).getAttribute("data-type")?p=$$("#id_"+h+" input[id*="+g+"]"):(m="input_"+h+"_field_"+g,p=$(m))}if(!p)return;for(var v=JotForm.calculations,y=0;y<v.length;y++)v[y].conditionId===e.id&&(calc=v[y]);"any"==e.link.toLowerCase()&&n||"all"==e.link.toLowerCase()&&i?(calc.conditionTrue=!0,JotForm.checkCalculation(calc,t,o)):(calc.conditionTrue=!1,"startdate"===calc.resultFieldProp&&JotForm.appointments[calc.resultField].forceStartDate(),"enddate"===calc.resultFieldProp&&JotForm.appointments[calc.resultField].forceEndDate(),setTimeout((function(){for(var t,o={},r=0;r<v.length;r++)e.action[0].resultField==v[r].resultField&&v[r].hasOwnProperty("conditionTrue")&&v[r].conditionTrue&&("html"!==JotForm.getInputType(e.action[0].resultField)||e.action[0].replaceText===v[r].replaceText)&&(t=v[r].resultSubField||"",o[v[r].resultField+t]=!0);if(t="resultSubField"in e.action[0]?e.action[0].resultSubField:"",!o[e.action[0].resultField+t])try{var n=e.terms.map((function(t){return t.field===e.action[0].resultField})).any();n||(n=e.action[0].operands&&e.action[0].operands.split(",").include(e.action[0].resultField));var i=e.action[0].resultField;JotForm.isEditMode()||JotForm.ignoreInsertionCondition||JotForm.clearField(i,t,n),"object"==typeof window.__antiLoopCache&&i in window.__antiLoopCache&&delete window.__antiLoopCache[i]}catch(e){console.log(e)}}),50,calc))}else{if("url"==e.type)return"any"==e.link.toLowerCase()&&n||"all"==e.link.toLowerCase()&&i;d="any"==e.link.toLowerCase()&&n||"all"==e.link.toLowerCase()&&i;if($A(e.action).length>0&&"hidePage"===e.action.first().skipHide){var F=e.action.first();if("cardform"==window.FORM_MODE)"any"==e.link.toLowerCase()&&n||"all"==e.link.toLowerCase()&&i?JotForm.hideField(F.skipTo):JotForm.showField(F.skipTo);else{var b=parseInt(F.skipTo.replace("page-",""),10);"any"==e.link.toLowerCase()&&n||"all"==e.link.toLowerCase()&&i?(JotForm.hidePages[b]=!0,Array.from(document.querySelectorAll(".form-all .page-section")[b-1].children||[]).forEach((function(e){JotForm.corrected(e)}))):JotForm.hidePages[b]=!1}return}if($A(e.action).length>0&&"skipTo"===e.action.first().skipHide){F=e.action.first();if("cardform"!==window.FORM_MODE){b=parseInt(F.skipTo.replace("page-",""),10);var w=JotForm.currentSection.pagesIndex;"any"==e.link.toLowerCase()&&n||"all"==e.link.toLowerCase()&&i?$$(".page-section").forEach((e=>{e.pagesIndex>w&&e.pagesIndex<b&&(JotForm.skippedPages[e.pagesIndex]=!0)})):$$(".page-section").forEach((e=>{e.pagesIndex>w&&e.pagesIndex<b&&(JotForm.skippedPages[e.pagesIndex]=!1)}))}}var _;F=e.action[0];if("cardform"==window.FORM_MODE){var E,S;_=$$(".form-all > .form-line");try{var J=window.CardLayout.layoutParams.allQuestions,C=_.find((function(e){return e.firstChild&&e.firstChild.classList.contains("isVisible")}));J.some((function(e,t){if(e.id===C.id.substring(C.id.indexOf("_")+1))return E=t,!0})),"end"==F.skipTo?S=J.length-1:J.some((function(e,t){if(e.id===F.skipTo||e.id===F.skipTo.replace("page-",""))return S=t,!0}))}catch(e){console.log(e)}}else _=$$(".form-all > .page-section");if("cardform"==window.FORM_MODE&&!d){for(y=S;y<J.length;y++)J[S]&&"control_head"===J[S].type&&S++;if(E<S)for(y=E+1;y<S;y++){if((D=JotForm.getFieldFromID(J[y].id))&&!D.hasClassName("always-hidden")&&!D.getAttribute("always-hidden-removed-by-cardform")&&D.getAttribute("data-skipped-by")!==J[E].id){var A=!1;if("control_widget"===D.readAttribute("data-type")){var x=D.select('input[id="widget_settings_'+J[y].id+'"]').first();if(x&&x.value)for(var k=JSON.parse(decodeURIComponent(x.value)),T=0;T<k.length;T++)if("hide"===k[T].name&&"Yes"===k[T].value){A=!0;break}}A||JotForm.showField(J[y].id)}}}if(JotForm.nextPage)return;if(d){if("cardform"==window.FORM_MODE)if("end"==F.skipTo)JotForm.nextPage=_[_.length-1];else try{JotForm.headerInBetween=!1;for(y=S;y<J.length;y++)J[S]&&"control_head"===J[S].type&&(JotForm.headerInBetween=!0,S++);var I=J[S].id;if(_.find((function(e){return e.id==="id_"+I})))if(JotForm.nextPage=_.find((function(e){return e.id==="id_"+I})),JotForm.prevPage=C,E<S)for(y=E+1;y<S;y++){(D=JotForm.getFieldFromID(J[y].id))&&!D.hasClassName("always-hidden")&&(JotForm.hideField(J[y].id),D.setAttribute("data-skipped-by",J[E].id))}else for(y=E-1;y>=S;y--){var D;(D=JotForm.getFieldFromID(J[y].id))&&!D.hasClassName("always-hidden")&&JotForm.showField(J[y].id)}}catch(e){console.log(e)}else"end"==F.skipTo?JotForm.nextPage=_[_.length-1]:JotForm.nextPage=_[parseInt(F.skipTo.replace("page-",""),10)-1];if($$('[data-type="control_paypalSPB"]')[0]&&$$('[data-paypal-button="Yes"]')[0]){var q=JotForm.getSection($$('[data-type="control_paypalSPB"]')[0]).pagesIndex,N=(C=JotForm.currentSection.pagesIndex,JotForm.nextPage.pagesIndex);if(q>C&&q<N||q<C&&q>N){var M=$$(".paypal-buttons.paypal-buttons-context-iframe")[0],O=JotForm.getContainer(M);M&&O&&O.setAttribute("paypal-button-status","hide")}}}else JotForm.info("Fail: Skip To: page-"+JotForm.currentPage+1),JotForm.nextPage=!1}if(JotForm.nextPage&&JotForm.isEditMode()&&"cardform"!==window.FORM_MODE){var L=$$(".page-section").indexOf(JotForm.currentSection);JotForm.nextPage=!("any"==e.link.toLowerCase()?e.terms.every((function(e){return $$(".page-section").indexOf($("id_"+e.field).up(".page-section"))>L})):e.terms.some((function(e){return $$(".page-section").indexOf($("id_"+e.field).up(".page-section"))>L})))&&JotForm.nextPage}JotForm.enableDisableButtonsInMultiForms()}},currentPage:!1,nextPage:!1,previousPage:!1,fieldConditions:{},setFieldConditions:function(e,t,o){var r="";if(e.indexOf("|")>-1){var n=e.split("|");r=n[0]+"_field_"+n[1]}else r=e;JotForm.fieldConditions[r]||(JotForm.fieldConditions[r]={event:t,conditions:[]}),JotForm.fieldConditions[r].conditions.push(o),this.setSubproductQuantityConditions(r,o)},setSubproductQuantityConditions:function(e,t){if(e.match(/input_[0-9]+_quantity_[0-9]+_[0-9]+/)){var o=e.split("_")[1],r=e.split("_")[3],n=document.querySelector('.form-product-item[pid="'+r+'"], .form-product-item[data-pid="'+r+'"]');if(!n)return;var i=n.querySelectorAll("#input_"+o+"_"+r+"_subproducts.form-product-child-table .form-subproduct-quantity");if(0===i.length)return;Array.from(i).forEach((function(e){var o=JSON.parse(JSON.stringify(t));o.terms[0].field=e.id.replace("input_","");var r={conditions:[],event:"change"};r.conditions.push(o),JotForm.fieldConditions[e.id]=r}))}},widgetsAsCalculationOperands:[],requireWidget:function(e,t){var o=!!document.getElementById("customFieldFrame_"+e)&&document.getElementById("customFieldFrame_"+e).src;if(o){var r=-1!=navigator.userAgent.indexOf("Firefox")&&"undefined"!=typeof getIframeWindow?getIframeWindow(window.frames["customFieldFrame_"+e]):window.frames["customFieldFrame_"+e],n=!(!$("customFieldFrame_"+e).hasClassName("frame-xd-ready")&&!$("customFieldFrame_"+e).retrieve("frame-xd-ready"));r&&n&&window.XD.postMessage(JSON.stringify({type:"required",qid:e,req:t}),o,r)}},requireField:function(e,t,o){var r=null;if(e.indexOf("|")>-1){r=e.split("|")[1];e=e.split("|")[0]}if($("id_"+e)&&!JotForm.otherConditionTrue(e,t?"unrequire":"require")){var n=[];r?(n=$$("#id_"+e+" input[id$=-"+r+"], #id_"+e+" textarea[id$=-"+r+"], #id_"+e+" select[id$=-"+r+"]"),"cardform"==window.FORM_MODE&&$("input_"+e+"_field_"+r)&&$("input_"+e+"_field_"+r).hasClassName("js-forMixed")&&(n=$$("#id_"+e+" input[id$=_"+r+"], #id_"+e+" textarea[id$=_"+r+"], #id_"+e+" select[id$=_"+r+"]"))):n=$$("#id_"+e+" input, #id_"+e+" textarea, #id_"+e+" select"),n.each((function(r){if(!("coupon-input"===r.id||"hidden"===r.type&&!r.up(".form-star-rating")&&!r.hasClassName("form-widget")&&!r.up('.FITB-inptCont[data-type="signaturebox"]')&&("input_"+e+"_date"!==r.id||"appointment"!==JotForm.getInputType(e)||!$("input_"+e+"_date"))||r.hasClassName("form-checkbox-other-input")||r.hasClassName("form-radio-other-input")||r.hasClassName("jfModal-input")||$A(["prefix","middle","suffix","addr_line2"]).any((function(e){return r.name.indexOf("["+e+"]")>-1}))||r.hasClassName("jfDropdown-search")||r.hasClassName("jfRating-shortcut-input")||r.hasClassName("__PrivateStripeElement-input")||r.up(".product-container-wrapper .filter-container #payment-category-dropdown")||r.up(".product-container-wrapper .filter-container")&&"productSearch-input"===r.id)){var n=[];if(n=r.className.indexOf("validate[")>-1?(n=r.className.substr(r.className.indexOf("validate[")+9)).substr(0,n.indexOf("]")).split(/\s*,\s*/):[],"file"==JotForm.getInputType(e)&&"multiple"==r.getAttribute("multiple")&&r.up("[class*=validate[multipleUpload]]")){var i=r.up("[class*=validate[multipleUpload]]");i.className=i.className.replace(/validate\[required\]/gi,""),t?i.addClassName("validate[required]"):i.removeClassName("form-validation-error")}"input_"+e+"_date"===r.id&&"appointment"==JotForm.getInputType(e)&&$("input_"+e+"_date")&&(t?$("input_"+e+"_date").addClassName("validate"):$("input_"+e+"_date").removeClassName("validate")),r.className=r.className.replace(/validate\[.*\]/,"");for(var a=n.length-1;a>=0;a--)("required"===n[a]||o&&o.some((function(e){return e===n[a]})))&&n.splice(a,1);t?(n.push("required"),o&&o.forEach((function(e){n.push(e)})),r.hasClassName("form-widget")&&r.addClassName("widget-required")):(r.removeClassName("form-validation-error"),r.removeClassName("widget-required")),n.length>0&&r.addClassName("validate["+n.join(",")+"]"),JotForm.setFieldValidation(r),"widget"==JotForm.getInputType(e)&&JotForm.requireWidget(e,t)}}));var i=$$("div.pad#sig_pad_"+e)[0];i&&(i.setAttribute("data-required",t),i.className=i.className.replace("validate[required]","").trim(),t&&(i.className=i.className+" validate[required]")),t?($("label_"+e)&&!$("label_"+e).down(".form-required")&&$("label_"+e).insert('<span class="form-required">*</span>'),n.each((function(e){e.up(".FITB-inptCont")&&!e.up(".FITB-inptCont").down(".form-required")&&e.up(".FITB-inptCont").insert('<span class="form-required">*</span>')}))):($("label_"+e)&&$("label_"+e).down(".form-required")&&$("label_"+e).down(".form-required").remove(),n.each((function(e){e.up(".FITB-inptCont")&&e.up(".FITB-inptCont").down(".form-required")&&e.up(".FITB-inptCont").down(".form-required").remove()})),$("id_"+e).down(".form-error-message")&&$("id_"+e).down(".form-error-message").remove(),$("id_"+e).removeClassName("form-line-error"),0==$$(".form-line-error").length&&JotForm.hideButtonMessage())}},enableDisableField:function(e,t){var o=null;if(e.indexOf("|")>-1){o=e.split("|")[1];e=e.split("|")[0]}if($("id_"+e))try{var r="control_signature"===$("id_"+e).getAttribute("data-type"),n="control_appointment"===$("id_"+e).getAttribute("data-type"),i=n?Array.from($("id_"+e).querySelectorAll(".calendarDay:not(.isUnavailable):not(.empty), .calendarDay.conditionallyDisabled, .appointmentSlot:not(.disabled), .appointmentSlot.conditionallyDisabled")):[],a=!!("control_widget"===$("id_"+e).readAttribute("data-type")&&JotForm.getWidgetType(e))&&$("id_"+e).down("iframe"),l=[];o?(l=$("id_"+e).select("input[id*="+o+"], select[id*="+o+"]"),"cardform"==window.FORM_MODE&&$("input_"+e+"_field_"+o)&&$("input_"+e+"_field_"+o).hasClassName("js-forMixed")&&(l=$$("#id_"+e+" input[id$=_"+o+"], #id_"+e+" textarea[id$=_"+o+"], #id_"+e+" select[id$=_"+o+"]"))):l=$("id_"+e).select("input, textarea, select, button").concat(i),l.each((function(o){var i=n&&o.hasClassName("appointmentSlot"),l=n&&o.hasClassName("calendarDay"),s=i&&o.hasClassName("active"),c=o.hasAttribute("data-richtext")&&"Yes"==o.getAttribute("data-richtext"),u=r?jQuery("#sig_pad_"+e+".pad"):null;if(!(o.hasClassName("js-mobileMatrixPrevButton")||o.hasClassName("js-mobileMatrixNextButton")))if(t){if(o.removeClassName("conditionallyDisabled"),u&&u.jSignature&&u.jSignature("enable"),a&&a.setStyle({"pointer-events":""}),"calculation"===o.readAttribute("data-component")&&JotForm.accessible&&o.setAttribute("readonly","false"),!JotForm.isEditMode()){if(o.enable(),o.classList.contains("form-star-rating-star")&&o.parentNode.enable(),s)o.setStyle({"pointer-events":"all"});else if(c){(d=o.parentElement.querySelector(".nicEdit-main"))&&d.setAttribute("contenteditable","true")}else o.removeClassName(i?"disabled":l?"isUnavailable":"");return}switch(o.tagName){case"SELECT":$$("#"+o.id+" > option").each((function(e){e.enable()}));break;case"TEXTAREA":if(c)(d=o.parentElement.querySelector(".nicEdit-main"))&&d.setAttribute("contenteditable","true");default:o.removeAttribute("readonly"),o.enable()}}else if(o.hasClassName("form-radio-other-input")||o.hasClassName("form-checkbox-other-input")||o.addClassName("conditionallyDisabled"),u&&u.jSignature&&u.jSignature("disable"),a&&a.setStyle({"pointer-events":"none"}),JotForm.isEditMode())switch(o.tagName){case"SELECT":$$("#"+o.id+" > option").each((function(e){e.disabled=!e.selected}));break;case"INPUT":(["checkbox","radio"].include(o.type)||"file"===o.type||["year_"+e,"month_"+e,"day_"+e,"lite_mode_"+e].include(o.id)||"input-spinner"===o.getAttribute("data-type"))&&o.disable();case"TEXTAREA":if(c)(d=o.parentElement.querySelector(".nicEdit-main"))&&d.setAttribute("contenteditable","false");default:o.setAttribute("readonly","")}else if(o.disable(),o.classList.contains("form-star-rating-star")&&o.parentNode.disable(),"calculation"===o.readAttribute("data-component")&&JotForm.accessible&&(o.enable(),o.setAttribute("readonly","true")),s)o.setStyle({"pointer-events":"none"});else if(c){var d;(d=o.parentElement.querySelector(".nicEdit-main"))&&d.setAttribute("contenteditable","false")}else o.addClassName(i?"disabled":l?"isUnavailable":"")}))}catch(e){console.log(e)}},triggerWidgetCalculation:function(e){if(JotForm.widgetsAsCalculationOperands.include(e))if(document.createEvent){var t=document.createEvent("HTMLEvents");t.initEvent("change",!0,!0),$("input_"+e).dispatchEvent(t)}else if($("input_"+e).fireEvent)return $("input_"+e).fireEvent("onchange")},setCalculationResultReadOnly:function(){JotForm.calculations.forEach((function(e){e.readOnly&&"0"!=e.readOnly&&null!=$("input_"+e.resultField)&&$("input_"+e.resultField).setAttribute("readOnly","true")}))},setCalculationEvents:function(){var e=function(e,t,o){var r="string"==typeof e?document.getElementById(e):e;r.addEventListener(t,(function(){"paste"===t?setTimeout((function(){r.classList.add("calculatedOperand"),JotForm.checkCalculation(o,e,t)}),10):(r.classList.add("calculatedOperand"),JotForm.checkCalculation(o,e,t))}))};JotForm.calculations.forEach((function(t,o){if(t.operands&&"function"!=typeof t.operands)for(var r=t.operands.split(","),n=0;n<r.length;n++){var i=r[n],a="";if(i.indexOf("|")>-1){var l=i.split("|"),s=l[0],c=l[1];a=$("id_"+s)&&"control_inline"===$("id_"+s).getAttribute("data-type")?"id_"+s:"input_"+s+"_field_"+c}if(i&&!i.empty()&&($("id_"+i)||$(a)))switch(JotForm.calculationType(i)){case"mixed":$(a)&&(e($(a),"change",t),e($(a),"blur",t),e($(a),"keyup",t),e($(a),"paste",t));break;case"inline":var u=$(a)?$(a):$("id_"+i);e(u,"change",t);break;case"widget":e($("id_"+i),"change",t),JotForm.widgetsAsCalculationOperands.push(i);break;case"radio":case"checkbox":e($("id_"+i),"change",t),$("input_"+i)&&e($("id_"+i),"keyup",t);break;case"select":case"file":Protoplus&&Protoplus.getIEVersion&&8==Protoplus.getIEVersion()?e($("id_"+i),"click",t):e($("id_"+i),"change",t);break;case"datetime":e($("id_"+i),"date:changed",t),e($("id_"+i),"paste",t),e($("id_"+i),"keyup",t),$$("#id_"+i+" input").each((function(o){e($(o),"blur",t)})),$$("#id_"+i+" select").each((function(o){e($(o),"change",t)}));break;case"time":$$("#id_"+i+" select").each((function(o){e($(o),"change",t)})),(JotForm.newDefaultTheme||JotForm.extendsNewTheme)&&$$("#id_"+i+" input[class*='form-textbox']").each((function(o){e($(o),"keyup",t),e($(o),"blur",t)}));break;case"birthdate":$$("#id_"+i+" select").each((function(o){e($(o),"change",t)}));break;case"address":e($("id_"+i),"change",t),e($("id_"+i),"blur",t),e($("id_"+i),"keyup",t),$$("#id_"+i+" select").each((function(o){e($(o),"change",t)}));break;case"number":e($("id_"+i),"keyup",t),e($("id_"+i),"paste",t),e($("id_"+i),"click",t);break;default:e($("id_"+i),"change",t),e($("id_"+i),"blur",t),e($("id_"+i),"keyup",t),e($("id_"+i),"paste",t),"cardform"===window.FORM_MODE&&$("id_"+i).querySelector(".jfQuestion-fullscreen")&&!$("id_"+i).querySelector(".jfQuestion-fullscreen").hasClassName("isHidden")&&e($("id_"+i),"click",t)}}}))},runAllCalculations:function(e,t){JotForm.calculations.forEach((function(o){t&&"html"!==JotForm.getInputType(o.resultField)||(!e||o.readOnly&&"0"!=o.readOnly)&&o.equation&&JotForm.checkCalculation(o)})),JotForm.conditionCalculationDebugLogs=[]},calculationType:function(e){const t=document.querySelector(`[id="id_${e}"]`);return t&&t.readAttribute("data-type")&&["control_stripe","control_stripeCheckout","control_stripeACH","control_stripeACHManual","control_payment","control_paymentwall","control_paypal","control_paypalexpress","control_paypalpro","control_paypalcomplete","control_clickbank","control_2co","control_googleco","control_worldpay","control_onebip","control_authnet","control_dwolla","control_braintree","control_square","control_boxpayment","control_eway","control_bluepay","control_firstdata","control_paypalInvoicing","control_payjunction","control_chargify","control_cardconnect","control_echeck","control_bluesnap","control_payu","control_payuMoney","control_pagseguro","control_moneris","control_mollie","control_sofort","control_skrill","control_sensepass","control_paysafe","control_iyzico","control_gocardless","control_paypalSPB","control_cybersource","control_payfast"].includes(t.readAttribute("data-type"))?t.readAttribute("data-type").replace("control_",""):t&&"control_matrix"==t.readAttribute("data-type")?"matrix":JotForm.getInputType(e)},isTimeObject:function(e){for(var t=["time","hour","min","ampm"],o=0;o<t.length;o++)if(e.indexOf(t[o])>=0)return!0;return!1},runAllCalculationByID:function(e){JotForm.calculations.forEach((t=>{t&&t.resultField==e&&JotForm.checkCalculation(t)}))},runRelatedCalculations:function(e){JotForm.calculations.forEach((t=>{const{operands:o,baseField:r}=t;-1!==(o?o.split(","):[r].filter(Boolean)).indexOf(e)&&JotForm.checkCalculation(t)}))},checkCalculation:function(e,t,o){if(!e.resultField||e.hasOwnProperty("conditionTrue")&&!e.conditionTrue)return"";if(JotForm.ignoreInsertionCondition&&!JotForm.replaceTagTest)return;var r=e.resultField,n=!1;if(r.indexOf("|")>-1){var i=(y=r.split("|"))[0],a=y[1];n=$("id_"+i)&&"control_inline"===$("id_"+i).getAttribute("data-type")?"id_"+i:"input_"+i+"_field_"+a}var l=!(!e.showBeforeInput||"0"==e.showBeforeInput)&&e.showBeforeInput,s=!(!e.ignoreHiddenFields||"0"==e.ignoreHiddenFields)&&e.ignoreHiddenFields,c=!(!e.useCommasForDecimals||"0"==e.useCommasForDecimals)&&e.useCommasForDecimals;if(!$("id_"+r)&&!$(n))return;try{if(!["text","email","textarea","calculation","combined","address","datetime","time","html","authnet","paypalpro","number","radio","checkbox","select","matrix","widget","signature","braintree","stripe","square","eway","bluepay","firstdata","chargify","echeck","payu","payuMoney","pagseguro","moneris","paypal","dwolla","bluesnap","paymentwall","payment","paypalexpress","payjunction","2co","cardconnect","clickbank","onebip","worldpay","rating","hidden","file","other","mixed","sofort","sensepass","paysafe","iyzico","gocardless","stripeACH","paypalSPB","cybersource","paypalcomplete","inline","appointment","stripeCheckout","payfast","stripeACHManual","sensepass","birthdate"].include(JotForm.calculationType(r)))return}catch(e){console.log(e)}var u={},d=function(t,o){var n="";t.indexOf("_")>-1&&(n=t.substring(t.indexOf("_")),t=t.substring(0,t.indexOf("_")));var i=!1;if(t.indexOf("|")>-1&&(i=!0),0==i)if($("id_"+t)){if(!$("id_"+t).hasClassName("calculatedOperand")&&l)return"";if(s&&($("id_"+t).hasClassName("form-field-hidden")||$("id_"+t).up(".form-section")&&$("id_"+t).up(".form-section").hasClassName("form-field-hidden")))return o?0:""}else if(!$("input_"+t))return"";var a=JotForm.calculationType(t),d="";switch(a){case"matrix":if($("input_"+t+n)){var m=$("input_"+t+n).type;if(["checkbox","radio"].indexOf(m)>-1){if($("input_"+t+n).checked){var p=$("input_"+t+n);d=p.readAttribute("data-calcvalue")?p.readAttribute("data-calcvalue"):p.value}}else d=$("input_"+t+n).value}else $("id_"+t).down(".form-radio")&&$$('input[id^="input_'+t+n+'_"]').each((function(e){e.checked&&(d=e.readAttribute("data-calcvalue")?e.readAttribute("data-calcvalue"):e.value)}));break;case"mixed":var f;t.indexOf("|")>-1&&(v=(f=t.split("|"))[0],y=f[1]),(g=$("input_"+v+"_field_"+y))&&void 0!==g.value&&(d=g.value);break;case"2co":case"authnet":case"bluepay":case"bluesnap":case"boxpayment":case"braintree":case"cardconnect":case"chargify":case"clickbank":case"cybersource":case"dwolla":case"echeck":case"eway":case"firstdata":case"gocardless":case"googleco":case"mollie":case"moneris":case"onebip":case"pagseguro":case"payjunction":case"payment":case"paysafe":case"iyzico":case"sensepass":case"paypal":case"paypalexpress":case"paypalSPB":case"paypalpro":case"paypalcomplete":case"paypalInvoicing":case"payu":case"payuMoney":case"square":case"sofort":case"stripe":case"stripeCheckout":case"stripeACH":case"stripeACHManual":case"worldpay":case"payfast":$("id_"+t).down("#payment_total")?d=$("id_"+t).down("#payment_total").innerText:$("input_"+t+"_donation")?d=$("input_"+t+"_donation").value:$("id_"+t).down("#payment_recurringpayments")&&(d=$("id_"+t).down("#payment_recurringpayments").innerText),JotForm.currencyFormat&&","===JotForm.currencyFormat.dSeparator&&(d=d.replace(/\./g,"").replace(/\,/g,"."));break;case"radio":$$("#id_"+t+' input[type="radio"]').each((function(e){if(e.checked)if(e.readAttribute("data-calcvalue"))d=e.readAttribute("data-calcvalue");else{var t=JotForm.getOptionOtherInput(e);"undefined"!=typeof FormTranslation&&t&&t.innerText?d=JotForm.getOptionOtherInput(e).innerText:(d=e.value,"undefined"!=typeof FormTranslation&&(d=FormTranslation.translate(d)))}}));break;case"checkbox":var h=[];$$("#id_"+t+' input[type="checkbox"]').each((function(e){e.checked&&(e.readAttribute("data-calcvalue")?h.push(e.readAttribute("data-calcvalue")):"undefined"!=typeof FormTranslation?h.push(FormTranslation.translate(e.value)):h.push(e.value))})),d=o?h.inject(0,(function(e,t){return e+(parseFloat(t.replace(/-?([^0-9])/g,"$1").replace(/[^0-9\.-]/g,""))||0)})):h.join(", ");break;case"select":var g;if(o&&(d=0),t.indexOf("|")>-1){var v=(f=t.split("|"))[0],y=f[1];g=$("input_"+v+"_field_"+y)}else g=$("input_"+t);g.select("option").each((function(e,t){if((e=g.options[t])&&e.selected){var r=e.readAttribute("data-calcvalue")?e.readAttribute("data-calcvalue"):function(e){return JotForm.newDefaultTheme&&""===e.value?"":e.textContent?e.textContent.replace(/^\s+|\s+$/g,""):e.innerText.replace(/^\s+|\s+$/g,"")}(e);o?/\d/.test(r)?d+=""===r?0:parseFloat(r.replace(/[^\-0-9.]/g,"")):d+=0:d+=r}}));break;case"number":if($$("#id_"+t+' input[type="number"]').length>1){h=[];$$("#id_"+t+' input[type="number"]').each((function(e){h.push(e.value)})),d=h.join(" ")}else $("input_"+t).value.empty()||isNaN($("input_"+t).value)||(d=parseFloat($("input_"+t).value));break;case"inline":var F="",b="";if(t.indexOf("|")>-1){F=t.split("|")[0],b=t.split("|")[1];h=[];u={};var w=15463e8,_=!1,E=!1,S=Number(b)>w?"#id_"+F+" input[id*="+b+"-], select[id*="+b+"-]":"#id_"+F+" input[id$=-"+b+"], select[id$=-"+b+"]";if($$(S).each((function(e){e.value.empty()||["checkbox","radio"].indexOf(e.getAttribute("type"))>-1&&!e.checked||h.push(e.value);var t=e.id.replace(Number(b)>w?/^[^-]*-/:/-[^-]*$/,"");u[t]=e.value,e&&e.parentNode&&"datebox"===e.parentNode.getAttribute("data-type")&&(_=!0),e&&e.parentNode.parentNode&&"timebox"===e.parentNode.parentNode.getAttribute("data-type")&&(E=!0)})),d=h.join(" "),_){var J=new Date(u["year_"+F+"-date"],u["month_"+F+"-date"]-1,u["day_"+F+"-date"]);d=J/60/60/24/1e3}if(E){var C=Date.UTC("1970","0","1",u["hourSelect_"+F+"_time"],u["minuteSelect_"+F+"_time"]);d=C/60/60/1e3}}else{F=t;h=[];u={},$$("#id_"+F+' input[type="text"]').each((function(e){!e.value.empty()&&JotForm.isVisible(e)&&h.push(e.value);var t=e.id;u[t]=e.value})),$$("#id_"+F+' input[type="tel"]').each((function(e){!e.value.empty()&&JotForm.isVisible(e)&&h.push(e.value);var t=e.id;u[t]=e.value})),$$("#id_"+F+' input[type="checkbox"]').each((function(e){e.checked&&("undefined"!=typeof FormTranslation?h.push(FormTranslation.translate(e.value)):h.push(e.value));var t=e.id;u[t]=e.checked?e.value:""})),d=h.join(" ")}break;case"combined":case"grading":h=[];u={},$$("#id_"+t+' input[type="text"]').each((function(e){e.value.empty()||h.push(e.value);var t=e.id.replace(/_.*/,"");u[t]=e.value})),$$("#id_"+t+' input[type="tel"]').each((function(e){e.value.empty()||h.push(e.value);var t=e.id.replace(/input_[0-9].*_+/,"");u[t]=e.value})),d=h.join(" ");break;case"datetime":h=[];if(o?(h.push($("month_"+t).value),h.push($("day_"+t).value),h.push($("year_"+t).value),!JotForm.newDefaultTheme&&!JotForm.extendsNewTheme||"cardform"==window.FORM_MODE?$$("#id_"+t+" select").each((function(e){h.push(e.value)})):$$("#id_"+t+" input,#id_"+t+" select").each((function(e){var t=e.id.split("_"),o=JotForm.isTimeObject(e.id)?t[t.length-1]:e.id.replace(/_.*/,"");["hourSelect","minuteSelect","ampm"].indexOf(o)>-1&&h.push(e.value)}))):($$("#id_"+t+' input[type="tel"]').each((function(e){h.push(e.value);var t=e.id.replace(/_.*/,"");u[t]=e.value})),!JotForm.newDefaultTheme&&!JotForm.extendsNewTheme||"cardform"==window.FORM_MODE?$$("#id_"+t+" select").each((function(e){var t=e.id.replace(/_.*/,"");u[t]=e.value,h.push(e.value)})):$$("#id_"+t+" input,#id_"+t+" select").each((function(e){if(-1===e.id.indexOf("lite")){var t=e.id.split("_"),o=JotForm.isTimeObject(e.id)?t[t.length-1]:e.id.replace(/_.*/,"");u[o]=e.value,["hourSelect","minuteSelect","ampm"].indexOf(o)>-1&&h.push(e.value)}}))),o)if(h[0].empty()||h[1].empty()||h[2].empty())d=0;else{var A="",x="",k="";h.length>4&&!h[3].empty()&&!h[4].empty()&&(A=parseInt(h[3]),6!=h.length||h[5].empty()||("PM"==(k=h[5])&&12!=A?A+=12:"AM"==k&&12==A&&(A=0)),x=h[4]);C=new Date(h[2],h[0]-1,h[1],A,x).getTime();d=C/60/60/24/1e3,A||x||(d=Math.ceil(d))}else{if(h.length>2&&!h[0].empty()&&!h[1].empty()&&!h[0].empty()){var T="-",I=$$("#id_"+t+" span[class=date-separate]").first();I&&(T=I.innerHTML.replace(/[^\/\-\.]/g,"")),d=h[0]+T+h[1]+T+h[2]}h.length>4&&!h[3].empty()&&!h[4].empty()&&(d+=" "+h[3]+":"+h[4],6!=h.length||h[5].empty()||(d+=" "+h[5]))}break;case"time":if($("until_"+t)){if($("duration_"+t+"_ampmRange")&&!$("duration_"+t+"_ampmRange").value.empty())if(o){var D=$("duration_"+t+"_ampmRange").value;if(D.indexOf(":")>-1){var q=D.split(":");A=q[0]||0,x=q[1]||0,C=Date.UTC("1970","0","1",A,x);d=C/60/60/1e3}}else d=$("duration_"+t+"_ampmRange").value;else{var N=JotForm.displayTimeRangeDuration(t,!0);if(N){A=N[0]||0,x=N[1]||0,C=Date.UTC("1970","0","1",A,x);if(d=o?C/60/60/1e3:O+":"+x,o)break}}if($("duration_"+t+"_ampmRange")&&!$("duration_"+t+"_ampmRange").value.empty())break}h=[];u={};var M=JotForm.newDefaultTheme||JotForm.extendsNewTheme?"#id_"+t+" select,#id_"+t+" input,, #id_"+t+" input:not(.form-textbox)":"#id_"+t+" select";if(o){$$(M).each((function(e){(JotForm.newDefaultTheme||JotForm.extendsNewTheme)&&e.getAttribute("id").indexOf("timeInput")>=0||h.push(e.value)}));var O="";x="",k="";A=parseInt(h[0])||0,3!=h.length||h[2].empty()||("PM"==(k=h[2])&&12!=A?A+=12:"AM"==k&&12==A&&(A=0)),x=h[1];C=Date.UTC("1970","0","1",A,x);d=C/60/60/1e3}else $("input_"+t+"_hourSelect")&&!$("input_"+t+"_hourSelect").value.empty()&&$("input_"+t+"_minuteSelect")&&!$("input_"+t+"_minuteSelect").value.empty()&&(d=$("input_"+t+"_hourSelect").value+":"+$("input_"+t+"_minuteSelect").value,$("input_"+t+"_ampm")&&(d+=" "+$("input_"+t+"_ampm").value)),$("input_"+t+"_hourSelectRange")&&!$("input_"+t+"_hourSelectRange").value.empty()&&$("input_"+t+"_minuteSelectRange")&&!$("input_"+t+"_minuteSelectRange").value.empty()&&(d+=" - "+$("input_"+t+"_hourSelectRange").value+":"+$("input_"+t+"_minuteSelectRange").value,$("input_"+t+"_ampmRange")&&(d+=" "+$("input_"+t+"_ampmRange").value),$("duration_"+t+"_ampmRange")&&!$("duration_"+t+"_ampmRange").value.empty()&&(d+=" ("+$("duration_"+t+"_ampmRange").value+")")),$$(M).each((function(e){var t=e.id.split("_"),o=t[t.length-1];"duration"===t[0]&&(o="duration-"+o),u[o]=e.value}));break;case"birthdate":h=[];if(o)try{var L=$("input_"+t+"_month").value,P=$("input_"+t+"_day").value,B=$("input_"+t+"_year").value;C=new Date(B,L?L-1:"",P).getTime();d=Math.ceil(C/60/60/24/1e3)}catch(e){console.log("birthdate error"),console.log(e)}else $$("#id_"+t+" select").each((function(e){h.push(e.value)})),h[0].empty()||h[1].empty()||h[2].empty()||(d=h[0]+" "+h[1]+" "+h[2]);break;case"address":h=[];u={};var R="#id_"+t+("cardform"==window.FORM_MODE?" .jfField:not(.isHidden)":"")+' input[type="text"]:not(.jfDropdown-search)',j="#id_"+t+("cardform"==window.FORM_MODE?" .jfField:not(.isHidden)":"")+" select";$$(R).each((function(e){var t=!1;!e.value.empty()&&h[0]&&h[0].indexOf(e.value)>-1&&(t=!0),e.value.empty()||t||h.push(e.value);var o=e.id.replace(/input_[0-9].*?_+/,"");u[o]=e.value})),$$(j).each((function(e){var t=!1;!e.value.empty()&&h[0]&&h[0].includes(e.value)&&(t=!0),e.value.empty()||t||h.push(e.value);var o=e.id.replace(/input_[0-9].*_+/,"");u[o]=e.value})),d=h.join(", ");break;case"file":if("multiple"===$$("#id_"+t+" input")[0].readAttribute("multiple")||""===$$("#id_"+t+" input")[0].readAttribute("multiple")){var H=$("id_"+t).select(".qq-upload-list li");H.length>0&&(d=H.reduce((function(e,t){return(e?e+", ":"")+t.getAttribute("actual-filename")}),""))}else d=(d=$("input_"+t).value).substring(d.lastIndexOf("\\")+1);break;case"textarea":if($("input_"+t)&&void 0!==$("input_"+t).value)d=$("input_"+t).value,$("id_"+t).down(".nicEdit-main")&&(d=d.stripTags().replace(/\s/g," ").replace(/&nbsp;/g," "));break;case"widget":var V=JotForm.getWidgetType(t);switch(V){case"timer":case"fancyTimer":if(o)d=$("input_"+t).value;else{var U=$("input_"+t).value,z=Math.floor(U/60);U-=60*z,U=JotForm.addZeros(U,2),d=z+":"+U}break;case"configurableList":case"dynMatrix":var Y="html"===JotForm.calculationType(r)?"<br/>":"\n",W=$("input_"+t).value;o&&(d=0);try{W=JSON.parse(W);for(var Q=0;Q<W.length;Q++){h=[];for(line in W[Q]){if(W[Q].hasOwnProperty(line))if(!W[Q][line].empty())if(o)/^[-]?\d+(\.\d+)?$/.test(W[Q][line])&&(d+=parseFloat(W[Q][line]));else h.push(W[Q][line])}h.length>0&&(d+=h.join(",")+Y)}}catch(o){console.log($("input_"+t).value),console.log(e)}break;case"giftRegistry":d=$("input_"+t).value,"html"===JotForm.calculationType(r)&&(d=d.replace(/\n/g,"<br/>"));break;case"inventory":case"inventoryV2":if(d=$("input_"+t).value){h=d.split("\n");d=h[0],o&&isNaN(h[0])&&(d=h[0].match(/ \[(\d+)\]$/)[1])}break;case"imagelinks":case"links":for(Y="html"===JotForm.calculationType(r)?"<br/>":"\n",W=JSON.parse($("input_"+t).value).widget_metadata.value,Q=0;Q<W.length;Q++)if(!W[Q].url.replace(/\s/g,"").empty()){var G=W[Q].name&&!W[Q].name.replace(/\s/g,"").empty();"html"===JotForm.calculationType(r)?d+="imagelinks"===V?'<a href="'+W[Q].url+'"><img src="'+W[Q].url+'" /></a>':'<a href="'+W[Q].url+'">'+(G?W[Q].name:W[Q].url)+"</a>":(d+=G?W[Q].name+": ":"",d+=W[Q].url+Y)}break;case"htmltext":var K=JSON.parse($("input_"+t).value).widget_metadata.value;d=window.atob?window.atob(K):"","html"!==JotForm.calculationType(r)&&(d=d.strip().replace(/<br>/g,"\n").stripTags().replace(/&nbsp;/g," "));break;case"drivingDistance":if((d=$("input_"+t).value).indexOf("Distance")>-1){var X=d.match(/Distance(.*)/);X.length>1&&(d=X[1])}break;case"pickers":d=$("input_"+t).value;if(o&&-1!==$("customFieldFrame_"+t).src.indexOf("datepicker.html")){h=d.split("/"),C=Date.UTC(h[2],h[0]-1,h[1],0,0);d=C/60/60/24/1e3}break;case"ios7Date":d=$("input_"+t).value;if(o&&d){h=d.split("/"),C=Date.UTC(h[2],h[0]-1,h[1],0,0);d=C/60/60/24/1e3}break;case"checklist":return JotForm.getChecklistWidgetValues(t).checked;default:d=$("input_"+t).hasAttribute("data-calc")?$("input_"+t).getAttribute("data-calc"):$("input_"+t).value}break;case"appointment":if(o){var Z=JotForm.appointments[t].getComparableValue();return Z?new Date(Z.replace(/-/g,"/")).getTime():0}var ee=$$("#cid_"+t+" .jsAppointmentValue");d="";ee.length&&(d="datetime"===JotForm.calculationType(r)?ee[0].dataset.date:ee[0].dataset.calculate);break;default:$("input_"+t)&&void 0!==$("input_"+t).value&&(d=$("input_"+t).value)}return o&&"number"!=typeof d&&(c&&(/\..*\,/.test(d)&&(d=d.replace(/\./g,"")),d=d.replace(",",".")),d=d.replace(/-?([^0-9])/g,"$1").replace(/[^0-9\.-]/g,"")),o&&d<0&&(d="("+d+")"),o&&""===d&&(d=0),d},m=36e5,p=864e5,f="string"==typeof e.allowZeroCopy?"1"===e.allowZeroCopy:e.allowZeroCopy,h=function(t,o){for(var r="",n={abs:Math.abs,acos:Math.acos,acosh:Math.acosh,asin:Math.asin,asinh:Math.asinh,atan:Math.atan,atanh:Math.atanh,atan2:Math.atan2,cbrt:Math.cbrt,ceil:Math.ceil,cos:Math.cos,cosh:Math.cosh,exp:Math.exp,expm1:Math.expm1,floor:Math.floor,fround:Math.fround,hypot:Math.hypot,imul:Math.imul,log:Math.log,log1p:Math.log1p,log10:Math.log10,log2:Math.log2,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sign:Math.sign,sin:Math.sin,sinh:Math.sinh,sqrt:Math.sqrt,tan:Math.tan,tanh:Math.tanh,toSource:Math.toSource,trunc:Math.trunc,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,minutes:function(e){return 6e4*e},hours:function(e){return m*e},days:function(e){return p*e},weeks:function(e){return 6048e5*e},months:function(e){return 2592e6*e},years:function(e){return 31536e6*e}},i=function(e){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][e.getDay()]+" "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]+" "+JotForm.addZeros(e.getDate(),2)+" "+e.getFullYear()},a=0;a<t.length;a++)if(character=t.charAt(a),"["!==character||o)if("|*|"===t.substr(a,3))try{if(a+=3,-1===(q=t.indexOf("|*|",a)))continue;var l=t.substring(a,q);if(a+=q+2-a,"("===t.charAt(a+1)||"["===t.charAt(a+1)&&"("===t.charAt(a+2)){a+="["===t.charAt(a+1)?3:2;for(var s=-1,u=1,g=a;g<t.length;g++)if(")"===t.charAt(g)){if(0===--u){s=g;break}}else"("===t.charAt(g)&&u++;if(-1===s)continue;for(var v=t.substring(a,s),y=(v=v.split(",")).slice(0),F=0;F<v.length;F++)for(var b=1;!JotForm.calcParanthesesBalance(v[F]);)v[F]=v[F]+","+v[F+b],v[F+b]="",b++;v=v.filter((function(e){return""!==e}));for(var w=0;w<v.length;w++)v[w]=h(v[w],!0),v[w]&&(v[w]=(new MathProcessor).parse(v[w]));if(a+=s-a,"dateString"===l){var _=e.isLabel?"html":JotForm.calculationType(e.baseField),E=_&&"appointment"===_?v[0]:24*v[0]*60*60*1e3;r+=i(k=new Date(E)),"]"===t.charAt(a)?a++:t=t.substr(0,a+1)+"["+t.substr(a+1)}else if("date"===l){if(v.length>2)r+=(E=Date.UTC(v[0],v[1]-1,v[2]))/60/60/24/1e3}else if("nth"===l){var S=v[0];r+=(v=(v=(v=v.splice(1)).sort((function(e,t){return parseFloat(e)>parseFloat(t)?1:parseFloat(t)>parseFloat(e)?-1:0}))).reverse())[parseFloat(S)-1]}else if("avg"===l||"avgNoZero"===l){var J=sum=0;for(w=0;w<v.length;w++)parseFloat(v[w])>0&&(J++,sum+=parseFloat(v[w]));r+="avg"===l?sum/v.length:sum/J}else if("count"===l){var C=y[0];C=C.replace(/[\{\}]/g,"");var A=JotForm.getInputType(C);r+=J=$$("#id_"+C+' input[type="'+A+'"]:checked').length}else if("commaSeparate"===l)if("number"==typeof v[0]){v[0]=v[0].toFixed(e.decimalPlaces);var $=v[0].toString().split(".");$[0]=$[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),r+=$.join(".")}else r+=v[0];else{if("addDays"===l||"subtractDays"===l){function x(e){return e instanceof Date&&!isNaN(e)}var k;if((k=x(new Date(24*v[0]*60*60*1e3))?new Date(24*v[0]*60*60*1e3):new Date(v[0])).setHours(0,0,0),k.setMinutes(0,0,0),"addDays"===l&&k.setDate(k.getDate()+v[1]),"subtractDays"===l&&k.setDate(k.getDate()-v[1]),!x(k))return;return"datetime"!==JotForm.getInputType(e.resultField)?r+=i(k):r+=k.getTime(),r}var T=n[l].apply(void 0,v);"pow"===l&&("function"==typeof BigInt&&T>Number.MAX_SAFE_INTEGER?T=BigInt(T).toString():T<1&&f&&(T=T.toFixed(e.decimalPlaces))),r+=T}}else r+="random"===l?Math.random():n[l]}catch(M){console.log(M)}else if("{"===character){q=t.indexOf("}",a);var I=t.substring(a+1,q);try{var D=d(I,o);o&&"number"!=typeof D&&-1==D.indexOf("(")&&-1==D.indexOf(")")&&(D=Number(D)||0)}catch(O){console.log("error catching value"),console.log(O)}if(""===D&&o)return!1;r+=D,a+=q-a}else r+=character;else{var q=t.indexOf("]",a);try{var N=h(t.substring(a+1,q),!0);N&&(-1==N.indexOf(",")&&(N=(new MathProcessor).parse(N),"datetime"!==JotForm.getInputType(e.resultField)&&(N=JotForm.morePreciseToFixed(N,e.decimalPlaces),e.showEmptyDecimals&&"0"!=e.showEmptyDecimals||(N=parseFloat(N))%1!=0&&(N=JotForm.morePreciseToFixed(N,e.decimalPlaces))),isFinite(N)||(N=0)),c&&(N=N.toString().replace(".",",")),r+=N)}catch(L){console.log("exception in "+e.conditionId+" : "+N+"("+t+")")}a=q}return r},g=h(e.equation);"string"==typeof g&&g.length>1||("string"==typeof e.allowZeroCopy?"1"===e.allowZeroCopy:e.allowZeroCopy)||0!==parseFloat(g)||!$("input_"+r)||null==$("input_"+r).readAttribute("defaultValue")&&null==$("input_"+r).readAttribute("data-defaultvalue")||(g=$("input_"+r).readAttribute("defaultValue")||$("input_"+r).readAttribute("data-defaultvalue")),JotForm.addEventToDebug({calculationID:e.id,sourceField:t instanceof HTMLElement?t.id:t,sourceEvent:o,output:g});var v=e.isLabel?"html":JotForm.calculationType(r);if(JotForm.ignoreInsertionCondition&&JotForm.replaceTagTest&&"html"!==v&&"inline"!==v)return;switch(v){case"inline":if(r.indexOf("|")>-1){var y,F={addr_line1:"streetaddress",addr_line2:"addressline2",postal:"zip"},b=["country"],w=(i=(y=r.split("|"))[0],a=y[1],Number(a)>15463e8),_=$$(w?"#id_"+i+" input[id*="+a+"-]":"#id_"+i+" input[id$=-"+a+"]"),E=!1;if(Object.keys(u).forEach((function(e){var t=F[e]?F[e]:e,o=b.indexOf(t)>-1?"select":"input",r=$$(w?"#id_"+i+" input[id*="+a+"-"+e+"]":"#id_"+i+" "+o+"[id*="+t+"][id$=-"+a+"]").filter((function(e){return JotForm.isVisible(e)||e.id.indexOf(!1)}));r[0]&&isNaN(g)&&g.indexOf(u[e])>-1&&(E=!0,r[0].value=u[e],r[0].triggerEvent("blur"))})),!E&&_[0])if("datebox"===_[0].parentNode.getAttribute("data-type")){var S=new Date(60*g*60*24*1e3);JotForm.formatDate({date:S,dateField:$("lite_mode_"+i+"-date-"+a)})}else _[0].value!==g&&(_[0].value=g,_[0].triggerEvent("change"));break}case"html":JotForm.runReplaceTag(e,u,g,r,v);break;case"address":case"authnet":case"paypalpro":case"combined":case"braintree":case"stripe":for(var J in u)if(""!==J&&$("id_"+r).select("input[id*="+J+"], select[id*="+J+"]").length>0){var C=$("id_"+r).select("input[id*="+J+"], select[id*="+J+"]").first();if(e.baseField&&"control_fullname"===$("id_"+e.baseField).readAttribute("data-type")&&$("id_"+r).select("input[id*="+J+"], select[id*="+J+"]").each((function(e){"cc_firstName"==e.readAttribute("data-component")&&(C=e),"cc_lastName"==e.readAttribute("data-component")&&(C=e)})),C.value=u[J],"address"==v&&"cardform"==window.FORM_MODE){var A=C.parentElement;A.querySelector("input")?A.querySelector("input").value=u[J]:A.querySelector("select")&&(A.querySelector("select").value=u[J],A.querySelector(".jfDropdown-chip.isSingle").innerText=u[J])}u[J]&&C.parentNode.addClassName("isFilled")}$("input_"+r+"_full")&&"true"==$("input_"+r+"_full").readAttribute("masked")&&JotForm.setQuestionMasking("#input_"+r+"_full","textMasking",$("input_"+r+"_full").readAttribute("maskValue"));break;case"time":case"datetime":var x=function(e){var t=e.getHours(),o=JotForm.addZeros(e.getMinutes(),2);if(!isNaN(t)&&!isNaN(o)){var n=$("input_"+r+"_ampm")||$("ampm_"+r);n&&(n.value=t>=12?"PM":"AM",t=t%12||12,n.triggerEvent("change"));var i=$("input_"+r+"_hourSelect")||$("hour_"+r);i&&(n||(t=JotForm.addZeros(t,2)),i.value=t,i.triggerEvent("change"));var a=$("input_"+r+"_minuteSelect")||$("min_"+r);if(a){if(a.options){for(var l="00",s=0;s<a.options.length&&(l=a.options[s].value,!(a.options[s].value>=o));s++);o=l}a.value=o,a.triggerEvent("change")}var c=$("input_"+r+"_timeInput");if(c){var u=1===t.toString().length?"0"+t:t;u=0==u?"12":u,c.value=u+":"+o,c.triggerEvent("change")}}};if(u&&"year"in u||"time"===v)if(13===g.length){g=parseFloat(g,10),x(S=new Date(g))}else{var k=new Date(g);if(k.getTime()&&"time"===v)x(k);else for(var J in u)if(JotForm.isTimeObject(J)){var T=$("id_"+r).select("input[id*=input_"+r+"_"+J+"], select[id*=input_"+r+"_"+J+"]"),I=JotForm.newDefaultTheme&&T.length>0?T.first():"",D=$("id_"+r).select("input[id*="+J+"], select[id*="+J+"]");I=!JotForm.newDefaultTheme&&D.length>0?D.first():I;var q=$("id_"+r).select("input[id*="+J+"_"+r+"], select[id*="+J+"_"+r+"]");if((I="cardform"==window.FORM_MODE&&q.length>0?q.first():I).value=u[J],"duration-ampmRange"===J){var N=J.split("-"),M=$("id_"+r).select("input[id*="+N[0]+"_"+r+"_"+N[1]+"], select[id*="+N[0]+"_"+r+"_"+N[1]+"]");(I=JotForm.newDefaultTheme&&M.length>0?M.first():I).value=u[J],JotForm.displayTimeRangeDuration(r,!1)}if("cardform"==window.FORM_MODE){var O=J.indexOf("Range")>=0?J.replace("Range","")+"-range":J;O=O.indexOf("Select")>=0?O.replace("Select",""):O;for(var L="time"===v?'data-type*="time-'+O+'"':'data-type*="'+J+'"',P=$("id_"+r).select("div[class*=jfField]["+L+"]"),B=0;B<P.length;B++)P[B].querySelector(".jfDropdown-chip.isSingle").innerText=u[J]}}else{((P=$("id_"+r).select("input[id*="+J+"_"+r+"], select[id*="+J+"_"+r+"]")).length>0?P.first():"").value=u[J]}}else try{if("number"==typeof g&&g>0||"string"==typeof g&&g.replace(/\s/g,"").length>0&&"0"!==g){isNaN(g)||(g=13===g.length?parseFloat(g,10):Math.round(60*g*60*24*1e3));var R=(S=new Date("string"==typeof g?g.replace(/(\-|\.)/g,"/"):g)).getFullYear(),j=JotForm.addZeros(S.getMonth()+1,2),H=JotForm.addZeros(S.getDate(),2);$("input_"+r)?($("input_"+r).value=R+"-"+j+"-"+H,isNaN(R)||($$("#cid_"+r+' .jfField[data-type="year"] input')[0].value=R),isNaN(j)||($$("#cid_"+r+' .jfField[data-type="month"] input')[0].value=j),isNaN(H)||($$("#cid_"+r+' .jfField[data-type="day"] input')[0].value=H)):(isNaN(R)||($("year_"+r).value=R),isNaN(j)||($("month_"+r).value=j),isNaN(H)||($("day_"+r).value=H)),x(S)}}catch(e){console.log(e)}if($("lite_mode_"+r))(S=new Date($("year_"+r).value,$("month_"+r).value-1,$("day_"+r).value)).getTime()&&JotForm.formatDate({date:S,dateField:$("id_"+r)});break;case"number":var V=g.lastIndexOf(",");V>-1&&V===g.length-e.decimalPlaces-1&&(g=g.substring(0,V)+"."+g.substring(V+1)),g=g.replace(/[^\-0-9\.]/g,""),$("input_"+r).value=g;var U=$("input_"+r).parentElement;"cardform"==window.FORM_MODE&&U&&!U.hasClassName("isFilled")&&U.addClassName("isFilled");break;case"radio":var z=(W=$$("#id_"+e.operands+' input[type="radio"]:checked')).length?W.collect((function(e){if(e.value)return e.value})):g.strip(),Y=$$("#id_"+r+' input[type="radio"]');$A(Y).each((function(e){e.checked=!1,"string"==typeof z?e.value==g.strip()&&(e.checked=!0):(e.value==g.strip()||z.include(e.value))&&(e.checked=!0)}));break;case"checkbox":z=(W=$$("#id_"+e.operands+' input[type="checkbox"]:checked')).length?W.collect((function(e){var t=e.getAttribute("data-calcvalue");return t||("string"==typeof e.value?e.value.strip():e.value)})):g.strip();var W,Q=$$("#id_"+r+' input[type="checkbox"]'),G=[],K=$$("[id^=input_"+e.baseField+"_"),X=K.length&&"radio"===K[0].type;if(X){var Z=[];if("{"+e.baseField+"}"===e.equation)Z=K.map((function(e){return e.dataset.calcvalue?e.dataset.calcvalue:e.value}));else{var ee=JotForm.calculations;Z=ee.filter((function(t){return t.baseField===e.baseField&&t.resultField===e.resultField})).map((function(e){return e.equation}))}G=Q.filter((function(e){return!0===e.checked&&!Z.include(e.value)}))}$A(Q).each((function(e){if(JotForm.defaultValues[e.id]||(e.checked=!1),"string"==typeof z&&X&&z===e.value)e.checked=!0;else{const t=e.getAttribute("data-calcvalue")||e.value;z.include(t)&&(e.checked=!0)}})),G.forEach((function(e){e.checked=!0}));break;case"select":try{var te=$$("#id_"+e.operands+" select"),oe=te[0]?te[0].value:g,re=/\s$/.test(oe)?oe.strip()+" ":oe.strip();r.indexOf("|")>0?$("input_"+r.split("|").join("_field_")).setValue(re):$("input_"+r).setValue(re);break}catch(e){console.log(e)}case"matrix":"resultSubField"in e&&$(e.resultSubField)&&($(e.resultSubField).value=g);break;case"textarea":(g=g.replace(/<br>|<br\/>/gi,"\r\n"))&&g.length>0&&$("input_"+r).removeClassName("form-custom-hint").removeAttribute("spellcheck");var ne="cardform"==window.FORM_MODE?"#input_"+r+"_editor":".nicEdit-main",ie=$("id_"+r).down(ne);ie&&(ie.innerHTML=g,ie.setStyle({color:""})),$("input_"+r).value=g;break;case"mixed":if($(n)){$(n).value=g;U=$(n).up();"cardform"==window.FORM_MODE&&U&&!U.hasClassName("isFilled")&&U.addClassName("isFilled")}break;case"email":$("input_"+r)&&($("input_"+r).value=g);U=$("input_"+r).parentElement;"cardform"==window.FORM_MODE&&U&&!U.hasClassName("isFilled")&&U.addClassName("isFilled");break;case"appointment":var ae=!!e.conditionTrue&&parseInt(g);setTimeout((function(){"startdate"===e.resultFieldProp&&JotForm.appointments[r].forceStartDate(ae,e.equation),"enddate"===e.resultFieldProp&&JotForm.appointments[r].forceEndDate(ae)}),100);break;default:try{if($("input_"+r)&&!0===$("input_"+r).hinted&&$("input_"+r).clearHint(),$("input_"+r)&&("0"!==e.equation&&"[0]"!==e.equation||"text"!==v?$("input_"+r).value=g:$("input_"+r).value="0"),$("input_"+r)&&g&&0===g.length&&$("input_"+r).hintClear&&$("input_"+r).hintClear(),$("input_"+r)&&"true"==$("input_"+r).readAttribute("data-masked")&&JotForm.setQuestionMasking("#input_"+r,"textMasking",$("input_"+r).readAttribute("maskValue")),"widget"===v){var le=$("input_"+r),se=document.getElementById("customFieldFrame_"+r);if(le&&se)if($(se).hasClassName("frame-xd-ready")){le.fire("widget:populate",{qid:r,value:g}),le.triggerEvent("change");var ce=se.getAttribute("data-client-id");JotForm.makeForceReloadWidgets(ce,r)}else se.addEventListener("load",(function(){le.fire("widget:populate",{qid:r,value:g}),le.triggerEvent("change")}))}break}catch(e){console.log(e)}}const ue=["time","datetime","text"],de=ue.slice(0,-1),me=Boolean(JotForm.payment||window.paymentType)?de:ue,pe=e.operands&&e.operands.split(",")||[],fe=e.baseField&&e.baseField.split(",")||[],he=Boolean([...fe,...pe].find((e=>me.includes(JotForm.getInputType(e)))));if((this.loopMapExist||he)&&(ve="object"==typeof g?JSON.stringify(g):g,ye=e.resultSubField||e.resultField,"__antiLoopCache"in window||(window.__antiLoopCache={}),window.__antiLoopCache[ye]===ve||(window.__antiLoopCache[ye]=ve,0)||function(){var t=(new Date).getTime(),o=t%1e3;o=o<500?"0":"1";var r=parseInt(t/1e3),n=(e.id||e.resultField)+"-"+r+"-"+o;if(window.lastCalculationTimeStamp=window.lastCalculationTimeStamp||(new Date).getTime(),(t-window.lastCalculationTimeStamp)/1e3>10&&(window.__antiCalculationLoopCache={},window.lastCalculationTimeStamp=null),"__antiCalculationLoopCache"in window||(window.__antiCalculationLoopCache={}),n in window.__antiCalculationLoopCache){if(window.__antiCalculationLoopCache[n]++,window.__antiCalculationLoopCache[n]>19)return!0}else window.__antiCalculationLoopCache[n]=1;return!1}())){if(JotForm.isConditionDebugMode){var ge=JotForm.calculations.findIndex((t=>t===e));console.log({calc:e,sourceField:t,index:ge},"IN CHECK CALCULATION"),"function"==typeof __conditionDebugger_logStatus&&__conditionDebugger_logStatus([{title:"Loop Detected In",value:`Calculation - ${ge}`}])}}else{var ve,ye,Fe,be;if(!n&&$("id_"+r).hasClassName("form-line-error")&&$("id_"+r).select("select[class*='required'], textarea[class*='required'], input[class*='required']").each((function(e){e.validateInput&&e.validateInput()})),"checkbox"==v||"radio"==v)be="change",Fe=$("id_"+r);else if("select"==v)be="change",r.indexOf("|")>0?$("input_"+r.split("|").join("_field_"))&&(Fe=$("input_"+r.split("|").join("_field_"))):$("input_"+r)&&(Fe=$("input_"+r));else if("mixed"==v)be="change",r.indexOf("|")>0&&(Fe=$("input_"+r.split("|").join("_field_")));else{if("inline"===v)return;be="keyup",$(n)?Fe=$(n):e.isLabel||(Fe=$("input_"+r)?$("input_"+r):$("id_"+r).select("input").first())}var we=t&&$(t);if(!(o&&we&&we.contains(Fe)&&be===o)&&Fe){if(document.createEvent){var _e=document.createEvent("HTMLEvents");_e.initEvent(be,!0,!0),Fe.dispatchEvent(_e)}Fe.fireEvent&&Fe.fireEvent("on"+be)}}},calcParanthesesBalance:function(e){return(e.match(/\(/g)||[]).length===(e.match(/\)/g)||[]).length},getWidgetType:function(e){try{const t=document.querySelector(`#id_${e}`);if(!t&&!t.querySelector("iframe"))return!1;if(document.querySelector(`#input_${e}`).value.indexOf("widget_metadata")>1)return JSON.parse(document.querySelector(`#input_${e}`).value).widget_metadata.type;const o=t.querySelector("iframe").src,r=new RegExp("^file://.*/(.*?)/index.html").exec(o);if(r)return r[1];const n=new RegExp("jotform.io/(.*)/").exec(o);return!(!n||n.length<2||!n[1])&&n[1]}catch(e){return console.error("get widget type error"),!1}},widgetsWithConditions:[],triggerWidgetCondition:function(e){if(JotForm.widgetsWithConditions.include(e))if(document.createEvent){var t=document.createEvent("HTMLEvents");t.initEvent("change",!0,!0),$("input_"+e).dispatchEvent(t)}else if($("input_"+e).fireEvent)return $("input_"+e).fireEvent("onchange")},getChecklistWidgetValues:function(e){var t="CHECKED: ",o="UNCHECKED: ";return $("input_"+e).value.split(/\r\n|\r|\n/g).reduce((function(e,r){return 0===(r=r.trim()).indexOf(t)?e.checked.push(r.slice(9)):0===r.indexOf(o)?e.unchecked.push(r.slice(11)):e.checked.push(r),e}),{checked:[],unchecked:[]})},getFieldIdFromFieldRef:function(e){try{if("string"==typeof e&&e.indexOf("{")>-1&&e.indexOf("}")>-1){const t=e.strip().replace(/[\{\}]/g,"");let o=document.querySelectorAll('input[name*="_'+t+'["],select[name*="_'+t+'["]');if(o&&0!=o.length||(o=document.querySelectorAll('input[name*="_'+t+'"],select[name*="_'+t+'"]')),o.length>0){const e=o[0].closest(".form-line");if(e)return e.id.replace(/.*id_/,"")}}}catch(e){console.log(e)}return!1},setConditionEvents:function(){const e={},t=200,o="eel.jotform.com"===window.JotForm.enterprise;try{$A(JotForm.conditions).each((function(r){if(1!=r.disabled)if("field"==r.type||"calculation"==r.type||"require"==r.type||"mask"==r.type||$A(r.action).length>0&&"hidePage"===r.action.first().skipHide){var n=[],i={};$A(r.terms).each((function(e){e.field=String(e.field),"boolean"==typeof e.value&&(e.value=String(e.value));var t="";if(e.field.indexOf("|")>-1){var o=e.field.split("|");t=$("id_"+o[0])&&"control_inline"==$("id_"+o[0]).readAttribute("data-type")?e.field:o[0]+"_field_"+o[1]}else t=e.field;var r=e.operator+"|"+e.field;i[r]||(i[r]=!0,n.push(t));var a=JotForm.getFieldIdFromFieldRef(e.value);a&&n.push(a)})),$A(n).each((function(e){switch(JotForm.getInputType(e)){case"widget":case"signature":JotForm.setFieldConditions("input_"+e,"change",r),JotForm.widgetsWithConditions.push(e);break;case"combined":case"email":e.indexOf("_field_")>-1?JotForm.setFieldConditions("input_"+e,"autofill",r):JotForm.setFieldConditions("id_"+e,"autofill",r);break;case"address":JotForm.setFieldConditions("id_"+e,"autofill",r),JotForm.setFieldConditions("input_"+e+"_country","change",r),JotForm.setFieldConditions("input_"+e+"_state","change",r);break;case"datetime":JotForm.setFieldConditions("id_"+e,"date:changed",r);break;case"birthdate":JotForm.setFieldConditions("input_"+e+"_day","change",r),JotForm.setFieldConditions("input_"+e+"_month","change",r),JotForm.setFieldConditions("input_"+e+"_year","change",r);break;case"time":JotForm.setFieldConditions("input_"+e+"_hourSelect","change",r),JotForm.setFieldConditions("input_"+e+"_minuteSelect","change",r),JotForm.setFieldConditions("input_"+e+"_ampm","change",r);case"select":case"file":$("input_"+e)?JotForm.setFieldConditions("input_"+e,"change",r):$("id_"+e).select("select").each((function(e){JotForm.setFieldConditions(e.id,"change",r)}));break;case"checkbox":case"radio":JotForm.setFieldConditions("id_"+e,"change",r);break;case"number":JotForm.setFieldConditions("input_"+e,"number",r);break;case"autocomplete":JotForm.setFieldConditions("input_"+e,"autocomplete",r);break;case"grading":JotForm.setFieldConditions("id_"+e,"keyup",r);break;case"text":case"textarea":JotForm.setFieldConditions("input_"+e,"autofill",r);break;case"hidden":$("input_"+e+"_donation")?JotForm.setFieldConditions("input_"+e+"_donation","keyup",r):JotForm.setFieldConditions("input_"+e,"keyup",r);break;case"mixed":if(e.indexOf("_field_")>-1){var t,o=e.split("_field_")[0];this.CardLayout.layoutParams.allQuestions.forEach((function(e){e.id==o&&(t=e)})),t&&t.fields&&t.fields.forEach((function(e){var t="input_"+o+"_field_"+e.fieldID;JotForm.setFieldConditions(t,"change",r),JotForm.widgetsWithConditions.push(t)}))}break;case"inline":var n="id_"+e.split("|")[0];JotForm.setFieldConditions(n,"change",r);break;default:JotForm.setFieldConditions("input_"+e,"keyup",r)}}))}else $A(r.terms).each((function(n){var i,a=n.field.toString();(-1!==a.indexOf("_")&&(a=a.split("_")[0]),-1!==a.indexOf("|")&&(a=a.split("|")[0]),$("id_"+a))&&((i="cardform"===window.FORM_MODE?$("id_"+a).select(".forNext")[0]:JotForm.getSection($("id_"+a)).select(".form-pagebreak-next")[0])&&i.observe("mousedown",(function(){if(o){const o=i.id+"_mousedown_"+r.id;clearTimeout(e[o]),e[o]=setTimeout((function(){JotForm.checkCondition(r,i.id,"mousedown")}),t)}else JotForm.checkCondition(r,i.id,"mousedown")})))}))})),$H(JotForm.fieldConditions).each((function(r){var n=r.key,i=r.value.event,a=r.value.conditions;$(n)&&("autocomplete"==i?($(n).observe("blur",(function(){if(o){const o=n+"_blur";clearTimeout(e[o]),e[o]=setTimeout((function(){$A(a).each((function(e){JotForm.checkCondition(e,n,"blur")}))}),t)}else $A(a).each((function(e){JotForm.checkCondition(e,n,"blur")}))})).run("blur"),$(n).observe("keyup",(function(){if(o){const o=n+"_keyup";clearTimeout(e[o]),e[o]=setTimeout((function(){$A(a).each((function(e){JotForm.checkCondition(e,n,"keyup")}))}),t)}else $A(a).each((function(e){JotForm.checkCondition(e,n,"keyup")}))})).run("keyup")):"number"==i?($(n).observe("change",(function(){if(o){const o=n+"_change";clearTimeout(e[o]),e[o]=setTimeout((function(){$A(a).each((function(e){JotForm.checkCondition(e,n,"change")}))}),t)}else $A(a).each((function(e){JotForm.checkCondition(e,n,"change")}))})).run("change"),$(n).observe("keyup",(function(){if(o){const o=n+"_keyup";clearTimeout(e[o]),e[o]=setTimeout((function(){$A(a).each((function(e){JotForm.checkCondition(e,n,"keyup")}))}),t)}else $A(a).each((function(e){JotForm.checkCondition(e,n,"keyup")}))})).run("keyup")):"autofill"==i?($(n).observe("blur",(function(){if(o){const o=n+"_blur";clearTimeout(e[o]),e[o]=setTimeout((function(){$A(a).each((function(e){JotForm.checkCondition(e,n,"blur")}))}),t)}else $A(a).each((function(e){JotForm.checkCondition(e,n,"blur")}))})).run("blur"),$(n).observe("keyup",(function(){if(o){const o=n+"_keyup";clearTimeout(e[o]),e[o]=setTimeout((function(){$A(a).each((function(e){JotForm.checkCondition(e,n,"keyup")}))}),t)}else $A(a).each((function(e){JotForm.checkCondition(e,n,"keyup")}))})).run("keyup"),(Prototype.Browser.IE9||Prototype.Browser.IE10||!Prototype.Browser.IE)&&$(n).observe("change",(function(){if(o){const o=n+"_change";clearTimeout(e[o]),e[o]=setTimeout((function(){$A(a).each((function(e){JotForm.checkCondition(e,n,"change")}))}),t)}else $A(a).each((function(e){JotForm.checkCondition(e,n,"change")}))})).run("change")):($(n).observe(i,(function(){if(o){const o=n+"_"+i;clearTimeout(e[o]),e[o]=setTimeout((function(){$A(a).each((function(e){JotForm.checkCondition(e,n,i)}))}),t)}else $A(a).each((function(e){JotForm.checkCondition(e,n,i)}))})),$(n).id.match(/input_[0-9]+_quantity_[0-9]+_[0-9]+/)?JotForm.runConditionForId(n.replace("input_","")):$(n).run(i)))}))}catch(e){JotForm.error(e)}},setFieldsToPreserve:function(e){const t=document.querySelectorAll('input[name="simple_fpc"]'),o=t.length>0&&["braintree","dwolla","stripe","paypal","paypalpro","paypalexpress","authnet"].indexOf(t[0].getAttribute("data-payment_type"))>-1,r=[{type:"phone",pattern:/Phone|Contact/i},{type:"email",pattern:/email|mail|e-mail/i},{type:"company",pattern:/company|organization/i}],n=document.querySelectorAll('.form-line[data-type*="email"],.form-line[data-type*="textbox"],.form-line[data-type*="phone"],.form-line[data-type*="dropdown"],.form-line[data-type*="radio"]'),i=Array.from(n).sort((function(e,t){return Number(e.id.replace("id_",""))-Number(t.id.replace("id_",""))})),a={};i.forEach((function(t){const n=t.id.replace("id_",""),i=t.querySelector("input, select").name.replace(/q\d+_/,""),l=t.getAttribute("data-type").replace("control_","");o&&Object.keys(a).length<3&&r.forEach((function(e){if("textbox"==l||l==e.type){const o=t.querySelector("label").innerHTML.strip();e.pattern.exec(o)&&!a[e.type]&&(a[e.type]=n,-1===JotForm.fieldsToPreserve.indexOf(n)&&JotForm.fieldsToPreserve.push(n))}})),e&&JotForm.fieldsToPreserve.indexOf(n)&&(e.indexOf(i)>-1||e.indexOf(n)>-1)&&JotForm.fieldsToPreserve.push(n)}))},changePaymentStrings:function(e){const t=document.querySelector("#coupon-header"),o=document.querySelector("#shipping-text"),r=document.querySelector("#tax-text"),n=document.querySelector("#subtotal-text"),i=document.querySelector("#total-text");t&&e.couponEnter&&(t.innerHTML=e.couponEnter),o&&e.shippingShipping&&(o.innerHTML=e.shippingShipping),r&&e.taxTax&&(r.innerHTML=e.taxTax),n&&e.totalSubtotal&&(n.innerHTML=e.totalSubtotal),i&&e.totalTotal&&(i.innerHTML=e.totalTotal)},handleSubscriptionPrice:function(){navigator.userAgent.toLowerCase().indexOf("safari/")>-1&&document.querySelectorAll(".form-product-custom_price").forEach((function(e){e.onclick=function(e){e.preventDefault()}}));const e=document.querySelectorAll("input[data-price-source]");if(e.length<1)return;const t=[],o={};e.forEach((function(e){var r=e.getAttribute("data-price-source"),n=document.querySelector("#input_"+r);if(!n)return;o[r]||(o[r]=[]);t.push(n),o[r].push((function(){e.value=function(){let e=n.value;return"number"!=typeof e&&(e=e.replace(/[^0-9\.]/gi,"")),!isNaN(e)&&e>0?e:0}()}))})),t.forEach((function(e){const t=e.id.replace("input_","");e.onkeyup=function(){o[t].forEach((function(e){e()})),JotForm.countTotal()}}))},validateCustomPriceField:function(){var e=document.querySelectorAll('input[id*="_custom_price"]');e&&e.length>0&&e.forEach((function(e){var t=e.hasAttribute("readonly")||!1;e.addEventListener("input",(function(){})),t&&e.addEventListener("keydown",(function(){e.readOnly=!0}))}))},handleDonationAmount:function(){var e=JotForm.donationField=document.querySelector('input[id*="_donation"]');const t=e.hasAttribute("readonly")||!1;JotForm.paymentTotal=e.value||0;var o="";"cardform"===window.FORM_MODE&&document.querySelectorAll('input[class*="js-donation-suggestion"]').forEach((function(e){e.addEventListener("click",(function(e){JotForm.paymentTotal=e.target.value}))}));if(e.addEventListener("input",(function(){var e=new RegExp(/^([0-9]{0,15})(\.[0-9]{0,2})?$/);t||(this.value.match(e)?JotForm.paymentTotal=o=this.value:JotForm.paymentTotal=this.value=o)})),t&&e.addEventListener("keydown",(function(){e.readOnly=!0})),e.getAttribute("data-custom-amount-field")>0){if(JotForm.donationSourceField=document.querySelector(`#input_${e.getAttribute("data-custom-amount-field")}`),!JotForm.donationSourceField)return void e.removeAttribute("readonly");setTimeout((function(){JotForm.updateDonationAmount(),e.triggerEvent("keyup")}),1e3),JotForm.donationSourceField.addEventListener("keyup",JotForm.updateDonationAmount),JotForm.donationSourceField.addEventListener("change",JotForm.updateDonationAmount)}else if(e.hasAttribute("data-min-amount")){var r=e.nextSibling.textContent.strip(),n=parseFloat(e.readAttribute("data-min-amount"));e.validateMinimum=function(){var t=this.getValue();if(isNaN(t)||t<n){var o=JotForm.texts.ccDonationMinLimitError.replace("{minAmount}",n).replace("{currency}",r);return JotForm.errored(e,o)}return JotForm.corrected(e)}}},updateDonationAmount:function(e){if(!JotForm.donationSourceField||JotForm.donationField.closest(".form-line.form-field-hidden")||JotForm.donationField.closest("ul.form-field-hidden"))return;if(!["undefined","object"].includes(typeof e))return void(JotForm.donationField.value=JotForm.paymentTotal=e);JotForm.donationField.value=JotForm.paymentTotal=function(){let e=JotForm.donationSourceField.value;const t=JotForm.calculations.find((function(e){return e.resultField===JotForm.donationSourceField.id.split("_")[1]}));if(t&&"1"===t.useCommasForDecimals&&(e=e.replace(",",".")),"number"!=typeof e&&(e=e.replace(/[^0-9\.]/gi,""),""!==e))try{e=e.match(/^([0-9]{1,15})(?:\.(\d{0,2}))?/)[0]}catch(e){console.log('Error from "Get Price From" on donation input:',e)}return!isNaN(e)&&e>0?e:0}(),window.FORM_MODE&&"cardform"==window.FORM_MODE&&JotForm.donationField.parentNode.addClassName("isFilled")},isComparePaymentFormV1:function(){return"comparePaymentForm=v1"===window.location.search.substring(1)},isPaymentSelected:function(){var e=!1,t=document.querySelector('input[name="simple_fpc"]'),o=t&&t.value,r=$("id_"+o);if(!r)return!!t;if(r.hasClassName("form-field-hidden")||r.up("ul.form-section").hasClassName("form-field-hidden")||r.up("ul.form-section-closed")&&r.up("ul.form-section-closed").hasClassName("form-field-hidden"))return!1;if(!t)return!1;if(r&&("none"===r.getStyle("display")||!JotForm.isVisible(r)&&JotForm.getSection(r).id))return!1;if("product"===window.paymentType&&window.JFAppsManager&&window.JFAppsManager.checkoutKey&&window.JFAppsManager.cartProductItemCount>0)return!0;if(window.productID)$H(window.productID).each((function(t){var o=$(t.value);if(o&&o.checked){var r=o.up().select('select[id*="_quantity_"],input[id*="_quantity_"]');if(e=0===r.length||1===r.length&&r[0].getValue()>0,r.length>1&&(e=r.any((function(e){return e.getValue()>0}))),e)throw $break}}));else{if(!$("input_"+o+"_donation")){var n=$$('input[name*="q'+o+'"][type="hidden"]');return!(n.length<1)&&("false"!==n[0].readAttribute("selected")||(n[0].remove(),!1))}var i=$("input_"+o+"_donation");/^\d+(?:\.\d+)?$/.test(i.getValue())&&(e=i.getValue()>0)}return e},togglePaypalButtons:function(e){var t=$$('input[name="simple_fpc"]')[0].value;$("input_"+t+"_paymentType_express")&&!$("input_"+t+"_paymentType_express").checked&&(e=!1),$$(".paypal-button").length<1||!$("use_paypal_button")||$$(".form-submit-button").each((function(t){e?t.up().down(".paypal-button")&&(t.up().down(".paypal-button").show(),t.hide()):(t.up().down(".paypal-button")&&t.up().down(".paypal-button").hide(),t.show())}))},handlePaypalButtons:function(){var e=window.productID,t=!1,o=$$('input[name="simple_fpc"]')[0].value;e?$H(e).each((function(e){if($(e.value).getAttribute("class").indexOf("[required]")>-1)throw t=!0,$break})):$("input_"+o+"_donation")&&(t=$("input_"+o+"_donation").getAttribute("class").indexOf("required")>-1),JotForm.togglePaypalButtons(t||JotForm.isPaymentSelected()),t||$H(e).each((function(e){$(e.value).observe("click",(function(){JotForm.togglePaypalButtons(JotForm.isPaymentSelected())}))}))},paymentDropdownHandler:function(e,t){var o=null;if(e?o=document.getElementById(e):document.querySelectorAll(".payment-dropdown").length>0&&(o=document.querySelectorAll(".payment-dropdown")[0]),o){var r=o.querySelector(".select-area"),n=r.querySelector(".selected-value"),i=o.querySelectorAll(".option"),a=document.querySelector("#payment-category-dropdown");i.forEach((function(e){e.addEventListener("click",(function(e){var a=e.target.getAttribute("data-value"),l={};i.forEach((function(e){e.getAttribute("data-value")===a&&(l={label:e.innerText.trim(),value:a})})),l.value&&"clear"!==l.value?o.classList.add("option-selected"):o.classList.remove("option-selected"),"clear"!==l.value?n.innerText=l.label:n.innerText="",o.classList.remove("open"),r.setAttribute("aria-expanded","false"),t(l)}))})),r.addEventListener("click",(function(){o.classList.contains("open")?(o.classList.remove("open"),r.setAttribute("aria-expanded","false")):(o.classList.add("open"),r.setAttribute("aria-expanded","true"))})),window.addEventListener("click",(function(e){e.target&&!e.target.closest("#payment-sorting-products-dropdown")&&o.classList.remove("open"),e.target&&!e.target.closest("#payment-category-dropdown")&&a&&a.classList.contains("open")&&a.classList.remove("open")}))}},multiSelectDropdownHandler:function(e){var t=document.querySelector(".multi-select-dropdown");if(t){var o=t.querySelector(".select-area"),r=o.querySelector(".selected-values"),n=t.querySelectorAll(".option"),i=o.querySelector(".dropdown-hint");n.forEach((function(o){o.addEventListener("click",(function(o){var a=o.target,l=a.closest(".option")||a,s=l.querySelector("input"),c=s.value,u=[];"INPUT"!==a.nodeName&&(s.checked=!s.checked),s.checked?("All"===c?n.forEach((function(e){var t=e.select("input")[0];"All"!==t.value&&(t.checked=!1,e.classList.remove("selected"))})):(n[0].classList.remove("selected"),n[0].querySelector("input").checked=!1),l.classList.add("selected")):l.classList.remove("selected"),n.forEach((function(e){e.classList.contains("selected")&&u.push({label:e.querySelector("span").innerText,value:e.querySelector("input").value})})),t.classList.contains("hasSelectAll")&&0===u.length&&(n[0].classList.add("selected"),n[0].querySelector("input").checked=!0,u.push({label:n[0].querySelector("span").innerText,value:n[0].querySelector("input").value})),"All"===u[0]?i.show():i.hide();var d=u.map((function(e){return e.value})),m=u.map((function(e){return e.label}));r.innerText=m.join(", "),"All"===u[0].value||JotForm.isVisible(i)&&"All"===u[0].value?r.classList.add("all_selected"):r.hasClassName("all_selected")&&r.classList.remove("all_selected"),e(u,m,d)}))})),o.addEventListener("click",(function(){t.classList.toggle("open"),o.setAttribute("aria-expanded",t.classList.contains("open").toString())})),window.addEventListener("click",(function(e){!e.target||e.target.closest("#payment-category-dropdown")||e.target.closest("#payment-sorting-products-dropdown")||t.classList.remove("open")}))}},handleProductCategoryDropdown:function(){this.multiSelectDropdownHandler((function(e,t,o){var r=document.getElementById("payment-category-dropdown"),n=document.querySelectorAll(".form-product-category-item"),i=r&&r.hasClassName("category-title-enabled"),a=document.querySelectorAll(".form-product-item"),l=document.querySelector("#payment-sorting-products-dropdown");0!==a.length&&(a.forEach((function(t){var r=t;if(r.classList.remove("not-category-found"),"All"!==e[0].value)if(i)o.includes(r.getAttribute("active-category"))||r.classList.add("not-category-found");else{var n=r.getAttribute("categories")?r.getAttribute("categories").split(","):[];if(n){var a=!1;n.forEach((function(e){o.includes(e)&&(a=!0)})),a||r.classList.add("not-category-found")}}})),(0!==n.length||i)&&(n.forEach((function(t){t.classList.remove("not-category-found"),"All"!==e[0].value&&(o.includes(t.getAttribute("category"))?t.classList.remove("not-category-found"):t.classList.add("not-category-found"))})),window.addEventListener("click",(function(e){e.target&&!e.target.closest("#payment-category-dropdown")&&r.classList.remove("open"),e.target&&!e.target.closest("#payment-sorting-products-dropdown")&&l&&l.classList.contains("open")&&l.classList.remove("open")}))))})),isIframeEmbedFormPure()&&document.querySelectorAll(".form-product-category-item").forEach((function(e){e.addEventListener("click",callIframeHeightCaller)}))},initPaymentProperties:function(e){try{if(!e)return;if(0===Object.keys(e).length)return;JotForm.paymentProperties=JSON.parse(e)}catch(e){console.error(e)}},checkEmbed:function(){if(window!==window.top){const e=void 0!==document.get&&"true"===document.get.jsForm&&document.get.parentURL?document.get.parentURL:document.referrer;appendHiddenInput("embedUrl",e),JotForm.debug&&console.log(e),"thankurl"===JotForm.activeRedirect&&document.referrer&&["www.speedeebeer.com","jamesjohnmadden.github.io"].includes(new URL(document.referrer).hostname)&&JotForm.forms.forEach((e=>e.setAttribute("target","_top")))}},checkPwa:function(){if(window.location.href.indexOf("jotform_pwa=1")>-1){if(-1===window.location.href.indexOf("pwa_id="))return new Error("AppId couldn't be found!");[{name:"jotform_pwa",val:1},{name:"pwa_id",val:document.get.pwa_id},{name:"pwa_isPWA"},{name:"pwa_device"}].forEach((function(e){(e.val||document.get[e.name])&&appendHiddenInput(e.name,e.val||document.get[e.name])}))}},handlePaypalExpress:function(){"function"==typeof _paypalExpress&&"No"!==$("express_category").getAttribute("data-digital_goods")&&(new _paypalExpress).init()},handleEcheck:function(){"function"==typeof _echeck&&(new _echeck).init()},handleBraintree:function(){if(!(window.location.pathname.match(/^\/edit/)||["edit","inlineEdit","submissionToPDF"].indexOf(document.get.mode)>-1&&document.get.sid)){if("function"!=typeof __braintree)return alert("Braintree payment script didn't work properly. Form will be reloaded"),void location.reload();JotForm.braintree=__braintree(),JotForm.braintree.init()}},handlePagseguro:function(){if(!(window.location.pathname.match(/^\/edit/)||["edit","inlineEdit","submissionToPDF"].indexOf(document.get.mode)>-1&&document.get.sid)){if("function"!=typeof __pagseguro)return alert("PagSeguro payment script didn't work properly. Form will be reloaded"),void location.reload();JotForm.pagseguro=__pagseguro(),JotForm.pagseguro.init()}},handleSquare:function(){if((window.location.href.match(/mode=inlineEdit/)||window.location.pathname.match(/^\/\/edit/)||window.location.pathname.match(/^\/edit/)||window.location.href.match(/mode=submissionToPDF/))&&document.get.sid)return;if(window===window.top&&"https:"!==window.location.protocol)return void(window.location.href=window.location.href.replace("http","https"));if("function"!=typeof __square)return alert("Square payment script didn't work properly. Form will be reloaded"),void location.reload();const e=new URLSearchParams(window.location.search),t=document.getElementById("useSquareFormPayment");t&&("1"===e.get("useSquareFormPayment")?t.value=1:t.remove()),JotForm.squarePayment=__square(),JotForm.squarePayment.loadSquareScript((function(){JotForm.squarePayment.init()}))},handleSensepass:function(){if(!JotForm.isEditMode()&&"No"!==JotForm.isDirectFlow){if("function"!=typeof __sensepass)return alert("Sensepass payment script didn't work properly. Form will be reloaded"),void location.reload();JotForm.sensepassPayment=__sensepass(),JotForm.sensepassPayment.init()}},handleStripeACH:function(){if(!JotForm.isEditMode()){if("undefined"==typeof __stripeACH)return alert("Stripe ACH payments script didn't work properly. Form will be reloaded. "),void location.reload();JotForm.stripeACH=__stripeACH,JotForm.stripeACH.init()}},handleMollie:function(){if(!JotForm.isEditMode()){if("undefined"==typeof __mollie)return alert("Mollie script didn't work properly. Form will be reloaded. "),void location.reload();JotForm.mollie=__mollie,JotForm.mollie.init()}},handleBluepay:function(){if(!JotForm.isEditMode()){if("undefined"==typeof __bluepay)return alert("Bluepay script didn't work properly. Form will be reloaded. "),void location.reload();JotForm.bluepay=__bluepay,JotForm.bluepay.init()}},handlePaypalSPB:function(){JotForm.paypalSPB=__paypalSPB;try{JotForm.paypalSPB.init(),JotForm.paypalSPB.render()}catch(e){if(console.error(e),"string"==typeof e)return void alert(e);alert("There was a problem with PayPal Smart Payment Buttons integration.")}},handlePaymentSubProducts:function(){var e=[],t=[],o=document.querySelectorAll(".form-section"),r=!1;document.querySelectorAll(".form-product-has-subproducts").forEach((function(n){var i,a=!1;((i=n.closest(".form-line"))&&i.classList.contains("form-field-hidden")&&(i.style.display="",a=!0),o.length>1?(r=r||o.filter((function(e){var t=n.closest(".form-section");return t&&t===e}))[0]).isVisible()?e[n.id]=[n.parentNode.offsetHeight,document.querySelector('label[for="'+n.id+'"]').offsetHeight]:(r.setStyle({display:"block"}),e[n.id]=[n.parentNode.offsetHeight,document.querySelector('label[for="'+n.id+'"]').offsetHeight],r.setStyle({display:"none"})):e[n.id]=[n.parentNode.offsetHeight,document.querySelector('label[for="'+n.id+'"]').offsetHeight],n.addEventListener("click",(function(){!function(o){var r=o.parentNode;o.checked?(r.shift({height:e[o.id][0]-10,duration:.3,onEnd:JotForm.handleIFrameHeight}),JotForm.populateProductValues(o,t)):(r.shift({height:e[o.id][1],duration:.3,onEnd:JotForm.handleIFrameHeight}),o.value&&o.value.indexOf("_expanded")>-1&&r.querySelector(".form-product-description")&&r.querySelector(".form-product-description").childNodes[0]&&""!==r.querySelector(".form-product-description").childNodes[0].nodeValue.trim()&&r.shift({height:e[o.id][1]+20}),t[o.id]=[],JotForm.clearProductValues(o,t));setTimeout((function(){JotForm.totalCounter(JotForm.prices)}),300)}(this),JotForm.countTotal()})),a)&&((i=n.closest(".form-line"))&&(i.style.display="none"))}))},clearProductValues:function(e,t){document.querySelectorAll("#"+e.id+"_subproducts select,#"+e.id+'_subproducts input[type="text"]').forEach((function(o){var r="select"===o.tagName?o.options[o.selectedIndex].value:o.value;r&&t[e.id].push([o.id,r]),o.stopObserving(),"SELECT"===o.tagName?o.selectedIndex=0:o.value=0}))},clearProductValuesV1:function(e,t){document.querySelectorAll("#"+e.id+"_subproducts select,#"+e.id+'_subproducts input[type="text"]').forEach((function(o){var r="select"===o.tagName?o.options[o.selectedIndex].value:o.value;r&&t[e.id].push([o.id,r]),o.stopObserving("blur"),o.stopObserving("focus"),"SELECT"===o.tagName?o.selectedIndex=0:o.value=0}))},populateProductValues:function(e,t){t[e.id]&&t[e.id].length>0&&t[e.id].each((function(e){$(e[0]).stopObserving(),$$("#"+e[0]+".form-product-custom_quantity").each((function(e){e.observe("blur",(function(){isNaN(this.value)||this.value<1?this.value="0":this.value=parseInt(this.value)}))})),$$("#"+e[0]+".form-product-custom_quantity").each((function(e){e.observe("focus",(function(){0==this.value?this.value="":this.value}))})),"SELECT"===$(e[0]).tagName?$(e[0]).selectOption(e[1]):$(e[0]).value=e[1]}))},populateProductValuesV1:function(e,t){t[e.id]&&t[e.id].length>0&&t[e.id].each((function(e){$(e[0]).stopObserving("blur"),$(e[0]).stopObserving("focus"),$$("#"+e[0]+".form-product-custom_quantity").each((function(e){e.observe("blur",(function(){isNaN(this.value)||this.value<1?this.value="0":this.value=parseInt(this.value)}))})),$$("#"+e[0]+".form-product-custom_quantity").each((function(e){e.observe("focus",(function(){0==this.value?this.value="":this.value}))})),"SELECT"===$(e[0]).tagName?"0"!==e[1]&&$(e[0]).selectOption(e[1]):$(e[0]).value=e[1]}))},handlePaymentSubProductsV1:function(){const e=[];document.querySelectorAll(".form-product-has-subproducts").forEach((function(t){t.addEventListener("click",(function(){const o=t.closest(".form-product-item");t.checked?(o.classList.remove("sub_product"),o.classList.add("show_sub_product"),JotForm.populateProductValuesV1(t,e)):(o.classList.remove("show_sub_product"),o.classList.add("sub_product"),e[t.id]=[],JotForm.clearProductValuesV1(t,e),"undefined"!=typeof PaymentStock&&PaymentStock.handleStockManagement()),JotForm.countTotal()}))}))},handleProductLightbox:function(){document.querySelectorAll(".form-product-image-with-options").forEach((function(e){e.addEventListener("click",(function(){const t=e.closest(".form-product-item").getAttribute("pid");isIframeEmbedFormPure()?onProductImageClicked(t,!0):onProductImageClicked(t,!1)}))}))},setCurrencyFormat:function(e,t,o){var r=["BIF","CLP","DJF","GNF","JPY","KMF","KRW","MGA","PYG","RWF","VUV","XAF","XOF","XPF"].indexOf(e)>-1||!t?0:2;this.currencyFormat={curr:e,dSeparator:"comma"==o?",":".",tSeparator:"comma"==o?".":",",decimal:r,decimalMark:o}},setCustomPriceSource:function(e){if(e){const o=document.querySelector(`[id="${e}_custom_first_payment_price"]`),r=document.querySelector(`[id="${e}_custom_price"]`);if(o&&o.hasAttribute("data-price-source")){const e=o.getAttribute("data-price-source");if(e){const t=document.getElementById("input_"+e);t&&(t.value=o.value)}}if(r&&r.hasAttribute("data-price-source")){var t=r.getAttribute("data-price-source");if(t){const e=document.getElementById("input_"+t);e&&(e.value=r.value)}}}},countTotal:function(e){e=e||JotForm.prices;var t=!1,o=function(e,t){return parseFloat(JotForm.morePreciseToFixed(e,t))};if(Object.keys(JotForm.discounts).length>0)if(t=!0,JotForm.discounts.total||JotForm.discounts.shipping)var r=JotForm.discounts.type,n=JotForm.discounts.rate,i=JotForm.discounts.minimum,a=JotForm.discounts.code;else for(var l in e)for(var s in JotForm.discounts)-1!==l.indexOf(s)&&(e[l].discount=JotForm.discounts[s]);else $H(e).each((function(t){delete e[t.key].discount}));var c,u,d,m=0,p=0,f=0,h=0,g=[],v=0,y=0,F=0,b=0,w=0,_=0,E=JotForm.currencyFormat.curr,S=JotForm.currencyFormat.decimal,J=JotForm.currencyFormat.dSeparator,C=JotForm.currencyFormat.tSeparator,A=JotForm.currencyFormat.decimalMark,x=0,k=0,T=null,I=0,D=0,q=[],N=[];if(JotForm.discounts&&Object.keys(JotForm.discounts).length>0&&"subscription"===window.paymentType&&document.querySelector(".form-payment-discount")&&document.querySelector(".form-payment-discount").remove(),$H(e).each((function(e){var t,i=!1,a=parseFloat(e.value.price)||0,l=e.key.split("_"),s=l[0]+"_"+l[1]+"_"+l[2];if(T=$(s)?$(s).up(".form-product-item"):null,formProductInput=T&&T.down(".form-product-input"),c=0,u=0,4===e.key.split("_").length?(i=!0,(t=e.key.split("_")).pop(),t=t.join("_"),g[t]=g[t]||0):t=e.key,JotForm.couponApplied||!formProductInput||formProductInput.checked||void 0!==e.value.specialPriceField){var d=T&&T.down(".form-product-name")&&T.down(".form-product-name").textContent.trim();if(d||(d=$$("#"+s+"+ .product__header")[0]&&$$("#"+s+"+ .product__header .product__title")[0].textContent.trim()),"custom"==e.value.price){if($(e.key)&&$(e.key).checked&&(JotForm.setCustomPriceSource(e.key),f=parseFloat($(e.key+"_custom_price").getValue()),h=f,JotForm.discounts&&JotForm.discounts[l[2]])){var p=JotForm.discounts[l[2]].split("-");n=p[0],r=p[1]}}else if(e.value.recurring&&e.value.firstPaymentVal&&"1"===e.value.customFirstPaymentPrice&&(JotForm.setCustomPriceSource(e.key),$(e.key)&&$(e.key).checked&&$(e.key+"_custom_first_payment_price")&&JotForm.discounts&&JotForm.discounts[l[2]])){p=JotForm.discounts[l[2]].split("-");n=p[0],r=p[1]}if($(e.value.quantityField)){if(e.value.quantityField&&!(parseInt($(e.value.quantityField).getValue())>0)){if(!$(e.value.quantityField).hasClassName("form-subproduct-quantity"))return;var E=$(t).checked;if($(e.value.quantityField).hasClassName("form-subproduct-quantity")&&(!E||"0"===$(e.value.quantityField).getValue()))return}try{var A=e.key.split("_").slice(0,-1).join("_");if($(A)&&"radio"===$(A).type&&!$(A).checked)return $(e.value.quantityField).value>0&&($(e.value.quantityField).value=0,$(A+"_item_subtotal")&&$(A+"_item_subtotal").update("0.00")),void("cardform"===window.FORM_MODE&&($$("ul.products")[0]&&$$("ul.products")[0].querySelector('li[data-input="'+A+'"]')&&$$("ul.products")[0].querySelector('li[data-input="'+A+'"]').classList.remove("product--selected"),$(e.value.quantityField).up().querySelector(".jfDropdown-chip.isSingle").innerText=0))}catch(ve){console.warn(ve)}}var M=!!e.value.recurring;m=parseFloat(m);var O,L=0,P=a,B=0,R=0,j=e.value.recurring,H=!1,V=1,U=[],z=0;if($(e.value.specialPriceField)){var Y=$(e.value.specialPriceField);if(e.value.child&&4===e.value.specialPriceField.split("_").length){var W=e.value.specialPriceField.split("_")[3],Q=""===e.value.specialPriceList[W]?"0":e.value.specialPriceList[W];a=parseFloat(Q)}else{O=isNaN($(Y).options[0].value)||$(Y).options[0].value>0||$(""!=Y.options[0].innerHTML.strip())?Y.getSelected().index:Y.getSelected().index-1;var G=null;if($(e.value.quantityField)&&$(e.value.quantityField).up("tr"))G=$(e.value.quantityField).up("tr").querySelector("th").textContent.trim();else{var K=document.querySelector("label[for="+e.value.specialPriceField+"]");G=K&&K.textContent.trim()}if(G&&U.push({name:G,value:$(Y).getSelected().value}),O>-1)a=parseFloat(e.value.specialPriceList[O]),$(e.key+"_price")&&$(e.key+"_price").siblings(".freeCurr").each((function(e){e.style.display="inline"}));else{var X=e.value.specialPriceList[O+1];a=0}}H=!0,z=e.value.specialPriceList[O]}if(P=a,e.value.discount){var Z=e.value.discount.split("-");if(P=a,Z[2]){if("all"===Z[2]||"product"===Z[2]){if(M){var ee="fixed"===Z[1]?Z[0]:o(j*(Z[0]/100));u=ee,j=(j-=ee)<0?0:o(j)}else u="fixed"===Z[1]?Z[0]:o(a*(Z[0]/100));ee="fixed"===Z[1]?Z[0]:o(a*(Z[0]/100));e.value.firstPaymentVal&&(c=ee),a=(a-=ee)<0?0:a,"custom"===e.value.price&&n&&r&&(u="fixed"===r?n:o(n/100*parseFloat(f)))}else if("first"===Z[2]){if(M){ee="fixed"===Z[1]?Z[0]:o(a*(Z[0]/100));c=ee,a=(a-=ee)<0?0:a}}else if("stripe_native"===Z[2])if(M){var te=o(a-j);ee="fixed"===Z[1]?Z[0]:o(j*(Z[0]/100));a=j-ee,Z[3]||(j=o(a),u=ee),e.value.firstPaymentVal&&"0"===e.value.customFirstPaymentPrice&&(c=ee),a=o(a+Number(te))}else{ee="fixed"===Z[1]?Z[0]:o(a*(Z[0]/100));$(e.key)&&$(e.key).checked&&(u=ee),a=(a-=ee)<0?0:a}}else{a=(a-="fixed"===Z[1]?Z[0]:o(a*(Z[0]/100)))<0?0:a;var oe=$$('input[name="simple_fpc"]')[0]&&$$('input[name="simple_fpc"]')[0].value;if(oe){var re=e.value.specialPriceField&&!isNaN(Q);JotForm.pricesAfterCoupon[e.key.split("input_"+oe+"_")[1]]={oldPrice:JotForm.morePreciseToFixed(re?Q:e.value.price),newPrice:JotForm.morePreciseToFixed(a)}}}a=o(a)}if(e.value.recurring){var ne=$(e.key+"_setupfee");if(ae=$(e.key+"_price")){var ie=M?j:a;$(ae).update(parseFloat(ie).formatMoney(S,J,C))}ne&&$(ne).update(parseFloat(a).formatMoney(S,J,C))}else{var ae=$(e.key+"_price")?$(e.key+"_price"):$(e.key.replace(e.key.substring(e.key.lastIndexOf("_")),"")+"_price")||null;if(ae){var le=ae.innerHTML;if("0"==a&&e.value.specialPriceList&&X)$(ae).update(parseFloat(X||0).formatMoney(S,J,C));else if("0"!=e.value.price||e.value.specialPriceList){if($(ae).parentNode.show(),$(ae).update(parseFloat(a).formatMoney(S,J,C)),JotForm.categoryConnectedProducts&&Object.keys(JotForm.categoryConnectedProducts).length>0){var se=JotForm.categoryConnectedProducts[e.key.split("_")[2]];se&&se.forEach((function(t){var o=e.key.split("_");o[2]=t;var r=o.join("_"),n=$(r+"_price")?$(r+"_price"):$(r.replace(r.substring(r.lastIndexOf("_")),"")+"_price")||null;n&&$(n).update(parseFloat(a).formatMoney(S,J,C))}))}}else $(ae).update(le)}}if(e.value.tax){var ce=e.value.tax;_=parseFloat(ce.rate)||0;var ue=$$('select[id*="input_'+ce.surcharge.field+'"], input#input_'+ce.surcharge.field)[0]||!1;ue&&ue.value&&(JotForm.surchargeFieldId=ce.surcharge.field.split("_")[0],$H(ce.surcharge.rates).each((function(e){if("object"==typeof e.value){var t=e.value[1],o=e.value[0];if(t&&o&&t.toLowerCase()===ue.value.toLowerCase())throw _+=Number(o),$break}})))}if(e.value.addons&&(a+=e.value.addons),$(e.key)&&$(e.key).checked){if(k++,$(e.value.quantityField)||$(e.value.specialPriceField)){if($(e.value.quantityField)&&e.value.specialPriceField!==e.value.quantityField&&("text"==$(e.value.quantityField).readAttribute("type")?(a=$(e.value.quantityField).value?o(a*Math.abs(parseInt($(e.value.quantityField).value,10))):0,P=$(e.value.quantityField).value?o(P*Math.abs(parseInt($(e.value.quantityField).value,10))):0,V=Math.abs(parseInt($(e.value.quantityField).value,10))):(a=o(a*parseInt($(e.value.quantityField).getSelected().text||0,10)),P=o(P*parseInt($(e.value.quantityField).getSelected().text||0,10)),V=parseFloat($(e.value.quantityField).getSelected().text)),U.push({name:"Quantity",value:V}),document.querySelector("#"+t+"_subproducts")&&U.push({name:document.querySelector("#"+t+"_subproducts th:first-child").textContent.trim(),value:$(e.value.quantityField).up("tr").querySelector("th").textContent.trim()})),i&&(g[t]=o(g[t]+a)),$(t+"_item_subtotal")&&!isNaN(a)){const ye=i?g[t]:a;$(t+"_item_subtotal").update(parseFloat(ye).formatMoney(S,J,C)),JotForm.categoryConnectedProducts&&Object.keys(JotForm.categoryConnectedProducts).length>0&&JotForm.categoryConnectedProducts[e.key.split("_")[2]]&&JotForm.categoryConnectedProducts[e.key.split("_")[2]].forEach((e=>{const o=t.split("_");o[2]=e,$(o.join("_")+"_item_subtotal")&&$(o.join("_")+"_item_subtotal").update(parseFloat(ye).formatMoney(S,J,C))}))}$(e.value.quantityField)&&("INPUT"===$(e.value.quantityField).nodeName?V=Math.abs(parseInt($(e.value.quantityField).value,10)):"SELECT"===$(e.value.quantityField).nodeName&&(V=parseFloat($(e.value.quantityField).getSelected().text)))}if(e.value.tax&&("custom"===e.value.price&&"subscription"===window.paymentType?(B=f*(_/100),R=h*(_/100)):(B=a*(_/100),R=P*(_/100)),B=o(B),R=o(R)),e.value.shipping){var de=e.value.shipping;if(de.firstItem){var me=$(e.value.quantityField)?"text"===$(e.value.quantityField).readAttribute("type")?parseInt($(e.value.quantityField).value):parseInt($(e.value.quantityField).getSelected().text||0):1;1===me&&(L=parseFloat(de.firstItem)),me>1&&(L=parseFloat(de.addItem)?parseFloat(de.firstItem)+parseFloat(de.addItem)*(me-1):parseFloat(de.firstItem)),L=o(L)}else 0==x&&de.flatRate&&(v=x=parseFloat(de.flatRate))}y=o(y+B),F=o(F+R),x||(v=o(v+L)),f=o(f+a),h=o(h+P),b=o(b+(L+B)),w=o(w+(L+R))}else $(e.key+"_item_subtotal")&&$(e.key+"_item_subtotal").update("0.00");if("subscription"===window.paymentType&&e.key&&document.getElementById(e.key)&&document.getElementById(e.key).checked){function pe(t,i){if(n&&r&&Z[2]){var a="fixed"===r?n:o(n/100*parseFloat(t));return"first"===Z[2]&&("custom"===e.value.price&&e.value.firstPaymentVal||"1"===e.value.customFirstPaymentPrice&&e.value.firstPaymentVal&&e.value.price&&e.value.recurring)&&(c=a),"all"===i?u=a:"first"===i&&(c=a),parseFloat(t)>parseFloat(a)?o(parseFloat(t)-parseFloat(a)):0}return t}(e.value.firstPaymentVal||"custom"===e.value.firstPaymentPrice)&&(I=pe(I=$(e.key+"_custom_first_payment_price")?$(e.key+"_custom_first_payment_price").getValue():a||e.value.firstPaymentVal,"first")),(D=0>(D=e.value.recurring?j:f)?0:D)&&"custom"===e.value.price&&n&&r&&("all"===Z[2]||"stripe_native"===Z[2])&&(D=pe(D,"all"));const Fe=document.querySelector(".form-payment-subscriptionprices");if(Fe){const be="function"==typeof window.PaymentUtils?new window.PaymentUtils:void 0,we=document.querySelectorAll(".form-payment-amount");we.length>0&&we.forEach((e=>e.remove()));const _e=document.querySelector(".form-payment-total");_e&&_e.remove();const Ee=(e,t,o,r)=>{function n(e){const t=be.getCurrencySymbolByCode(),o="pre"===e&&1===t.length,r="next"===e&&t.length>1;return o||r?t:""}return`<div class='form-amount-container'>\n                                    <div class='form-${o}-price-label'>${e}</div>\n                                    <div class="form-payment-price">\n                                        <span data-wrapper-react="true">\n                                            <span class='${o}'>\n                                                ${r?`${n("pre")}${parseFloat(t).formatMoney(S,J,C)}${n("next")}`:t}\n                                            </span>\n                                        </span>\n                                    </div>\n                                </div>`};JotForm.discounts.container=new Element("div",{class:"form-payment-discount"});const Se=new Element("div",{class:"form-payment-amount"});let Je="",Ce=0===I&&0===e.value.trial_unit?D:I;["square","cybersource"].includes(JotForm.payment)&&(Ce=0===e.value.trial_unit?Ce:0),Je+=Ee("TODAY’S TOTAL:",Ce,"first-payment",!0);const Ae=be.getSubscriptionPeriodConfig(e.value.recurrence_interval,String(e.value.recurrence_unit));Je+=Ee(`${Ae?Ae.keys[0]:""}&nbsp;Recurring Total:`,D,"recur-payment",!0);const $e="cardform"===window.FORM_MODE?`.product.product--subscription[data-pid="${e.key.split("_").pop()}"]`:`.form-product-item[pid="${e.key.split("_").pop()}"]`,xe=document.querySelector($e),ke=xe&&xe.querySelector(".custom-recurring-payments");if(ke){Je+=Ee("Number of Payments:","unlimited"===ke.value?"Unlimited":`x${ke.value}`,"custom-recurring")}Se.insert(Je),Fe.insertAdjacentElement("beforebegin",JotForm.discounts.container),Fe.insert(Se),"cardform"===window.FORM_MODE&&(Fe.style.display="block")}}if(($(e.key)||JotForm.couponApplied)&&($("coupon-button")&&!0===$(e.key).checked&&"subscription"===window.paymentType&&Array.from(document.querySelectorAll(".jfCard")).filter((function(e){return"control_stripe"===e.dataset.type})).length>0&&(selected_product_id=$(e.key).value,JotForm.checkCouponAppliedProducts()),$(e.key).checked)){var fe=H?P:parseFloat(e.value.price),he="";H&&U.forEach((function(e){he+=e.name+":"+e.value+" "}));var ge=["paypalSPB","paypalcomplete"].indexOf(JotForm.payment)>-1;a>0?q.push({productID:e.key?e.key.split("_").pop():"",finalProductID:e.key?e.key.replace(/input_\d+_/,""):"",name:d,unit_amount:Number(fe),total_amount:o(a),quantity:H?1:V,description:he.substr(0,124),isSetupfee:M,isSpecialPricing:H,unitProductAmountForSpecialPrice:Number(z)}):ge&&!isNaN(V)&&V>0&&N.push({name:d,unit_amount:Number(fe),quantity:H?1:V,description:he.substr(0,124),isSetupfee:M})}}else $(t+"_item_subtotal")&&!isNaN(a)&&JotForm.categoryConnectedProducts&&Object.keys(JotForm.categoryConnectedProducts).length>0&&JotForm.categoryConnectedProducts[e.key.split("_")[2]]&&JotForm.categoryConnectedProducts[e.key.split("_")[2]].forEach((e=>{const o=t.split("_");o[2]=e,$(o.join("_")+"_item_subtotal")&&$(o.join("_")+"_item_subtotal").update(parseFloat(0).formatMoney(S,J,C))}))})),$("coupon-button"))var M=$($("coupon-button").getAttribute("data-qid")+"_coupon");if(JotForm.discounts.total){if(f>=i){var O="fixed"===r?n:o(n/100*parseFloat(f));f=f>O?o(f-O):0,M.value=a}else O=0,M.value="";var L=document.querySelector(".form-payment-total");L&&(L.parentNode.insertBefore(JotForm.discounts.container,L),$("discount_total").update(parseFloat(O).formatMoney(S,J,C)))}"paypalSPB"!==JotForm.payment&&"Stripe"!==JotForm.payment||(b=Y(b),w=Y(w)),m=o(f+b),p=o(h+w),m=x>0?m+x:m,p=x>0?o(p+x):p,(0===m||isNaN(m))&&(m="0.00",p="0.00"),(0===m||"0.00"===m||isNaN(m))&&window.JFAppsManager&&window.JFAppsManager.checkoutKey&&window.JFAppsManager.cartTotal>0&&(p=m=window.JFAppsManager.cartTotal);var P=v;if(JotForm.discounts.shipping&&v>0&&f>=i){O="fixed"===r?n:o(n/100*parseFloat(v));d=parseFloat(O)>parseFloat(v)?v:O,v=v>O?o(v-O):0,m=o(m-(P-v)),p=o(p-(P-v))}var B=Y(h),R=Y(v);p=Y(p)||0,m=Y(m)||0,F=Y(F),y=Y(y),this.paymentTotal=Number(m);var j=$$('input[name="formID"]')[0].value;JotForm.stripe&&void 0!==JotForm.stripe&&("?stripeLinks=1"===window.location.search||void 0!==JotForm.stripeLink&&"Yes"===JotForm.stripeLink||void 0!==JotForm.tempStripeCEForms&&!JotForm.tempStripeCEForms.includes(j))&&JotForm.stripe.updateElementAmount(),$("creditCardTable")&&(k>0&&0===this.paymentTotal&&t?JotForm.setCreditCardVisibility(!1):$$('input[id*="paymentType_credit"]').length>0&&$$('input[id*="paymentType_credit"]')[0].checked&&JotForm.setCreditCardVisibility(!0)),$("payment_subtotal")&&$("payment_subtotal").update(parseFloat(f).formatMoney(S,J,C)),$("payment_tax")&&$("payment_tax").update(parseFloat(y).formatMoney(S,J,C)),$("payment_shipping")&&$("payment_shipping").update(parseFloat(v).formatMoney(S,J,C)),$("payment_total")&&($("payment_total").update(parseFloat(m).formatMoney(S,J,C)),$("payment_total").up(".form-line")&&$("payment_total").up(".form-line").triggerEvent&&$("payment_total").up(".form-line").triggerEvent("keyup")),$("payment_footer_total")&&$("payment_footer_total").update(parseFloat(m).formatMoney(S,J,C)),document.querySelector("#payment_recurringpayments")&&($("payment_recurringpayments").update(parseFloat(D).formatMoney(S,J,C)),$("payment_recurringpayments").up(".form-line")&&$("payment_recurringpayments").up(".form-line").triggerEvent&&$("payment_recurringpayments").up(".form-line").triggerEvent("keyup"));var H=0;for(var V in JotForm.discounts)H++;var U=H>0,z=Y(Math.abs(o(B+R+y)-m));function Y(e){return"comma"===A?e:parseFloat(parseFloat(e).formatMoney(S||2,J,""))}z=U?z:0,JotForm.pricingInformations={items:q,noCostItems:N,general:{net_amount:m,total_amount:p,item_total:B,tax_total:y,shipping:R,discount:z,currency:E,subtotal:f,taxTotalWithoutDiscount:F,oldShippingTotal:P}},d&&d>0&&(JotForm.pricingInformations.general.shippingDiscountVal=d),"subscription"===window.paymentType&&(c&&(JotForm.pricingInformations.general.firstPaymentDiscount=c),u&&(JotForm.pricingInformations.general.recurPaymentDiscount=u)),JotForm.paypalCompleteJS&&window.paypal&&window.paypal.Messages?JotForm.paypalCompleteJS.payLaterFuncs.changeMessageAmount():JotForm.paypalSPB&&window.paypal&&window.paypal.Messages&&JotForm.paypalSPB.renderMessages()},prices:{},morePreciseToFixed:function(e,t){t=void 0===t?2:t;var o=e>=0?1:-1;return(Math.round(e*Math.pow(10,t)+1e-4*o)/Math.pow(10,t)).toFixed(t)},setCreditCardVisibility:function(e){document.querySelector("#creditCardTable").style.display=e?"":"none"},findAncestor:function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e},totalCounter:function(e){Number.prototype.formatMoney||(Number.prototype.formatMoney=function(e,t,o){var r=void 0!==this.toString().split(".")[1]&&this.toString().split(".")[1].length>e&&"5"===this.toString().charAt(this.toString().length-1)?this.toString()+"1":this.toString(),n=parseFloat(r),i=(e=isNaN(e=Math.abs(e))?2:e,t=void 0===t?".":t,o=void 0===o?",":o,n<0?"-":""),a=parseInt(n=Math.abs(+n||0).toFixed(e))+"",l=(l=a.length)>3?l%3:0;return i+(l?a.substr(0,l)+o:"")+a.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+o)+(e?t+Math.abs(n-a).toFixed(e).slice(2):"")}),JotForm.prices=e,window.addEventListener("load",(function(){$("draftID")||JotForm.countTotal(e)})),window.self!==window.top&&document.observe("dom:loaded",(function(){$("draftID")||JotForm.countTotal(e)})),$H(e).each((function(t){if($(t.key)&&($(t.key).stopObserving("click"),$(t.key).observe("click",(function(){JotForm.countTotal(e)}))),t.key&&"customer-selected"===t.value.recurringtimes){const m=t.key.split("_")[2];m&&($(`recurring-times_${m}`).stopObserving("change"),$(`recurring-times_${m}`).observe("change",(function(){JotForm.countTotal(e)})))}if("custom"==t.value.price&&($(t.key+"_custom_price").stopObserving("keyup"),$(t.key+"_custom_price").observe("keyup",(function(){JotForm.countTotal(e)}))),$(t.key+"_custom_first_payment_price")&&($(t.key+"_custom_first_payment_price").stopObserving("keyup"),$(t.key+"_custom_first_payment_price").observe("keyup",(function(){JotForm.countTotal(e)}))),t.value.tax){var o=t.value.tax.surcharge,r=document.querySelector('select[id*="input_'+o.field+'"]');r&&(r.stopObserving("change"),r.observe("change",(function(){setTimeout(JotForm.countTotal(),500)})));var n=document.querySelector('input[id="input_'+o.field+'"]');n&&(n.stopObserving("keyup"),n.observe("keyup",(function(){setTimeout(JotForm.countTotal(),500)})))}var i=function(e){var t=$(e).id.match(/input_([0-9]*)_quantity_/)||$(e).id.match(/input_([0-9]*)_custom_/);setTimeout((function(){t&&$("id_"+t[1])&&"function"==typeof $("id_"+t[1]).triggerEvent&&$("id_"+t[1]).triggerEvent("click");var o=e.up(".form-product-item");o&&o.down("input")&&o.down("input").validateInput&&o.down("input").validateInput()}),100)};if($(t.value.quantityField)){function a(){if(JotForm.isVisible($(t.value.quantityField))){if("SELECT"!==$(t.value.quantityField).tagName||$(t.value.quantityField).getSelected().index>0||"0"===$(t.value.quantityField).getValue()){var o=!!$(t.key)&&$(t.key).up(".form-product-item"),r=!!o&&o.down(".form-product-has-subproducts"),n=o.select(".form-subproduct-quantity");if("0"===$(t.value.quantityField).getValue()){var i=$(t.key+"_item_subtotal");i&&i.update("0.00")}if(r){"true"===r.getAttribute("data-is-default-required")?r.checked=!0:r.checked=!1;var a=!0;if($A(n).each((function(e){$(e).getValue()<=0||(r.checked=!0,a=!1)})),a)try{var l=t.key.split("_");l.splice(-1,1),l=l.join("_");var s=$(l+"_item_subtotal");s&&s.update("0.00")}catch(e){console.log(e)}}else if($(t.key)){$(t.key).checked=!($(t.value.quantityField).getValue()<=0);var c=t.key.split("_");c.splice(-1,2),c=c.join("_"),JotForm.runConditionForId(c)}}JotForm.countTotal(e)}}function l(){var e=[];Array.from(document.getElementsByClassName("form-product-custom_quantity")).forEach((function(t){e.push([t.value,t.id])})),$(t.value.quantityField).observe("change",(function(o){var r,n;setTimeout(a,50),r=e,n=$(t.value.quantityField),r.forEach((function(e){var o=document.getElementsByClassName("form-checkbox form-product-has-subproducts form-product-input")[$(t.key).id.slice(0,-2)];e[1].match(n.id)&&(n.value=n.getValue()<="0"||!Number(n.getValue())?"0"!==e[0]||o.value.includes("_expanded")?e[0]:"1":n.value)})),i(this);const l=JotForm.findAncestor(o.target,"form-product-item"),s=l&&l.querySelector(".form-product-input.form-product-has-subproducts");if(s&&"radio"===s.type){const e=l.getAttribute("pid"),t=document.querySelectorAll(".form-product-item");let o=Array.from(t).filter((t=>t.getAttribute("pid")!==e&&t.querySelector(".form-product-input.form-product-has-subproducts")));if(JotForm.categoryConnectedProducts&&JotForm.categoryConnectedProducts[e]){const t=JotForm.categoryConnectedProducts[e];o=o.filter((e=>!t.includes(e.getAttribute("pid"))))}o.forEach((e=>{e.querySelectorAll(".form-subproduct-quantity").forEach((e=>e.value=0))}))}})),$(t.value.quantityField).observe("keyup",(function(){setTimeout(a,50),i(this)}))}var s=document.querySelector('input[name="simple_fpc"]'),c=s&&s.value,u=$("id_"+c);!JotForm.isPaymentSelected()&&u&&u.hasClassName("jf-required")?setTimeout((function(){l()}),1800):l()}if($(t.value.specialPriceField)){function d(){if(JotForm.isVisible($(t.value.specialPriceField))){if(("SELECT"!==$(t.value.specialPriceField).tagName||$(t.value.specialPriceField).getSelected().index>0)&&$(t.key)){$(t.key).checked=!0;var o=t.key.split("_");o.splice(-1,2),o=o.join("_"),JotForm.runConditionForId(o)}JotForm.countTotal(e)}}$(t.value.specialPriceField).observe("change",(function(){setTimeout(d,50)})),$(t.value.specialPriceField).observe("keyup",(function(){setTimeout(d,50)}))}}))},getPaymentTotalAmount:function(){return(JotForm.pricingInformations?parseFloat(JotForm.pricingInformations.general.net_amount):parseFloat(JotForm.paymentTotal))||0},paymentCategoryHandler:function(e,t,o,r){if(document.querySelectorAll(".form-product-category-item").forEach((function(e){e&&e.addEventListener("click",(function(){var e=this.getAttribute("category"),t=document.querySelectorAll('.form-product-item[active-category="'+e+'"]'),o=0;if(t.forEach((function(e){var t=e.querySelector(".form-product-input");t&&t.checked&&(o+=1),e.classList.contains("not-category-found")?e.classList.remove("not-category-found"):e.classList.add("not-category-found")})),this.classList.contains("title_collapsed"))this.classList.remove("title_collapsed");else{this.classList.add("title_collapsed");var r=this.querySelector(".selected-items-icon");r&&(r.innerText="x"+o,o>0?this.classList.add("has_selected_product"):this.classList.remove("has_selected_product"))}}))})),o&&Object.keys(o).length>0&&t){JotForm.categoryMainProducts=o,JotForm.categoryConnectedProducts=r;var n=[],i=[];function a(e){const t=document.getElementById(e).closest(".form-product-item");t.querySelector(".form-product-input").checked?(t.classList.remove("sub_product"),t.classList.add("show_sub_product")):(t.classList.add("sub_product"),t.classList.remove("show_sub_product"))}function l(e){const t=document.querySelectorAll(".form-product-category-item"),o=e.getAttribute("categories"),r=[];t.forEach((e=>{o.includes(e.getAttribute("category"))&&r.push(e)})),r.forEach((e=>{if(e.classList.contains("title_collapsed")){const t=document.querySelectorAll('.form-product-item[active-category="'+e.getAttribute("category")+'"]');let o=0;Array.from(t).forEach((e=>{const t=e.querySelector(".form-product-input");t&&t.checked&&(o+=1)})),e.querySelector(".selected-items-icon")&&(e.querySelector(".selected-items-icon").innerText=`x${o}`,o>0?e.classList.add("has_selected_product"):e.classList.remove("has_selected_product"))}}))}function s(e,t,n,i,s){var c=r[i];$A(c).each((function(e){var o=$(n).id.replace(i,e);if(!$(o))return!1;"INPUT"===n.nodeName&&["checkbox","radio"].indexOf($(n).readAttribute("type"))>-1?$(o).checked=$(n).checked:$(o).setValue($(n).getValue()),s&&(JotForm.newDefaultTheme||JotForm.newPaymentUI)?a(o):s&&$(o).triggerEvent("click"),($(n).id.indexOf("_quantity_")>-1||$(n).id.indexOf("_custom_")>-1)&&(JotForm.newDefaultTheme||JotForm.newPaymentUI)&&setTimeout((function(){var o=$$('.form-product-item[pid="'+e+'"] .form-product-input')[0];t.checked!==o.checked&&$(o).click()}),100)})),l(e),"INPUT"===n.nodeName&&"radio"===$(n).readAttribute("type")&&Object.keys(o).forEach((function(e){c.includes(e)||($$('.form-product-item[pid="'+e+'"] .form-product-input')[0].checked=!1)}))}function c(e,t,n,i,s,c){var u=r[s];if($A(u).each((function(e){var t=$(n).id.replace(s,e),o=i===e;if(!$(t))return!1;"INPUT"===n.nodeName&&["checkbox","radio"].indexOf($(n).readAttribute("type"))>-1?$(t).checked=$(n).checked:$(t).setValue($(n).getValue()),c&&(JotForm.newDefaultTheme||JotForm.newPaymentUI)&&a(t),o&&$(t).hasClassName("form-product-input")&&$(t).triggerEvent("click"),setTimeout((function(){o&&!$(t).hasClassName("form-product-input")&&$(t).triggerEvent("change")}),100)})),l(e),"INPUT"===n.nodeName&&"radio"===$(n).readAttribute("type")){var d=o[$(n).getValue()];Object.keys(o).forEach((function(e){o[e]!==d&&($$('.form-product-item[pid="'+e+'"] .form-product-input')[0].checked=!1)}))}}Object.entries(o).forEach((function([e,t]){i.push(e),n.includes(t)||n.push(t);var o=document.querySelector('.form-product-item[pid="'+e+'"]');o&&o.querySelectorAll("input, select").forEach((function(e){var t=e.cloneNode(!0);t.setAttribute("name",""),e.parentNode.replaceChild(t,e)}))})),$A(n).each((function(e){var t=$$('.form-product-item[pid="'+e+'"]')[0],o=$$('.form-product-item[pid="'+e+'"] .form-product-input')[0];if($(t)){var r=!!$(t).down(".form-product-has-subproducts"),n=$(t).select("input,select");$A(n).each((function(n){JotForm.newDefaultTheme||JotForm.newPaymentUI?$(n).observe("change",(function(){s(t,o,n,e,r)})):$(n).addEventListener("change",(function(){s(t,o,n,e,r)}))}))}})),$A(i).each((function(e){var t=$$('.form-product-item[pid="'+e+'"]')[0];$$('.form-product-item[pid="'+e+'"] .form-product-input')[0];if($(t)){var r=!!$(t).down(".form-product-has-subproducts"),n=o[e],i=$(t).select("input,select");$A(i).each((function(o){JotForm.newDefaultTheme||JotForm.newPaymentUI?$(o).observe("change",(function(){c(t,0,o,n,e,r)})):$(o).addEventListener("change",(function(){c(t,0,o,n,e,r)}))}))}}))}JotForm.showCategoryTitle=t},discounts:{},pricesAfterCoupon:{},handleCategoryCouponPrices:function(e,t){try{for(item in JotForm.pricesAfterCoupon){var o=item.split("_")[0],r=item.split("_")[1],n=JotForm.categoryConnectedProducts[o];if(n&&n.length>0){var i=JotForm.newDefaultTheme||JotForm.newPaymentUI?"div":"label",a=$$('input[name="simple_fpc"]')[0].value;n.forEach((function(n){var l=document.querySelector("#input_"+a+"_"+n+"_subproducts .form-product-child-price #input_"+a+"_"+n+"_"+r+"_price"),s=r&&l,c=s?n+"_"+r:n,u=s?o+"_"+r:o;if("reset"===e)$("input_"+a+"_"+c+"_price").innerText=JotForm.pricesAfterCoupon[u].oldPrice;else if("apply"===e){var d=s?l.up(".form-product-child-price"):$$(i+'[for*="'+n+'"] span.form-product-details b')[0];d&&t(d,c),$("input_"+a+"_"+c+"_price").innerText=JotForm.pricesAfterCoupon[u].newPrice}}))}}"reset"===e&&(JotForm.pricesAfterCoupon={})}catch(e){console.log("error on showing discounted prices on connectedproducts",e)}},handleCoupon:function(){var e=this;if(JotForm.showCategoryTitle&&JotForm.categoryConnectedProducts&&Object.keys(JotForm.categoryConnectedProducts).length>0&&JotForm.handleCategoryCouponPrices("reset"),JotForm.countTotal(JotForm.prices),$("coupon-button")){var t=$("coupon-button"),o=$("coupon-loader"),r=$("coupon-input"),n=e.paymentTexts.couponApply;"undefined"!=typeof FormTranslation&&(n=FormTranslation.translate(n)),t.innerHTML=n||"Apply";var i=$$('input[name="formID"]')[0].value;r.observe("keypress",(function(e){13===e.keyCode&&(e.preventDefault(),t.click(),r.blur())})),r.enable(),$$('input[name="coupon"]')[0].value="",t.observe("click",function(){var n="",a=$("coupon-message");if(r.value){t.hide(),o.show(),r.value=r.value.replace(/\s/g,""),t.disable();var l=(r.hasAttribute("stripe")||r.hasAttribute("data-stripe"))&&"subscription"===window.paymentType,s=(r.hasAttribute("stripe")||r.hasAttribute("data-stripe"))&&["subscription","product"].indexOf(window.paymentType)>-1&&"control_stripeCheckout"===$(r).up(".form-line").getAttribute("data-type");JotForm._xdr(JotForm.getAPIEndpoint()+"/payment/checkcoupon","POST",JotForm.serialize({coupon:r.value,formID:i,stripe:l,stripecheckout:s,editMode:JotForm.isEditMode(),paymentID:$$('input[name="simple_fpc"]')[0].value}),(function(i){try{JSON.parse(i.content),o.hide(),t.show(),n=e.paymentTexts.couponValid||"Coupon is valid.","undefined"!=typeof FormTranslation&&(n=FormTranslation.translate(n)),a.innerHTML=n,a.removeClassName("invalid"),a.addClassName("valid"),JotForm.applyCoupon(i.content)}catch(l){n="expired"===i.content?e.paymentTexts.couponExpired||"Coupon is expired. Please try another one.":"ratelimiter"===i.content?e.paymentTexts.couponRatelimiter||"You have reached the rate limit. Please try again after one minute.":e.paymentTexts.couponInvalid||"Coupon is invalid. Please try another one.","undefined"!=typeof FormTranslation&&(n=FormTranslation.translate(n)),a.innerHTML=n,a.removeClassName("valid"),a.addClassName("invalid"),r.select(),o.hide(),t.show(),t.enable()}}),(function(){a.innerHTML=e.paymentTexts.couponInvalid||"Coupon is invalid",a.removeClassName("valid"),a.addClassName("invalid"),r.select(),o.hide(),t.show(),t.enable()}))}else n=e.paymentTexts.couponBlank||"Please enter a coupon.","undefined"!=typeof FormTranslation&&(n=FormTranslation.translate(n)),$("coupon-message").innerHTML=n,a.removeClassName("valid"),a.addClassName("invalid")}.bind(this))}},checkCouponAppliedProducts:function(){var e=$("coupon-button"),t=$("coupon-message");if(window.discounted_products){var o=Array.from(window.discounted_products);cleared_discounted_products=[],o.forEach((function(o,r){if("string"==typeof o||"number"==typeof o){if(cleared_discounted_products[r]=o.toString(),!0===cleared_discounted_products.includes(selected_product_id)||"all"===cleared_discounted_products[0])e.innerHTML="Change",t.innerHTML="Coupon is valid.";else{e.enable();var n=document.querySelectorAll("div#coupon-container > div#coupon-table > div.jfField.isFilled").length;n&&0!==n&&(t.innerHTML="<span style='color:red; '>Coupon code is not valid for this product.</span>")}$("coupon-button").addEventListener("click",(function(){t.innerHTML=""}))}}))}},applyCoupon:function(e){var t=this;e=JSON.parse(e),window.discounted_products=[],e.products&&e.products[0]&&e.products.forEach((function(e,t){window.discounted_products[t]=e})),JotForm.discounts={};var o=$("coupon-button"),r=$("coupon-message"),n=$("coupon-input"),i=$(o.getAttribute("data-qid")+"_coupon");o.stopObserving("click"),i&&(i.value=e.code),o.enable(),n.disable();var a=t.paymentTexts.couponChange;"undefined"!=typeof FormTranslation&&(a=FormTranslation.translate(a)),o.innerHTML=a||"Change",o.observe("click",(function(){JotForm.isEditMode()||(i.value="",$H(l).each((function(e){e[1].remove()})),JotForm.discounts.container&&JotForm.discounts.container.remove(),$$('span[id*="_price"]').each((function(e){$(e).removeClassName("underlined")})),$$('span[id*="_setupfee"]').each((function(e){$(e).removeClassName("underlined")})),JotForm.discounts={},o.stopObserving("click"),r.innerHTML="",r.removeClassName("valid"),a=t.paymentTexts.couponApply,"undefined"!=typeof FormTranslation&&(a=FormTranslation.translate(a)),o.innerHTML=a||"Apply",n.enable(),n.select(),JotForm.handleCoupon())}));var l={},s=function(e,t){l[t]=document.createElement("span");var o=document.createElement("span");o.className="old_price",o.style.display="inline-block","cardform"===window.FORM_MODE&&(o.style.textDecoration="line-through"),o.innerHTML=e.innerHTML.replace("price","price_old");var r=document.createElement("span");Object.assign(r.style,{width:"0",height:"0",opacity:"0",position:"absolute"}),r.innerHTML="Discount Price",l[t].insert(o),l[t].insert(r),e.insert({top:l[t]})};if(e.products&&e.products.length>0&&e.products.include("all"))for(var c in e.products=[],productID)e.products.push(productID[c].slice(-4));if(!e.paymentType||e.paymentType&&"product"===e.paymentType)if("product"===e.apply){var u=JotForm.newDefaultTheme||JotForm.newPaymentUI?"div":"label";$A(e.products).each((function(t){JotForm.discounts[t]=e.rate+"-"+e.type,$$('span[id*="_price"]').each((function(e){e.id.indexOf(t)>-1&&$(e).addClassName("underlined")}));var o=$$(u+'[for*="'+t+'"] span.form-product-details b')[0];o&&(s(o,t),JotForm.couponApplied=!0),$$("[id*="+t+"_subproducts]").length>0&&$$("[id*="+t+"_subproducts]")[0].down(".form-product-child-price")&&$$("#"+$$("[id*="+t+"_subproducts]")[0].id+" .form-product-child-price").each((function(e,o){s(e,t+"_"+o)}))})),JotForm.couponApplied&&JotForm.showCategoryTitle&&JotForm.categoryConnectedProducts&&Object.keys(JotForm.categoryConnectedProducts).length>0&&JotForm.handleCategoryCouponPrices("apply",s)}else if("total"===e.apply){JotForm.discounts={total:!0,code:e.code,minimum:e.minimum,type:e.type,rate:e.rate};var d=document.querySelector(".form-payment-total");if(d){var m=d.innerHTML.replace(/Total|Total:/,"Discount:").replace("payment_total","discount_total").replace("<span>","<span> - "),p=document.createElement("span");p.className="form-payment-discount",p.innerHTML=m.replace('id="total-text"',""),JotForm.discounts.container=p}}else JotForm.discounts={shipping:!0,code:e.code,minimum:e.minimum,type:e.type,rate:e.rate};else e.paymentType&&"subscription"===e.paymentType&&(JotForm.couponApplied=!0),$A(e.products).each((function(t){JotForm.discounts[t]=e.rate+"-"+e.type,e.apply&&(JotForm.discounts[t]+="-"+e.apply),e.duration&&1===e.duration&&(JotForm.discounts[t]+="-once"),$$('span[id*="_price"]').each((function(o){if(o.id.indexOf(t)>-1&&$$('span[id*="'+t+'_setupfee"]').length>0&&"all"===e.apply)throw $(o).addClassName("underlined"),$break})),$$('span[id*="_setupfee"]').each((function(e){if(e.id.indexOf(t)>-1)throw $(e).addClassName("underlined"),$break}))}));JotForm.countTotal(JotForm.prices)},setStripeSettings:function(e,t,o,r,n,i){if(!JotForm.isEditMode()&&!document.get.sid){$$("#stripe-templates .stripe-sca-template")[0];var a=$$("#stripe-templates .stripe-old-template")[0];if(e){if(""==e.replace(/\s+/g,""))return void console.log("Stripe publishable key is empty. You need to connect your form using Stripe connect.");this.loadScript("https://js.stripe.com/v3/",(function(){window._StripeSCAValidation;{const l=new window._StripeSCAValidation;JotForm.stripe=l,a&&a.remove(),l.setFields(t,o,r,n,i);const s=new URLSearchParams(window.location.search),c=document.getElementById("useStripeFormPayment");c&&("1"===s.get("useStripeFormPayment")?c.value=1:c.remove()),l.init(e),console.log("Stripe V3 loaded")}setTimeout(JotForm.handleIFrameHeight,300)}))}else{const e=document.querySelector("li[data-type='control_stripe']");if(!e)return;("cardform"===window.FORM_MODE?e.childElements()[0].querySelector(".jfRequiredStar"):e.classList.contains("jf-required"))&&JotForm.errored(e,"A connection error has occurred. Please contact form administrator for assistance.")}}},setFilePickerIOUpload:function(e){e&&"object"==typeof filepicker&&"function"==typeof _JF_filepickerIO?new _JF_filepickerIO(e).init():console.error("filepicker OR _JF_filepickerIO object library are missing")},initCaptcha:function(e){setTimeout((function(){const t=navigator.userAgent.toLowerCase(),o=-1!=t.indexOf("msie")&&parseInt(t.split("msie")[1],10);o&&o<9&&(-1==t.indexOf("windows nt 5.1")&&-1==t.indexOf("windows xp")&&-1==t.indexOf("windows nt 5.2")||(JotForm.server="https://www.jotform.com/server.php")),new Ajax.Jsonp(JotForm.url+"captcha",{evalJSON:"force",onComplete:function(t){(t=t.responseJSON||t).success&&(document.querySelector(`#${e}_captcha`).src=t.img,document.querySelector(`#${e}_captcha_id`).value=t.num)}})}),150)},reloadCaptcha:function(e){document.querySelector(`#${e}_captcha`).src=JotForm.url+"images/blank.gif",JotForm.initCaptcha(e)},addZeros:function(e,t){var o="";if(t>(e=e.toString()).length)for(i=0;i<t-e.length;i++)o+="0";return o+e.toString()},formatDate:function(e){var t=e.date,o=JotForm.addZeros(t.getMonth()+1,2),r=JotForm.addZeros(t.getDate(),2),n=t.getYear()<1e3?t.getYear()+1900:t.getYear(),i=e.dateField.id.replace(/\w+\_/gim,"");if(document.querySelector("#month_"+i).value=o,document.querySelector("#day_"+i).value=r,document.querySelector("#year_"+i).value=n,document.querySelector("#lite_mode_"+i)){var a=document.querySelector("#lite_mode_"+i),l=a.getAttribute("seperator")||a.getAttribute("data-seperator"),s=a.getAttribute("format")||a.getAttribute("data-format"),c=o+l+r+l+n;"ddmmyyyy"==s?c=r+l+o+l+n:"yyyymmdd"==s&&(c=n+l+o+l+r),a.value=c}if(document.querySelector("#input_"+i)){c=n+"-"+o+"-"+r;document.querySelector("#input_"+i).value=c}var u=document.createEvent("HTMLEvents");u.initEvent("dataavailable",!0,!0),u.eventName="date:changed",document.querySelector("#id_"+i).dispatchEvent(u)},highLightLines:function(){document.querySelectorAll(".form-line").forEach((e=>{e.querySelectorAll('input, select, textarea, div, table div, button, div div span[tabIndex]:not([tabIndex="-1"]), a, iframe').forEach((t=>{t.addEventListener("focus",(()=>{const t=e.parentElement,o=JotForm.isCollapsed(e),r=t&&(t.classList.contains("form-section")||t.classList.contains("form-section-closed"));if(r&&o&&!t.classList.contains("form-section-opening")||!r&&o){JotForm.getCollapseBar(e).dispatchEvent(new Event("click"))}JotForm.highlightInputs&&(e.classList.add("form-line-active"),e.__classAdded&&(e.__classAdded=!1))})),t.addEventListener("blur",(()=>{window.isHighlightDirty||(window.isHighlightDirty=!0),JotForm.highlightInputs&&e.classList.remove("form-line-active")}))}))}))},handleWidgetMessage:function(){window.addEventListener("message",(function(e){try{var t=function(e){if("string"==typeof e){var t=JSON.parse(e);return"string"==typeof t.data?JSON.parse(t.data):t.data}return"object"==typeof e&&"string"==typeof e.data&&"{"==e.data[0]?JSON.parse(e.data):"object"==typeof e&&"object"==typeof e.data?e.data:e}(e);if(t&&t.type)switch(t.type){case"collapse":JotForm.widgetSectionCollapse(t.qid);break;case"fields:fill":JotForm.runAllCalculations()}}catch(e){console.error("ErrorOnHandleWigetMessage",e)}}),!1)},widgetSectionCollapse:function(e){if(e){var t=document.getElementById("cid_"+e);JotForm.isCollapsed(t)&&JotForm.getCollapseBar(t).run("click")}},getForm:function(e){return"string"==typeof e&&(e=document.getElementById(e)),!(!e||!e.parentNode)&&((!e||"BODY"!=e.tagName)&&("FORM"==e.tagName?e:JotForm.getForm(e.parentNode)))},getContainer:function(e){return"string"==typeof e&&(e=document.getElementById(e)),!(!e||!e.parentNode)&&((!e||"BODY"!=e.tagName)&&(e.classList.contains("form-line")?e:JotForm.getContainer(e.parentNode)))},getSection:function(e){return"string"==typeof e&&(e=document.getElementById(e)),!(!e||!e.parentNode)&&((!e||"BODY"!=e.tagName)&&(!e.classList.contains("form-section-closed")&&!e.classList.contains("form-section")||e.id.match(/^section_/)?JotForm.getSection(e.parentNode):e))},getCollapseBar:function(e){return"string"==typeof e&&(e=document.getElementById(e)),!(!e||!e.parentNode)&&((!e||"BODY"!=e.tagName)&&(e.classList.contains("form-section-closed")||e.classList.contains("form-section")?e.querySelector(".form-collapse-table"):JotForm.getCollapseBar(e.parentNode)))},isCollapsed:function(e){return"string"==typeof e&&(e=document.getElementById(e)),!(!e||!e.parentNode)&&((!e||"BODY"!=e.tagName)&&("form-section-closed"==e.className||JotForm.isCollapsed(e.parentNode)))},isVisible:function(e){return"string"==typeof e&&(e=document.getElementById(e)),!(!e||!e.parentNode)&&(!e.classList.contains("always-hidden")&&(!(!e||"BODY"!=e.tagName)||(!!(e.classList.contains("form-textarea")&&e.parentNode.querySelector(".nicEdit-main")&&e.closest(".form-line")&&JotForm.isVisible(e.closest(".form-line")))||"none"!=e.style.display&&"hidden"!=e.style.visibility&&!e.classList.contains("js-non-displayed-page")&&JotForm.isVisible(e.parentNode))))},sectionHasVisibleiFrameWidgets:function(e){var t=e.select(".custom-field-frame"),o=!1;return t.each((function(e){if(JotForm.isVisible(e))throw o=!0,$break})),o},enableDisableButtonsInMultiForms:function(){document.querySelectorAll(".form-submit-button").forEach((function(e){e.closest("ul.form-section")&&("none"==e.closest("ul.form-section").style.display||e.closest("ul.form-section").classList.contains("js-non-displayed-page")?e.disabled=!0:-1!=e.className.indexOf("disabled")||e.classList.contains("conditionallyDisabled")||(e.disabled=!1))}))},enableButtons:function(){setTimeout((function(){document.querySelectorAll(".form-submit-button").forEach((function(e){e.classList.contains("conditionallyDisabled")||(e.disabled=!1),-1!==e.innerHTML.indexOf("<img")||"submit"!==e.type&&!e.classList.contains("jsMobileSubmit")||(e.innerHTML=e.oldText2||e.oldText||"Submit")}))}),60)},disableButtonStacks:[],disableButtons:function(){JotForm.disableButtonStacks.push(`${(new Date).toLocaleTimeString()}: ${Error().stack}`),setTimeout((function(){document.querySelectorAll(".form-submit-button:not(.js-new-sacl-button)").forEach((function(e){-1!==e.innerHTML.indexOf("<img")||"submit"!==e.type&&!e.classList.contains("jsMobileSubmit")||(e.oldText2||(e.oldText2=e.innerHTML),e.oldText=e.innerHTML,e.innerHTML=JotForm.texts.pleaseWait,e.ariaLabel=e.innerText,e.ariaLive="polite"),e.classList.add("lastDisabled"),e.disabled=!0,setTimeout((()=>{if("cardform"!==window.FORM_MODE&&e&&e.innerHTML===JotForm.texts.pleaseWait){const e=document.querySelector('input[name="jsExecutionTracker"]'),t=document.querySelector('input[name="event_id"]');JotForm.errorCatcherLog({message:{stacks:JotForm.disableButtonStacks,jsExecutionTracker:e?e.value:"-",eventID:t?t.value:"-"}},"STUCK_ON_PLEASE_WAIT")}else JotForm.disableButtonStacks=[]}),5e3)}))}),60)},setSubmitButtonActions:function(){document.querySelectorAll(".form-submit-button:not(.forReviewButton):not(.js-new-sacl-button), .forSubmit:not(.forReviewButton):not(.js-new-sacl-button)").forEach((function(e){e.oldText=e.innerHTML,e.ariaLive="polite",e.disabled=!1,""===getQuerystring("qp")&&e.addEventListener("click",(function(){setTimeout((function(){if(!document.querySelector(".form-error-message")&&!document.querySelector(".form-textarea-limit-indicator-error")){document.querySelectorAll(".form-submit-button:not(.js-new-sacl-button):not(#backToForm):not(#printForm)").forEach((function(e){(-1===e.innerHTML.indexOf("<img")&&"submit"===e.type||e.classList.contains("jsMobileSubmit"))&&(e.oldText2=e.innerHTML,e.innerHTML=JotForm.texts.pleaseWait),e.classList.add("lastDisabled"),e.disabled=!0}))}}),16.666)}))}))},setResetButtonActions:function(){document.querySelectorAll(".form-submit-reset").forEach((function(e){e.onclick=function(){if(!confirm(JotForm.texts.confirmClearForm))return!1;if(JotForm.payment){if(document.querySelectorAll('span[id*="_item_subtotal"]').length>0){var e="0";JotForm.currencyFormat.decimal&&(e="0"+JotForm.currencyFormat.dSeparator+"00"),document.querySelectorAll('span[id*="_item_subtotal"]').forEach((function(t){t.innerHTML=e}))}document.querySelectorAll(".form-product-input").forEach((function(e){"cardform"!==window.FORM_MODE&&!0===e.checked&&e.click()})),JotForm.countTotal()}if(JotForm.browserIs.chrome()&&document.querySelector("#coupon-button"))return setTimeout((function(){document.querySelector("#payment_total")&&JotForm.totalCounter(JotForm.prices)}),40),!0;document.querySelectorAll(".form-line-error").forEach((function(e){e.classList.remove("form-line-error")})),document.querySelectorAll(".form-error-message, .form-button-error").forEach((function(e){e.remove()})),document.querySelectorAll(".form-textarea-limit-indicator > span").forEach((function(e){var t=e.innerHTML;e.innerHTML=t.replace(t.substring(0,t.indexOf("/")),"0")})),document.querySelectorAll("span[id^=grade_point_]").forEach((function(e){e.innerHTML=0})),document.querySelectorAll(".form-grading-error").forEach((function(e){e.innerHTML=""})),document.querySelectorAll("form")[0].getAttribute("data-autofill")&&setTimeout((function(){for(var e in JotForm.defaultValues){var t=document.querySelector("#"+e);!t||"radio"!=t.type&&"checkbox"!=t.type||(t.checked=!0)}var o=document.querySelector("form").getAttribute("id")+document.querySelector("form").getAttribute("name"),r=AutoFill.getInstance(o);r&&-1===window.location.href.indexOf("jotform.pro")&&r.saveAllData()}),40),setTimeout((function(){document.querySelectorAll(".custom-hint-group").forEach((function(e){e.hasContent=!(!e.value||e.value.replace(/\n/gim,"<br>")==e.getAttribute("data-customhint")),e.showCustomPlaceHolder()}))}),30),setTimeout((function(){document.querySelectorAll(".nicEdit-main").forEach((function(e){var t=e.closest(".form-line").querySelector("textarea");t&&(t.classList.contains("custom-hint-group")&&!t.hasContent?e.setStyle({color:"#babbc0"}):e.setStyle({color:""}),e.innerHTML=t.value)}))}),40),setTimeout((function(){document.querySelector("#coupon-button")&&document.querySelector("#coupon-button").triggerEvent&&document.querySelector("#coupon-button").triggerEvent("click"),document.querySelector("#payment_total")&&JotForm.totalCounter(JotForm.prices)}),40),setTimeout((function(){document.querySelectorAll("input.form-widget").forEach((function(e){e.value="";let t=document.createEvent("HTMLEvents");t.initEvent("dataavailable",!0,!0),t.eventName="widget:clear",t.memo={qid:parseInt(e.id.split("_")[1])},e.dispatchEvent(t)}))}),40),setTimeout((function(){document.querySelectorAll(".currentDate").forEach((function(e){var t=e.id.replace(/day_/,"");JotForm.formatDate({date:new Date,dateField:document.querySelector("#id_"+t)})})),document.querySelectorAll(".currentTime").forEach((function(e){if(e.closest(".form-line")){var t=e.closest(".form-line").id.replace("id_","");document.querySelector("#hour_"+t)?JotForm.displayLocalTime("hour_"+t,"min_"+t,"ampm_"+t):JotForm.displayLocalTime("input_"+t+"_hourSelect","input_"+t+"_minuteSelect","input_"+t+"_ampm","input_"+t+"_timeInput",!1)}}))}),40),setTimeout((function(){JotForm.runAllConditions()}),50)}}))},setPrintButtonActions:function(){document.querySelectorAll(".form-submit-print").forEach((function(e){e.addEventListener("click",(function(){e.parentNode.style.display="none";const t=[],o=[];document.querySelectorAll(".form-textarea, .form-textbox").forEach((function(e){e.classList.contains("form-textarea")&&"nicEditors"in window&&document.querySelectorAll("#cid_"+e.id.split("_")[1]+" > div:nth-child(1)").forEach((function(r){if("on"==r.getAttribute("unselectable")){const[r,n]=Array.from(document.querySelectorAll("#cid_"+e.id.split("_")[1]+" > div"));r.style.display="none",n.style.borderTopColor="rgb(204, 204, 204)",n.style.borderTopStyle="solid",n.style.borderWidth="1px",t.push(r),o.push(e)}}))})),window.print();for(let e=0;e<t.length;e++)t[e].style.display="";for(let e=0;e<o.length;e++)o[e].style.display="none";e.parentNode.style.display=""}))}))},setButtonActions:function(){this.setSubmitButtonActions(),this.setResetButtonActions(),this.setPrintButtonActions()},isValidSuggestedDonation:function(){if(["product","subscription"].includes(window.paymentType))return!0;const e=JotForm.donationField&&parseFloat(JotForm.donationField.readAttribute("data-min-amount"));if(e&&!isNaN(e)){const t=JotForm.donationField.getValue();return!(isNaN(t)||t<e)}return!0},hasMinTotalOrderAmount:function(){var e=document.getElementsByName("minTotalOrderAmount"),t=void 0!==e&&e.length>0,o=!0===t&&"product"===window.paymentType?e[0].value:"0";return JotForm.minTotalOrderAmount=o,t},isValidMinTotalOrderAmount:function(){return!(JotForm.hasMinTotalOrderAmount()&&parseInt(JotForm.minTotalOrderAmount)>0)||(JotForm.pricingInformations&&JotForm.pricingInformations.general&&JotForm.pricingInformations.general.discount>0?JotForm.getPaymentTotalAmount()+JotForm.pricingInformations.general.discount>=parseInt(JotForm.minTotalOrderAmount):JotForm.getPaymentTotalAmount()>=parseInt(JotForm.minTotalOrderAmount))},handleMinTotalOrderAmount:function(){if(!0===JotForm.isPaymentSelected()&&!this.isValidMinTotalOrderAmount()){JotForm.corrected(document.querySelectorAll("[data-payment]")[0]);var e=JotForm.texts.ccDonationMinLimitError.replace("{minAmount}",JotForm.minTotalOrderAmount).replace("{currency}",JotForm.currencyFormat.curr);return JotForm.errored(document.querySelectorAll("[data-payment]")[0],e),!0}return!1},hasHiddenValidationConflicts:function(e){const t=e.closest("li.form-line");return t&&(t.classList.contains("form-field-hidden")||t.closest("ul.form-section").classList.contains("form-field-hidden"))},initGradingInputs:function(){const e=this;document.querySelectorAll(".form-grading-input").forEach((t=>{t.validateGradingInputs=function(){const t=this,o=t.id.replace(/input_(\d+)_\d+/,"$1");let r=0,n=t.parentNode.parentNode;const i=/^(\d+[\.]?)+$/;let a=!1;if("cardform"===window.FORM_MODE&&(n=n.parentNode),t.errored=!1,n.querySelectorAll(".form-grading-input").forEach((e=>{if(e.value&&!i.test(e.value))throw a=!0,{};r+=parseFloat(e.value)||0})),e.hasHiddenValidationConflicts(t))return JotForm.corrected(t);if(a)return JotForm.errored(t,JotForm.texts.numeric);const l=document.querySelector(`#grade_total_${o}`);if(l){const e=document.querySelector(`#grade_error_${o}`);e.innerHTML="";const n=parseFloat(l.innerHTML);return document.querySelector(`#grade_point_${o}`).innerHTML=r,r>n?(e.innerHTML=" "+JotForm.texts.lessThan+" <b>"+n+"</b>.",JotForm.errored(t,JotForm.texts.gradingScoreError+" "+n)):JotForm.corrected(t)}return JotForm.corrected(t)},t.addEventListener("blur",(()=>{t.validateGradingInputs()})),t.addEventListener("keyup",(()=>{t.validateGradingInputs()}))}))},initSpinnerInputs:function(){document.querySelectorAll(".form-spinner-input").forEach((function(e){e.addEventListener("blur",(function(){e.validateSpinnerInputs()})),e.addEventListener("change",(function(){e.validateSpinnerInputs()}));const t=e.closest(".form-spinner"),o=t.querySelector(".form-spinner-up"),r=t.querySelector(".form-spinner-down");o.addEventListener("click",(function(){e.validateSpinnerInputs()})),r.addEventListener("click",(function(){e.validateSpinnerInputs()})),e.validateSpinnerInputs=function(){var e=this,t=e.value||0;if(e.errored=!1,!JotForm.isVisible(e))return JotForm.corrected(e);if(t&&!/^(-?\d+[\.]?)+$/.test(t)&&!/^([\.]\d+)+$/.test(t))return JotForm.errored(e,JotForm.texts.numeric);if(e.hasClassName("disallowDecimals")&&t%1!=0)return JotForm.errored(e,JotForm.texts.disallowDecimals);var o=parseInt(e.readAttribute("data-spinnermin")),r=parseInt(e.readAttribute("data-spinnermax"));return(o||0==o)&&t<o?JotForm.errored(e,JotForm.getValidMessage(JotForm.texts.inputCarretErrorA,o)):(r||0==r)&&t>r?JotForm.errored(e,JotForm.getValidMessage(JotForm.texts.inputCarretErrorB,r)):JotForm.corrected(e)}}))},initTestEnvForNewDefaultTheme:function(){if(window&&window.location&&window.location.search&&window.location.search.indexOf("ndtTestEnv=1")>-1){var e=document.querySelector(".form-all")||null;e&&e.classList.add("ndt-test-env")}},initTimev2Inputs:function(){const e=document.querySelectorAll('input[id*="timeInput"][data-version="v2"]');let t=!1,o=!1;navigator.userAgent.match(/Android/i)&&(window.addEventListener("click",(function(){t=!0,setTimeout((function(){t=!1}),500)})),window.addEventListener("touchstart",(function(){o=!0,setTimeout((function(){o=!1}),500)})));const r=function(e){const t=e.target.value.split(":"),o=e.target.parentElement.querySelector('input[id*="hourSelect"]'),r=e.target.parentElement.querySelector('input[id*="minuteSelect"]');o.value=t[0],r.value=t[1],o.dispatchEvent(new Event("change")),r.dispatchEvent(new Event("change")),JotForm.runConditionForId(e.target.up("li.form-line").id.replace("id_",""))},n=function(e){e.target.value&&/^[0-9]{2}:[0-9]{2}$/.test(e.target.value)&&r(e)};for(let i=0;i<e.length;i++)try{new window.Inputmask({alias:"datetime",inputFormat:e[i].dataset.mask?e[i].dataset.mask:"hh:MM",jitMasking:!0,oncomplete:r,onincomplete:function(e){const t=e.target.value.split(":"),o=e.target.parentElement.querySelector('input[id*="hourSelect"]');o.value=t[0];const r=e.target.parentElement.querySelector('input[id*="minuteSelect"]');t[1]?r.value=2===t[1].length?t[1]:t[1]+"0":r.value="",o.dispatchEvent(new Event("change")),r.dispatchEvent(new Event("change"))},oncleared:function(e){const t=e.target.parentElement.querySelector('input[id*="hourSelect"]'),o=e.target.parentElement.querySelector('input[id*="minuteSelect"]');t.value="",o.value="",t.dispatchEvent(new Event("change")),o.dispatchEvent(new Event("change"))}}).mask(e[i]),e[i].addEventListener("mouseenter",(function(e){e.target.placeholder="HH : MM"})),e[i].addEventListener("change",n),e[i].addEventListener("paste",n);const a=new Event("change");if(e[i].dispatchEvent(a),navigator.userAgent.match(/Android/i)){const r=e[i].parentNode;r&&r.className.indexOf("hasAMPM")>0&&e[i].addEventListener("blur",(function(e){if(!t&&!o){const t=e.target.id.replace("timeInput","ampm");document.getElementById(t).focus()}}))}}catch(e){return}},renderTermsAndConditions:function(e){if("termsAndConditions"===e.data.data){var t=document.querySelector(".form-all"),o=document.createElement("div");o.id="terms_conditions_modal",o.style.display="block";var r=document.createElement("div");r.className="terms-conditions-content";var n=document.createElement("section");n.className="terms-header",r.appendChild(n);var i=document.createElement("h1");i.textContent="Terms and Conditions";var a=document.createElement("h3");a.textContent="Please read carefully our latest terms and conditions.";var l=document.createElement("button");l.type="button",l.id="terms_conditions_modal_cancel",l.textContent="X",l.addEventListener("click",u),n.appendChild(i),n.appendChild(a),n.appendChild(l);var s=document.createElement("iframe");s.src=function(e){if(e&&e.length>0){var t=e.search("http://");e=t>=0||e.toLowerCase().indexOf("https")>=0?e:"https://"+e}else e="https://www.jotform.com";return e}(e.data.settings.termsLink),s.allow="fullscreen",s.className="iframeModel",r.appendChild(s);var c=document.createElement("button");c.type="button",c.id="terms_conditions_modal_accept",c.textContent="I Agree",c.addEventListener("click",(function(){var t="#customFieldFrame_"+e.data.settings.qid;document.querySelector(t).contentWindow.postMessage({data:"termsAndConditions",settings:{qid:e.data.settings.qid,status:"accepted"}},"*"),u()})),r.appendChild(c),o.appendChild(r),t.appendChild(o)}function u(){o.style.display="none"}},getMessageFormTermsAndCondition:function(){-1!==window.location.href.indexOf("ndt=1")&&window.addEventListener("message",this.renderTermsAndConditions,!0)},makeReadyWidgets:function(){for(var e=["5345402093a2afcc5f000004"],t=document.querySelectorAll("iframe.custom-field-frame"),o=0;o<t.length;o++)-1!==e.indexOf(t[o].getAttribute("data-client-id"))&&($(t[o]).addClassName("frame-ready").store("frame-ready",!0),XD.postMessage(JSON.stringify({type:"ready"}),t[o].src,t[o]))},makeForceReloadWidgets:function(e,t){-1!==["53201a2d6866be393e000028"].indexOf(e)&&JotForm.reloadWidget(t)},initDateV2Inputs:function(){function e(){const e=document.querySelectorAll('input[id*="lite_mode_"]');for(let t=0;t<e.length;t++){let o=e[t].dataset.format.toLowerCase();const r=e[t].dataset.seperator||"-";o=o.match(/(.)\1+/g).join(e[t].dataset.seperator);try{new Inputmask({alias:"datetime",inputFormat:o,inputEventOnly:!0,placeholder:e[t].placeholder,onKeyDown:function(e,t,o){8===e.keyCode&&0===o.begin&&1!==o.end&&(this.value=this.placeholder)},oncomplete:function(e){const t=o.split(r),n=t.indexOf("mm"),i=t.indexOf("yyyy"),a=t.indexOf("dd"),l=e.target.getAttribute("id").split("_")[2],s=e.target.value.split(r);document.querySelector("#day_"+l).value=s[a],document.querySelector("#year_"+l).value=s[i],document.querySelector("#month_"+l).value=s[n]}}).mask(e[t])}catch(e){return}}}e();const t=document.querySelectorAll('input[id*="month_"]');for(let e=0;e<t.length;e++)try{new Inputmask({alias:"datetime",inputFormat:"mm",jitMasking:!0,onincomplete:function(){1===this.value.length&&(this.value=JotForm.addZeros(this.value,2),this.triggerEvent("keyup"))}}).mask(t[e])}catch(e){return}const o=document.querySelectorAll('input[id*="day_"]');for(let e=0;e<o.length;e++)try{new Inputmask({alias:"datetime",inputFormat:"dd",jitMasking:!0,onincomplete:function(){1===this.value.length&&(this.value=JotForm.addZeros(this.value,2),this.triggerEvent("keyup"))}}).mask(o[e])}catch(e){return}document.querySelectorAll('input[id*="lite_mode_"]').length>0&&("undefined"!=typeof FormTranslation&&JotForm.onTranslationsFetch(e),JotForm.onLanguageChange(e))},dropDownColorChange:function(){const e=document.querySelectorAll("select.form-dropdown");if(e)for(let t=0;t<e.length;t++)e[t]&&e[t].value&&e[t].classList.add("is-active"),e[t].addEventListener("change",(function(e){e.target.value?e.target.classList.add("is-active"):e.target.classList.remove("is-active")}))},initOtherV2Options:function(){const e=function(e){const t=e.e||null,o=e.container||null,r=e.input||null;if(!t||!o||!r)return!1;let n=null;n="object"==typeof t.target.getAttribute("checked-before")?t.target.checked:"1"===t.target.getAttribute("checked-before"),n?o.classList.remove("is-none"):(o.classList.add("is-none"),r.value="");const i=o.parentNode.querySelector("input.form-radio-other")||o.parentNode.querySelector("input.form-checkbox-other");r.addEventListener("keydown",(function(e){const t=e.which||e.keyCode||e.charCode;38!==t&&40!==t||(o.classList.add("is-none"),r.value="",i.focus())})),r.addEventListener("keyup",(function(){i&&(i.value=r.value)}))},t=document.querySelectorAll(".form-checkbox-other-input, .form-radio-other-input");for(let e=0;e<t.length;e++)t[e].parentNode.setAttribute("style",""),""!==t[e].value?t[e].parentNode.setAttribute("class","other-input-container"):t[e].parentNode.setAttribute("class","other-input-container is-none");if("cardform"!==window.FORM_MODE)for(let e=0;e<t.length;e++){const o=t[e],r=o.cloneNode(!0);o.parentNode.replaceChild(r,o),r.placeholder=r.dataset.placeholder}const o=document.querySelectorAll('li.form-line[data-type="control_checkbox"] input[type="checkbox"]');for(let t=0;t<o.length;t++)o[t].addEventListener("change",(function(t){const o=t.target.id+"_input",r=document.getElementById(o),n=t.target.id.replace("other","input"),i=document.getElementById(n);t.target.className.indexOf("form-checkbox-other")<0||e({e:t,container:r,input:i})}));const r=document.querySelectorAll('li.form-line[data-type="control_radio"] input[type="radio"]');for(let t=0;t<r.length;t++)r[t].addEventListener("click",(function(t){const o=t.target.closest("li.form-line"),r=o.id.replace("id","other")+"_input",n=document.getElementById(r),i=o.id.replace("id","input"),a=document.getElementById(i);t.target.className.indexOf("form-radio-other")<0?n&&a&&(n.classList.add("is-none"),a.value=""):e({e:t,container:n,input:a})}))},isTextInputValid:function(e,t={}){if(!e)return!1;if(!(e instanceof HTMLInputElement))return!1;function o(e){if(-1===e||"-1"===e)return null;const t=parseInt(e);return Number.isNaN(t)?(JotForm.debug&&console.error("Unable to convert number. Value provided: "+e+" returned NaN."),null):t}const r=o(t.minLength),n=o(t.maxLength),i=!!Array.isArray(t.ignore)&&t.ignore.indexOf("hidden")>-1,a=!!Array.isArray(t.ignore)&&t.ignore.indexOf("nonRequired")>-1,l=e.className.toLowerCase().includes("required")||Boolean(e.required);return!(!i||JotForm.isVisible(e))||(!(!a||l)||!(null!==r&&e.value.length<r)&&!(null!==n&&e.value.length>n))},getInvalidInputs:e=>Array.from(e).filter((e=>!JotForm.isTextInputValid(e,{minLength:e.dataset.minlength,maxLength:e.maxLength,ignore:["hidden","nonRequired"]})||(e.classList.remove("form-validation-error"),!1))),initTextboxValidation:function(){document.querySelectorAll(".form-textbox[data-minlength]").forEach((function(e){e.validateTextboxMinsize=function(){const e=this;if(e.errored=!1,!JotForm.isVisible(e))return JotForm.corrected(e);const t=parseInt(e.readAttribute("data-minlength")),o=parseInt(e.readAttribute("maxlength"))||1/0,r=null!==e.getAttribute("required");if(r&&e.value.length<t||!r&&""!==e.value&&e.value.length<t)return JotForm.errored(e,JotForm.getValidMessage(JotForm.texts.minCharactersError,t));if(e.value.length>o)return JotForm.errored(e,JotForm.getValidMessage(JotForm.texts.maxCharactersError,o));{let t=!1;e.closest(".form-matrix-table")&&e.closest(".form-matrix-table").querySelectorAll("input").forEach((function(o){o!==e&&o.classList.contains("form-validation-error")&&(t=!0)}));const o=JotForm.getContainer(e);if("control_inline"===o.dataset.type&&Boolean(o.querySelector("div.FITB"))){const e=o.querySelectorAll('input[class*="validate"]');if(JotForm.getInvalidInputs(e).length)return!1}if(!t)return JotForm.corrected(e)}}}))},handleZeroQuantityProducts:function(){try{const e=document.querySelectorAll('input[name="simple_fpc"]');if(null!==(e&&e[0]?e[0].closest(".form-line"):null)&&(!window.FORM_MODE||"cardform"!=window.FORM_MODE)){document.querySelectorAll(".form-product-item").forEach((function(e){e.querySelectorAll("select, input").forEach((function(e){(e.hasAttribute("id")&&e.getAttribute("id").indexOf("quantity")>-1||e.className.includes("form-product-input"))&&["change","blur"].forEach((function(t){e.addEventListener(t,(function(){JotForm.preventProductQuantityEmpty()}))}))}))}))}}catch(e){console.log("Empty Product Prevent :: handleZeroQuantityProducts ::",e)}},checkProductSelectionWithQuantity:function(e){try{let t=0,o=!1;return e.querySelectorAll("table").length>0?e.querySelectorAll(".form-subproduct-quantity").forEach((function(e){t+=parseInt(e.value),o=!0})):e.querySelectorAll("select, input").forEach((function(e){e.getAttribute("id").indexOf("quantity")>-1&&(t+=parseInt(e.value),o=!0)})),!o||0!==t}catch(e){console.log("Empty Product Prevent :: getEmptyRequiredProduct ::",e)}},erroredQuantityFields:function(e,t){try{const o=void 0===t||null==t||"add"==t?"add":"remove";e.querySelectorAll("table").length>0?e.querySelectorAll(".form-subproduct-quantity").forEach((function(e){"add"==o?e.classList.add("form-validation-error"):e.classList.remove("form-validation-error")})):e.querySelectorAll("select, input").forEach((function(e){e.getAttribute("id").indexOf("quantity")>-1&&("add"==o?e.classList.add("form-validation-error"):e.classList.remove("form-validation-error"))}))}catch(e){console.log("errorQuantityFields :: ",e)}},preventProductQuantityEmpty:function(){const e=document.querySelectorAll('input[name="simple_fpc"]'),t={},o=[],r=e&&e[0]?e[0].closest(".form-line"):null;try{if(null!=r&&JotForm.isVisible(r)&&(!window.FORM_MODE||"cardform"!=window.FORM_MODE)){document.querySelectorAll(".form-product-item").forEach((function(e){const r=e.querySelector(".form-product-input");void 0!==r&&r.checked?JotForm.checkProductSelectionWithQuantity(e)?(t[e.getAttribute("pid")]=null,o.push(e)):t[e.getAttribute("pid")]=e:(t[e.getAttribute("pid")]=null,o.push(e))}));const e=Object.values(t);e.forEach((function(e){null!==e&&JotForm.erroredQuantityFields(e,"add")})),o.forEach((function(e){JotForm.erroredQuantityFields(e,"remove")}));const n=e.filter((function(e){return null!==e}));return n.length>0?JotForm.errored(r,"Selected product quantity cannot be less than 1."):JotForm.corrected(r),!(n.length>0)}return!0}catch(e){return null!=r&&JotForm.isVisible(r)&&JotForm.errored(r,"Selected product quantity cannot be less than 1."),!1}},initNumberInputs:function(){document.querySelectorAll(".form-number-input").forEach((function(e){e.addEventListener("blur",(function(){e.validateNumberInputs()})),e.addEventListener("change",(function(){e.validateNumberInputs()})),e.addEventListener("keyup",(function(){e.validateNumberInputs()})),e.addEventListener("keypress",(function(t){if(t.metaKey||t.ctrlKey)return;const o=[8,9,13,35,36,37,39].join(",").match(new RegExp(t.which));if(!t.which||48<=t.which&&t.which<=57||46==t.which||45==t.which||43==t.which||o){if(8==t.which||0==t.which||13==t.which||!(parseInt(this.value.length)>=parseInt(e.readAttribute("maxlength"))||t.which<45||t.which>57))return;t.preventDefault()}else t.preventDefault()})),e.addEventListener("wheel",(function(e){e.preventDefault()})),e.addEventListener("paste",(function(e){const t=(e.clipboardData||window.clipboardData).getData("text");(isNaN(parseFloat(t))||""===t.trim())&&e.preventDefault()})),e.validateNumberInputs=function(){const e=this;if(e.errored=!1,!JotForm.isVisible(e))return JotForm.corrected(e);if(""!==e.value&&!/^-?(\d+[\.]?)+$|([\.]\d+)+$/.test(e.value)&&!0!==e.hinted)return JotForm.errored(e,JotForm.texts.numeric);const t=parseInt(e.readAttribute("data-numbermin")),o=parseInt(e.readAttribute("data-numbermax")),r=parseInt(e.readAttribute("maxlength"));if(r&&e.value&&e.value.length>r)return JotForm.errored(e,JotForm.texts.maxDigitsError+" "+r);if((t||0==t)&&parseFloat(e.value)<t)return JotForm.errored(e,JotForm.getValidMessage(JotForm.texts.inputCarretErrorA,t));if((o||0==o)&&parseFloat(e.value)>o)return JotForm.errored(e,JotForm.getValidMessage(JotForm.texts.inputCarretErrorB,o));{let t=!1;if(e.closest(".form-matrix-table")&&e.closest(".form-matrix-table").querySelectorAll("input").forEach((function(o){o!==e&&o.classList.contains("form-validation-error")&&(t=!0)})),!t)return JotForm.corrected(e)}}}))},backStack:[],currentSection:!1,visitedPages:{},autoNext:function(e){if($("cid_"+e)){var t=$("cid_"+e).previous();if(t){var o=t.readAttribute("data-type");if("control_radio"===o||"control_dropdown"===o){t.observe("change",(function(o){var r;if(JotForm.isVisible(t)&&((r=o.target)&&("input"===r.tagName.toLowerCase()?!1!==r.checked:0!==r.querySelectorAll('input:checked[type=radio], option:checked:not([value=""])').length))&&!o.target.hasClassName("form-radio-other")){var n=$("cid_"+e).down(".form-pagebreak-next");n&&n.triggerEvent&&(n.focus(),n.setStyle({fontWeight:"bold"}),setTimeout((function(){JotForm.currentSection===JotForm.getSection(t)&&(n.setStyle({fontWeight:"inherit"}),n.triggerEvent("mousedown"),n.triggerEvent("click"))}),800))}}))}}}},handlePages:function(){var e,t=this,o=[],r=document.querySelectorAll(".form-label-left");if(r.length>0){var n=parseInt(document.defaultView.getComputedStyle(r[0]).width),i=parseInt(document.defaultView.getComputedStyle(document.querySelector(".form-all")).width),a=n>i/2?i/2:n;document.querySelectorAll(".form-pagebreak-back-container").forEach((e=>{""===e.style.width&&(e.style.width=a-14+"px")}))}if(document.querySelectorAll(".form-pagebreak").forEach((function(e,r){const n=e.parentNode.parentNode;r>=1?n.style.display="none":(JotForm.currentSection=n,JotForm.visitedPages[r+1]=!0),o.push(n),n.pagesIndex=r+1,document.onkeypress=function(e){var t=32==(e=e||(event||null)).which||"Space"===e.code,o=13==e.keyCode||"Enter"===e.code,r=e.target?e.target:e.srcElement?e.srcElement:null;if(o&&["text","email","tel","number","radio","checkbox","select-one","select-multiple"].include(r.type))return!1;(o||t)&&e.target.classList.contains("form-pagebreak-next")&&e.target.triggerEvent&&e.target.triggerEvent("mousedown")};var i=function(){if("undefined"!=typeof FormTranslation&&FormTranslation.properties&&"1"===FormTranslation.properties.firstPageOnly){var e=document.querySelectorAll(".language-dd"),t=e.length>0&&e[0];if(!t)return;var r=JotForm.currentSection===o[0]?"":"none";t.style.display=r}},a=JotForm.getForm(n);n.querySelectorAll(".form-pagebreak-next").forEach((e=>{e.addEventListener("click",(()=>{if(!JotForm.saving&&!JotForm.loadingPendingSubmission){if(JotForm.validateAll(a,n)||""!==getQuerystring("qp")){if(!t.noJump&&window.parent&&window.parent!=window&&window.parent.postMessage("scrollIntoView::"+a.id,"*"),!JotForm.nextPage)for(var e=[...document.querySelectorAll(".form-all > .page-section")],o=e.indexOf(n);o<e.length;o++)if(!0!==JotForm.hidePages[parseInt(o,10)+2]){JotForm.nextPage=e[parseInt(o,10)+1];break}JotForm.nextPage?(JotForm.backStack.push(JotForm.hideFormSection(n)),JotForm.currentSection=JotForm.showFormSection(JotForm.nextPage),JotForm.updateErrorNavigation(!0),t.noJump||window.parent!=window||!0===JotForm.isFullSource||scrollTo(0,0),JotForm.enableDisableButtonsInMultiForms()):n.nextSiblings()[0]&&(JotForm.backStack.push(JotForm.hideFormSection(n)),JotForm.currentSection=JotForm.showFormSection(n.nextSiblings()[0]),t.noJump||window.parent!=window||scrollTo(0,0),JotForm.enableDisableButtonsInMultiForms()),JotForm.nextPage=!1,JotForm.saveForm&&(window.JFFormUserHelper&&window.JFFormUserHelper.SCLManager?window.JFFormUserHelper.SCLManager.hiddenSubmit():JotForm.hiddenSubmit(JotForm.getForm(n))),JotForm.iframeHeightCaller(),JotForm.runAllCalculations(!0),i(),JotForm.currentSection&&JotForm.currentSection.querySelectorAll(".form-html").forEach((function(e){e.innerHTML.match(/google.*maps/gi)&&(e.innerHTML=e.innerHTML)}))}else try{JotForm.updateErrorNavigation(!0),document.querySelectorAll(".form-button-error").forEach((e=>{e.remove()})),document.querySelectorAll(".form-pagebreak-next").forEach((e=>{if(!JotForm.isSourceTeam){var t=document.createElement("div");t.className="form-button-error",t.append(JotForm.texts.generalPageError),e.parentNode.parentNode.append(t)}}))}catch(e){}JotForm.setPagePositionForError()}}))})),n.querySelectorAll(".form-pagebreak-back").forEach((e=>{e.addEventListener("click",(()=>{if(!t.noJump&&window.parent&&window.parent!=window&&window.parent.postMessage("scrollIntoView::"+a.id,"*"),!JotForm.saving&&!JotForm.loadingPendingSubmission){JotForm.hideFormSection(n);for(var e=[...document.querySelectorAll(".form-all > .page-section")],o=JotForm.backStack.pop();JotForm.backStack.length>0;){var r=e.indexOf(o)+1;if(!0!==JotForm.hidePages[r])break;o=JotForm.backStack.pop()}JotForm.currentSection=JotForm.showFormSection(o),t.noJump||window.parent!=window||scrollTo(0,0),JotForm.nextPage=!1,JotForm.enableDisableButtonsInMultiForms(),JotForm.saveForm&&(window.JFFormUserHelper&&window.JFFormUserHelper.SCLManager?window.JFFormUserHelper.SCLManager.hiddenSubmit():JotForm.hiddenSubmit(JotForm.getForm(n))),document.querySelectorAll(".form-button-error").forEach((e=>{e.remove()})),JotForm.iframeHeightCaller(),i(),o.querySelectorAll(".form-line[data-type=control_widget]").forEach((function(e){var t=e.id.split("_").last();JotForm.showWidget(t,!0)})),setTimeout((function(){JotForm.runAllCalculations(!0)}),10),JotForm.updateErrorNavigation(!1)}}))}))})),o.length>0){var l=document.querySelectorAll(".form-section:not([id^=section_])");if(l.length>0&&(e=l[l.length-1]),e){e.pagesIndex=l.length,o.push(e),e.style.display="none";var s=!1,c=null;if(JotForm.newDefaultTheme||JotForm.extendsNewTheme){var u=e.querySelectorAll('li[data-type="control_button"] .form-buttons-wrapper');u.length>0&&(s=!0,(c=u[u.length-1]).classList.add("form-pagebreak"))}var d=document.createElement("div");d.className="form-pagebreak-back-container";var m=document.querySelectorAll(".form-pagebreak-back-container"),p=m[0].querySelector("button"),f=m[m.length-1].querySelector("button"),h=f.classList.contains("button-hidden");p.textContent=f?f.textContent:p.textContent,p.className=p.className.replace(/\bform-submit-button-\S+/g,"");var g=document.querySelector('li[data-type="control_button"] .submit-button');if(g&&(h&&g.classList.add("button-hidden"),g.classList.forEach((e=>{(e.startsWith("form-submit-button-")||"button-hidden"==e)&&p.setAttribute("class",e+" form-pagebreak-back jf-form-buttons")}))),h||p.classList.remove("button-hidden"),d.append(p),s){c.prepend(d);["form-pagebreak-back-container","form-submit-preview","form-submit-print","form-submit-reset","paypal-submit-button-wrapper","form-sacl-button","form-submit-button:not(.form-sacl-button)","useJotformSign-button","form-pagebreak-next-container"].forEach((e=>{[...c.children].forEach((t=>{t.matches("."+e)&&c.append(t)}))}))}else{var v=document.createElement("li");v.classList.add("form-input-wide");var y=document.createElement("div");y.classList.add("form-pagebreak"),y.append(d),v.append(y),e.append(v)}p.addEventListener("click",(function(){JotForm.saving||(e.style.display="none",JotForm.nextPage=!1)}))}}},jumpToPage:function(e,t){if(!e&&document.get.jumpToPage&&JotForm.submissionToken&&(JotForm.sessionID||"").indexOf("JF-S4L")>-1)return;e=e||document.get.jumpToPage;const o=Array.from(document.querySelectorAll(".form-section:not([id^=section_])")),r=o[e-1];if(e&&e>0&&!(e>o.length)){for(let e=0;e<o.length;e++)JotForm.hideFormSection(o[e]);!t&&JotForm.doubleValidationFlag()&&(JotForm.visitedPages={}),JotForm.showFormSection(r),JotForm.currentSection=r,e>1&&(JotForm.backStack=o.splice(0,e-1)),JotForm.runAllCalculations(!0),r.querySelectorAll(".form-line[data-type=control_widget]").forEach((function(e){const t=e.id.split("_").last();JotForm.showWidget(t,!0)}))}},doubleValidationFlag:function(){return"0"!==getQuerystring("doubleValidation")},isInputAlwaysHidden:function(e){if("cardform"===window.FORM_MODE)return!JotForm.isVisible(e);const t=e.closest(".jfField");if(t&&t.classList.contains("isHidden"))return!0;const o=e.closest(".form-address-line-wrapper")||e.closest(".form-address-line");if(o){if("none"==o.style.display||"hidden"==o.style.visibility)return!0;if(e.closest(".form-address-hiddenLine"))return!0}const r=e.closest('.form-section[id^="section_"], .form-section-closed[id^="section_"]');if(r){const e="none"==r.style.display||"hidden"==r.style.visibility,t=r.classList.contains("always-hidden")||r.classList.contains("form-field-hidden");if(e||t)return!0}if(["stripesca_dummy","stripePe_dummy","mollie_dummy","square_dummy","braintree_dummy","paypal_complete_dummy"].indexOf(e.id)>-1)return!0;if("paypalpro"===JotForm.payment&&e.closest("#creditCardTable")&&"none"===e.closest("#creditCardTable").style.display)return!0;const n=JotForm.getContainer(e);return n.classList.contains("always-hidden")||n.classList.contains("form-field-hidden")||n.style&&"none"==n.style.display||n.style&&"hidden"==n.style.visibility},isSectionTouched:function(e){if(!e)return!1;if(!!!document.querySelector(".form-pagebreak"))return!0;var t=e.pagesIndex;return void 0===t&&e.parentNode&&(t=e.parentNode.pagesIndex),!(t>JotForm.currentSection.pagesIndex)&&(!(!JotForm.visitedPages[t]||JotForm.hidePages[t])||void 0)},hideFormSection:function(e){return e.classList.add("js-non-displayed-page"),e.style.display="none",e.style.position="absolute",e.style.top="-9999px",e.style.left="-9999px",e},showFormSection:function(e){e.classList.remove("js-non-displayed-page"),e.style.display="",e.style.position="",e.style.top="",e.style.left="",e.querySelector('[data-type="control_captcha"]')&&JotForm.resetGRECaptcha(),JotForm.visitedPages[e.pagesIndex]=!0;for(var t=Object.keys(JotForm.visitedPages),o=0;o<t.length;o++)t[o]>e.pagesIndex&&delete JotForm.visitedPages[t[o]];if(!this.noJump&&(window!==window.top||!0===JotForm.isFullSource)){var r=JotForm.forms[0]||document.querySelector(".jotform-form");r&&setTimeout((function(){r.scrollIntoView(!0)}),50)}return e},getDimensions:e=>{const t=window.getComputedStyle(e);if(t.display&&"none"!==t.display)return{width:e.offsetWidth,height:e.offsetHeight};const{visibility:o,position:r,display:n}=e.style;e.style.display="block",e.style.visibility="hidden",e.style.position="fixed"!==r?"absolute":r;const i={width:e.offsetWidth,height:e.offsetHeight};return e.style.display=n,e.style.position=r,e.style.visibility=o,i},handleFormCollapse:function(){var e=!1,t=0,o=JotForm.newDefaultTheme||JotForm.extendsNewTheme?84:60;document.querySelectorAll(".form-collapse-table").forEach((r=>{var n=r.parentNode.parentNode;function i(){if(n.closed){n.style.height="auto",n.style.overflow="visible";var i=JotForm.getDimensions(n).height;if(e&&e!=n&&t<=1&&(e.className="form-section-closed",e.shift({height:o,duration:.25}),e.querySelectorAll(".form-collapse-right-show").forEach((e=>{e.classList.add("form-collapse-right-hide"),e.classList.remove("form-collapse-right-show")})),e.style.overflow="hidden",e.closed=!0),e=n,n.style.overflow="hidden",n.style.height=`${o}px`,setTimeout((function(){n.scrollTop=0,n.className="form-section"}),1),n.shift({height:i,duration:.5,onStart:function(){n.querySelectorAll(".form-line[data-type=control_widget]").forEach((e=>{var t=e.id.split("_").last();JotForm.showWidget(t,!0)})),n.classList.add("form-section-opening")},onEnd:function(e){e.scrollTop=0,e.style.height="auto",e.style.overflow="visible",JotForm.noJump||e.scrollIntoView()},onStep:function(){window.parent&&window.parent!=window&&!JotForm.isFormInNewIframeHeightCalculation()&&window.parent.postMessage("setHeight:"+$$("body")[0].getHeight(),"*")}}),n.querySelectorAll(".form-collapse-right-hide").forEach((e=>{e.classList.add("form-collapse-right-show"),e.classList.remove("form-collapse-right-hide")})),n.closed=!1,r.errored){var a=r.querySelector(".form-collapse-mid");a.style.color="",a.querySelector("img").remove(),r.errored=!1}r.setAttribute("aria-expanded",!0)}else n.scrollTop=0,n.shift({height:o,duration:.5,onEnd:function(e){e.className="form-section-closed"},onStep:function(){window.parent&&window.parent!=window&&!JotForm.isFormInNewIframeHeightCalculation()&&window.parent.postMessage("setHeight:"+$$("body")[0].getHeight(),"*")}}),n.style.overflow="hidden",e||(e=n),e&&e.querySelectorAll(".form-collapse-right-show").forEach((e=>{e.classList.add("form-collapse-right-hide"),e.classList.remove("form-collapse-right-show")})),n.closed=!0,r.setAttribute("aria-expanded",!1);setTimeout((function(){JotForm.handleIFrameHeight()}),510)}"form-section-closed"==n.className?(n.closed=!0,r.setAttribute("aria-expanded",!1)):(n.querySelectorAll(".form-collapse-hidden").length<0&&(e=n,t++),r.setAttribute("aria-expanded",!0)),r.setAttribute("role","button"),r.setAttribute("tabindex",0),r.addEventListener("click",(()=>{i()})),r.addEventListener("keyup",(e=>{13===e.keyCode&&i()}))}))},setPagePositionForError:function(){const e=document.querySelectorAll(".form-error-message")[0];if(e){JotForm.isCollapsed(e)&&JotForm.getCollapseBar(e).dispatchEvent(new Event("click"));const t=e.closest(".form-line");if(!JotForm.noJump&&t){const e=t.querySelector("input,select,textarea");if(e&&e.isVisible())e.focus();else{const e=t.querySelector(".form-label");if(e){const t=document.getElementById(e.getAttribute("for"));t&&t.focus()}}}}},justNumber:function(e){var t="";void 0!==e.clipboardData&&(t=(e.clipboardData||window.clipboardData).getData("text"));var o=/^\d+$/;(void 0!==e.key&&!o.test(e.key)||""!==t&&!o.test(t))&&e.preventDefault()},PCIGatewaysCardInputValidate:function(){[document.querySelector(".cc_ccv"),document.querySelector(".cc_number")].forEach((function(e){e.addEventListener("paste",(function(e){JotForm.justNumber(e)})),e.addEventListener("keypress",(function(e){JotForm.justNumber(e)}))}));var e=$$(".jotform-form")[0],t=$$('input[name="simple_fpc"]')[0],o=$$('input[name="simple_fpc"]')[0].value;e.addEventListener("submit",(function(e){var r=$$("#id_"+o+' input[class*="cc"]',"#id_"+o+' select[class*="cc"]');if(r.each((function(e){JotForm.corrected(e)})),JotForm.isEditMode())return!0;if(JotForm.isPaymentSelected()&&JotForm.paymentTotal>0){var n,i=[];r.each((function(e){e.getValue()||(n=JotForm.texts.ccMissingDetails,i.push(e))})),n&&(Event.stop(e),setTimeout((function(){JotForm.isSectionTouched(JotForm.getSection(t))?i.forEach((function(e){JotForm.errored(e,n)})):JotForm.enableButtons()}),0))}}))},handleAuthNet:function(){this.PCIGatewaysCardInputValidate()},handleBluesnap:function(){if(this.PCIGatewaysCardInputValidate(),!JotForm.isEditMode()&&!document.get.sid&&JotForm.paymentProperties&&"Yes"===JotForm.paymentProperties.sca)try{(new _bluesnapJS).initialization()}catch(e){console.error("ERR::",e),JotForm.errored(document.querySelector('li[data-type="control_bluesnap"]'),e)}},isCardinalValidationInitialized:!1,handleSignatureEvents:function(){function e(t){t.removeClassName("signature-placeholder"),this.removeEventListener("mousedown",e),this.removeEventListener("pointerdown",e)}var t=document.querySelectorAll(".jotform-form .signature-pad-wrapper");t&&0!==t.length&&Array.from(t).forEach((function(t){var o=t.querySelector("canvas"),r=t.querySelector(".signature-line.signature-wrapper"),n=t.querySelector(".clear-pad-btn.clear-pad");o.addEventListener("mousedown",e.bind(this,r)),o.addEventListener("touchstart",e.bind(this,r)),o.addEventListener("pointerdown",e.bind(this,r)),n.addEventListener("click",(function(){r.addClassName("signature-placeholder"),o.addEventListener("mousedown",e.bind(this,r));var t=r.querySelector("img"),n=r.querySelector(".pad");t&&(n.style.display="block",t.remove())}))}))},htmlEncode:function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"};return String(e).replace(/[&<>"']/g,(function(e){return t[e]}))},populateSignature:function(e,t){var o=$("id_"+e).select(".signature-pad-wrapper"),r=o.first().select(".signature-line").first(),n=r.select(".pad").first();if(t){n.addClassName("edit-signature").hide(),r.removeClassName("signature-placeholder"),r.select("#input_"+e).first().setValue(t);var i=t&&t.indexOf("data:image/png;")>-1?t:"/"+t+"?nc=1";i=JotForm.htmlEncode(i),r.insert('<img src="'+i+'" id="signature-pad-image" class="signature-image-'+e+'" style="margin-left:1px;"/>')}o[0].select(".clear-pad")[0].removeClassName("clear-pad").addClassName("edit-signature-pad").writeAttribute("data-id",e)},handleSignSignatureInputs:function(){var e=history.state;e&&e.signatureValues&&e.signatureValues.length>0&&!this.isEditMode()&&(e.signatureValues.forEach((function(e){var t=e.id.replace("input_","");JotForm.populateSignature(t,e.value)})),history.replaceState(Object.assign({},history.state,{signatureValues:[]}),null,null));if("Yes"===JotForm.isSignForm||JotForm.isWorkflowForm){var t=document.querySelectorAll('li[data-type="control_signature"]');t&&t.length>0&&Array.from(t).forEach((function(e){var t=e.querySelector('input[type="hidden"]'),o=e;if(t&&o&&window.JFFormSignature){var r=e.querySelector("label").innerText;window.JFFormSignature({trigger:o,onUse:function(o){var r=e.querySelector(".pad");if(jQuery(r).jSignature){jQuery(r).jSignature("setData","data:image/jsignature;base30,tR_6I"),""===o.value&&jQuery(r).jSignature("reset")}if(t.value=o.value,t.setAttribute("data-mode",o.mode),t.setAttribute("data-font",o.font),t.setAttribute("data-color",o.color),t.setAttribute("data-text",o.text),t.validateInput&&t.validateInput(),t.triggerEvent("change"),r){r.style.display="flex",r.style.alignItems="center";var n=r.querySelector("canvas");n&&(n.style.display="none");var i=r.querySelector("img");i||(i=new Image,r.appendChild(i)),i.src=o.value}},getInitialValue:function(){var o=e.querySelector("#signature-pad-image");return{value:-1===t.value.indexOf("data:image")&&o?o.src:t.value,mode:t.dataset.mode,font:t.dataset.font,color:t.dataset.color,text:t.dataset.text}},isDisabled:function(){return t.hasClassName("conditionallyDisabled")},labelTitle:r,renderMode:"embed",initialMode:"type"})}}))}},handleFITBInputs:function(){function e(e){var t,o=document.createElement("span"),r=getComputedStyle(e,null).getPropertyValue("font-size")||"15px",n=getComputedStyle(e,null).getPropertyValue("font-family")||"sans-serif";return o.innerText=e.value||e.parentNode.querySelector("label").innerText,o.style.cssText="position: absolute; text-wrap: nowrap; white-space: pre; font-size:"+r+"; font-family:"+n+"; display: inline-block;",e.parentNode.appendChild(o),t=o.offsetWidth,e.parentNode.removeChild(o),t}function t(e){return e.parentNode.parentNode.offsetWidth}var o=Array.from(document.querySelectorAll('.FITB input:not([type="checkbox"]):not([type="radio"])')).filter((function(e){return JotForm.isVisible(e)}));o&&o.length>0&&Array.from(o).forEach((function(o){var r=t(o),n=e(o)+8;o.style.width=n+"px",r&&(o.style.maxWidth=r+"px"),o.addEventListener("input",(function(){o.offsetWidth<t(o)&&(o.style.width=Math.max(e(o)+4,n)+"px"),o.style.maxWidth||(o.style.maxWidth=t(o)+"px")}))})),JotForm.newDefaultTheme||JotForm.extendsNewTheme||$$('.FITB input[class*="validateLiteDate"]').forEach((function(e){e.observe("keydown",(function(e){var t=e.target.value;"Backspace"===e.key&&t[t.length-1]===e.target.dataset.seperator&&(t=t.substr(0,t.length-1)),e.target.value=t.substr(0,10)})),e.observe("input",(function(e){var t=e.target.value.split(e.target.dataset.seperator).map((function(e){return e.replace(/\D/g,"")})),o=[];o="yyyymmdd"!==e.target.dataset.format?t.map((function(t,o){return 2==t.length&&o<2?t+e.target.dataset.seperator:t})):t.map((function(t,o){return 4==t.length&&0==o||2==t.length&&1==o?t+e.target.dataset.seperator:t})),e.target.value=o.join("").substr(0,10)}))}));var r=document.querySelectorAll('.FITB span[data-type="signaturebox"]');r&&r.length>0&&Array.from(r).forEach((function(e){var t=e.querySelector(".FITB-sign-image"),o=e.querySelector('input[type="hidden"]'),r=e.querySelector(".FITB-sign-button");if(t&&o&&r&&window.JFFormSignature){r.addEventListener("keypress",(function(e){32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),e.target.click())}));window.JFFormSignature({trigger:r,onUse:function(e){o.value=e.value,t.setAttribute("src",e.value),o.setAttribute("data-mode",e.mode),o.setAttribute("data-font",e.font),o.setAttribute("data-color",e.color),o.setAttribute("data-text",e.text),o.validateInput&&o.validateInput(),o.triggerEvent("change")},getInitialValue:function(){return{value:o.value,mode:o.dataset.mode,font:o.dataset.font,color:o.dataset.color,text:o.dataset.text}},isDisabled:function(){return o.hasClassName("conditionallyDisabled")}})}}));for(var n=document.querySelectorAll('.FITB span[data-type="timebox"] input[id*="timeInput"]'),i=0;i<n.length;i++)try{new Inputmask({alias:"datetime",inputFormat:n[i].dataset.mask?n[i].dataset.mask:"hh:MM",jitMasking:!0,oncomplete:function(e){var t=e.target.value.split(":"),o=e.target.parentElement.querySelector('input[id*="hourSelect"]'),r=e.target.parentElement.querySelector('input[id*="minuteSelect"]');o.value=t[0],r.value=t[1],e.target.triggerEvent("change")},onincomplete:function(e){var t=e.target.value.split(":");(e.target.parentElement.querySelector('input[id*="hourSelect"]').value=t[0],t[1])&&(e.target.parentElement.querySelector('input[id*="minuteSelect"]').value=2===t[1].length?t[1]:t[1]+"0")},oncleared:function(e){var t=e.target.parentElement.querySelector('input[id*="hourSelect"]'),o=e.target.parentElement.querySelector('input[id*="minuteSelect"]');t.value="",o.value="",e.target.triggerEvent("change")}}).mask(n[i]),n[i].addEventListener("mouseenter",(function(e){e.target.placeholder="hh:MM"}))}catch(e){return}},handlePaypalPro:function(){if($("creditCardTable")){var e=document.querySelector(".jotform-form"),t=document.querySelector('input[name="simple_fpc"]').value;e.addEventListener("submit",(function(e){if(JotForm.isEditMode())return!0;if(JotForm.isPaymentSelected()&&JotForm.paymentTotal>0){var o="";JotForm.corrected($$(".paymentTypeRadios")[0]),$$(".paymentTypeRadios")[0].checked||$$(".paymentTypeRadios")[1].checked||(o="You must select a payment method"),$("input_"+t+"_paymentType_credit").checked&&$$("#input_"+t+"_cc_number").each((function(e){if(!e.getValue())throw o="All fields are required",$break})),o?(JotForm.errored($$(".paymentTypeRadios")[0],o),Event.stop(e)):JotForm.corrected($$(".paymentTypeRadios")[0]);var r="subscription"===document.getElementById("payment-wrapper-songbird").getAttribute("data-paymenttype"),n="Yes"===document.getElementById("payment-wrapper-songbird").getAttribute("data-sca");if("undefined"!=typeof Cardinal&&n&&$("input_"+t+"_paymentType_credit").checked&&!r){Event.stop(e),JotForm.disableButtons();var i=document.getElementById("payment-wrapper-songbird").getAttribute("data-cardinalapikey"),a=document.getElementById("payment-wrapper-songbird").getAttribute("data-cardinalapiindentifier"),l=document.getElementById("payment-wrapper-songbird").getAttribute("data-cardinalorgunitid");(new songBirdInit).init({cardinalAPIkey:i,cardinalAPIidentifier:a,cardinalOrgUnitID:l}),JotForm.isCardinalValidationInitialized||(JotForm.isCardinalValidationInitialized=!0,Cardinal.on("payments.validated",(function(e){var t=null==JotForm.forms[0]||void 0===JotForm.forms[0]?$($$(".jotform-form")[0].id):JotForm.forms[0];switch(JotForm.corrected($("creditCardTable")),e.ActionCode){case"SUCCESS":case"NOACTION":var o=createHiddenInputElement({name:"PAResStatus",value:e.Payment.ExtendedData.PAResStatus}),r=createHiddenInputElement({name:"Enrolled",value:e.Payment.ExtendedData.Enrolled}),n=createHiddenInputElement({name:"CAVV",value:void 0!==e.Payment.ExtendedData.CAVV?e.Payment.ExtendedData.CAVV:""}),i=createHiddenInputElement({name:"ECIFlag",value:void 0!==e.Payment.ExtendedData.ECIFlag?e.Payment.ExtendedData.ECIFlag:""}),a=createHiddenInputElement({name:"XID",value:void 0!==e.Payment.ExtendedData.XID?e.Payment.ExtendedData.XID:""}),l=createHiddenInputElement({name:"DSTRANSACTIONID",value:void 0!==e.Payment.ExtendedData.DSTransactionId?e.Payment.ExtendedData.DSTransactionId:""}),s=createHiddenInputElement({name:"THREEDSVERSION",value:void 0!==e.Payment.ExtendedData.ThreeDSVersion?e.Payment.ExtendedData.ThreeDSVersion:""}),c=document.createDocumentFragment();[o,r,n,i,a,l,s].forEach((function(e){c.appendChild(e)})),t.appendChild(c),JotForm.ignoreDirectValidation=!0,t.submit();break;case"FAILURE":JotForm.errored($("creditCardTable"),"Failed Authentication"),JotForm.enableButtons();break;case"ERROR":JotForm.errored($$(".paymentTypeRadios")[0],"Failed to connect payment service please try later"),JotForm.enableButtons()}})))}}})),$$(".paymentTypeRadios").each((function(e){e.observe("click",(function(){e.checked&&"express"===e.value&&JotForm.setCreditCardVisibility(!1),e.checked&&"credit"===e.value&&(JotForm.paymentTotal>0||0===Object.keys(JotForm.discounts).length)&&JotForm.setCreditCardVisibility(!0),JotForm.corrected($$(".paymentTypeRadios")[0]),JotForm.togglePaypalButtons(e.checked&&"express"===e.value)}))}))}},handlePaypalComplete:function(){if(!JotForm.isEditMode()&&!document.get.sid)try{var e=new _paypalCompleteJS;JotForm.paypalCompleteJS=e,e.initialization()}catch(e){console.log("ERR::",e),JotForm.errored($$('li[data-type="control_paypalcomplete"]')[0],e),$$('li[data-type="control_paypalcomplete"]')[0]&&$$('li[data-type="control_paypalcomplete"] .form-textbox').each((function(e){e.disabled=!0}))}},handleCybersource:function(){if(this.PCIGatewaysCardInputValidate(),!(window.location.pathname.match(/^\/edit/)||["edit","inlineEdit","submissionToPDF"].indexOf(document.get.mode)>-1&&document.get.sid)){if("function"!=typeof __cybersource)return alert("PagSeguro payment script didn't work properly. Form will be reloaded"),void location.reload();JotForm.cybersource=__cybersource(),JotForm.cybersource.init()}},description:function(e,t){if("20"!=t){var o=!1;if(!$(e)){var r=e.replace(/[^\d]/gim,"");if($("id_"+r))e=$("id_"+r),o=!0;else{if(!$("section_"+r))return;e=$("section_"+r),o=!0}}$(e).setSliderValue&&(e=$($(e).parentNode));var n=JotForm.getContainer(e);if(n){var i=!1,a=document.createElement("div");a.className="form-description";var l=document.createElement("div");l.className="form-description-arrow";var s=document.createElement("div");s.className="form-description-arrow-small";var c,u=document.createElement("div");if(u.className="form-description-content","desc"in document.get&&"v2"==document.get.desc&&(i=!0,(c=document.createElement("div")).className="form-description-indicator",n.appendChild(c),a.addClassName("right")),u.insert(t),a.insert(l).insert(s).insert(u).hide(),n.insert(a),n.getWidth()/2<a.getWidth()&&a.setStyle("right: -"+(n.getWidth()-(i?100:20))+"px"),i){var d=c.measure("height");l.setStyle("top:"+(d/2-20)+"px"),s.setStyle("top:"+(d/2-17)+"px"),$(n).mouseEnter((function(){n.setStyle("z-index:10000"),n.hasClassName("form-line-active")||(n.addClassName("form-line-active"),n.__classAdded=!0),a.show()}),(function(){n.__classAdded&&(n.removeClassName("form-line-active"),n.__classAdded=!1),n.setStyle("z-index:0"),a.hide()})),$(e).observe("keydown",(function(){n.setStyle("z-index:0"),a.hide()}))}else o?($(e).addEventListener("touchstart",(function(){n.setStyle("z-index:10000"),a.show()})),$(e).mouseEnter((function(){n.setStyle("z-index:10000"),a.show()})),$(e).addEventListener("mouseleave",(function(){n.setStyle("z-index:0"),a.hide()}))):($(n).mouseEnter((function(){n.setStyle("z-index:10000"),a.show()}),(function(){n.setStyle("z-index:0"),a.hide()})),$(e).observe("keyup",(function(){n.setStyle("z-index:0"),a.hide()})),$(e).observe("focus",(function(){n.setStyle("z-index:10000"),a.show()})),$(e).observe("blur",(function(){n.setStyle("z-index:0"),a.hide()})))}}},validateAll:function(e,t){function o(e,t){var o=!0;if(""!==getQuerystring("qp"))return!0;void 0===t&&(t=document.body),JotForm.handleTextareaLimits(!1),t.querySelectorAll(".form-textarea-limit-indicator-error").forEach((function(e){JotForm.isVisible(e)&&(o=!1)})),t.querySelector(".form-datetime-validation-error")&&(o=!1),t.querySelectorAll('[data-type="control_radio"]').forEach((function(e){var t=e.querySelector(".form-radio-other"),o=e.querySelector(".other-input-container");if(t&&o){var r=t.name,n=o.querySelector(".form-radio-other-input");o.classList.contains("is-none")?n.removeAttribute("name"):n.name||n.setAttribute("name",r+"[other]")}})),t.querySelectorAll(".form-spinner-input, .form-number-input, .form-grading-input").forEach((function(e){switch(e.dataset.type){case"input-number":o=!!e.validateNumberInputs()&&o;break;case"input-spinner":o=!!e.validateSpinnerInputs()&&o;break;case"input-grading":o=!!e.validateGradingInputs()&&o}})),t.querySelectorAll(".form-textbox[data-minlength]").forEach((function(e){o=!!e.validateTextboxMinsize()&&o})),window.signatureForm&&t.querySelectorAll(".pad").forEach((function(e){if("true"===e.dataset.required){var t=jQuery(e).jSignature("getData","base30"),r=t&&t[1].length,n=e.classList.contains("edit-signature");if(JotForm.doubleValidationFlag()){var i=JotForm.isSectionTouched(JotForm.getSection(e));JotForm.isInputAlwaysHidden(e)||!i||r||n?JotForm.corrected(e):(o=!1,JotForm.errored(e,JotForm.texts.required))}else{!document.getElementById("id_"+e.dataset.id).is(":visible")||JotForm.getSection(e).classList.contains("js-non-displayed-page")||r||n?JotForm.corrected(e):(o=!1,JotForm.errored(e,JotForm.texts.required))}}})),void 0!==window.JCFServerCommon&&document.querySelectorAll(".widget-required, .widget-errored").forEach((function(e){var t=e.closest(".form-section");if(JotForm.doubleValidationFlag()&&JotForm.isSectionTouched(t)&&!JotForm.isInputAlwaysHidden(e)&&!e.getValue().length)JotForm.errored(e,JotForm.texts.required),o=!1;else if(JotForm.isVisible(e)){var r=e.classList.contains("widget-replaced");r&&e.errored&&JotForm.corrected(e),t.visible()&&"-9999px"!==t.style.top&&!e.getValue().length&&(o=!!r&&JotForm.errored(e,JotForm.texts.required))}try{!e.classList.contains("widget-required")||e.classList.contains("form-validation-error")||JotForm.isInputAlwaysHidden(e)||(JotForm.validatedRequiredFieldIDs[e.id]=(""+e.value).slice(0,2))}catch(e){}})),t.querySelectorAll('*[class*="validate"]').forEach((function(e){var r=e.closest(".form-line");if(JotForm.payment&&r&&r.dataset.type==="control_"+JotForm.payment){var n=JotForm.getContainer(e).querySelector('input[class*="validate"], select[class*="validate"]')===e;if(e.name&&!e.name.match("cc_")&&!n)return;if(e.dataset.inputname&&!e.dataset.inputname.match("cc_")&&!n)return;if("ccFirstName"===e.id&&e.closest('.form-line[data-type="control_mollie"]'))return}if(void 0!==e.validateInput)if(e.validateInput&&e.validateInput()){if(null!=JotForm.validatedRequiredFieldIDs&&"object"==typeof JotForm.validatedRequiredFieldIDs)try{var i=e.closest(".form-line")&&e.closest(".form-line").id,a=JotForm.getInputValidations(e).includes("required"),l=e.hasClassName("validate")&&e.hasClassName("valid");i&&(a||l)&&!JotForm.isInputAlwaysHidden(e)&&(JotForm.validatedRequiredFieldIDs[i]=(""+e.value).slice(0,2))}catch(e){}}else{o=JotForm.hasHiddenValidationConflicts(e);try{var s=e.closest(".form-line")&&e.closest(".form-line").id;delete JotForm.validatedRequiredFieldIDs[s]}catch(e){}"BODY"!==t.tagName&&e.id&&0===t.select("#"+e.id).length&&(o=!0)}}));const r=!!document.querySelector('[data-payment="true"]')&&JotForm.isVisible($$('[data-payment="true"]')[0]);if(r&&void 0!==window.ValidatePaymentGateways&&JotForm.payment&&(o=!!ValidatePaymentGateways.validate(JotForm.payment)&&o),"product"!==window.paymentType||"undefined"==typeof PaymentStock||PaymentStock.validations.checkStock()||JotForm.isEditMode()||(o=!1,JotForm.errored(PaymentStock.paymentField.querySelector(".form-product-input"),JotForm.texts.notEnoughStock)),r){const e="cardform"!=window.FORM_MODE&&"undefined"!=typeof PaymentStock&&!PaymentStock.validations.validateStock(),t=!0===JotForm.handleMinTotalOrderAmount();(e||t)&&(o=!1)}var n=JotForm.currentSection&&JotForm.currentSection.querySelector('li[data-payment="true"]'),i=!document.querySelector(".form-pagebreak");if((n||i)&&JotForm.browserIs.firefox())for(var a=document.querySelectorAll(".form-product-item .form-checkbox.form-product-input[required]"),l=0;l<a.length;l++){if((JotForm.isVisible(a[l])||"dontClear"===JotForm.clearFieldOnHide)&&!a[l].checked){JotForm.errored(a[l],JotForm.texts.required),o=!1;break}JotForm.corrected(a[l])}return 1!=o||JotForm.preventProductQuantityEmpty()||(o=!1),o}if(JotForm.validatedRequiredFieldIDs={},JotForm.validatedRequiredFieldIDs.new=1,JotForm.doubleValidationFlag()){if(t)return o(0,t);var r=!0;return document.querySelectorAll('ul.form-section:not([id^="section_"])').forEach((function(e){JotForm.isSectionTouched(e)&&!o(0,e)&&(r=!1)})),r}return o(0,t)},errored:function(e,t){JotForm.nextPage=!1,e=$(e);try{window.AgentInitializer&&window.agentInitialized&&window.embeddedAgentMethods&&window.embeddedAgentMethods.setTooltip&&window.embeddedAgentMethods.setTooltip("You need help with that?",{withPulse:!0,pulseType:"error",timeout:5e3})}catch(e){}if(e.errored)return!1;e.runHint&&e.runHint();var o="https://cdn.jotfor.ms/";if(void 0===JotForm.minTotalOrderAmount||JotForm.isValidMinTotalOrderAmount()||e.addClassName("form-minTotalOrderAmount-error"),Object.keys(JotForm.visitedPages||{}).length){var r=t&&(t.message||t),n=Array.from(document.querySelectorAll(".page-section")),i=n.indexOf(e.closest(".page-section"))+1,a=n.indexOf(JotForm.currentSection)+1;JotForm.errorNavigationMessages||(JotForm.errorNavigationMessages=[]),JotForm.visitedPages[i]||-1!==JotForm.errorNavigationMessages.indexOf(r)||(JotForm.errorCatcherLog({message:{targetInput:e.id||e.className,targetInputPageIndex:i,currentPageIndex:a,visitedPages:JotForm.visitedPages,message:r,stack:(new Error).stack}},"ERROR_NAVIGATION_FOR_NON_VISITED_PAGE"),JotForm.errorNavigationMessages.push(r))}if(JotForm.isCollapsed(e)){var l=JotForm.getCollapseBar(e);l.errored||(JotForm.newDefaultTheme?l.select(".form-collapse-mid")[0].insert({top:'<img width="30px" height= "30px" src="'+o+'images/exclamation-octagon.png"> '}).setStyle({color:"red"}):l.select(".form-collapse-mid")[0].insert({top:'<img src="'+o+'images/exclamation-octagon.png"> '}).setStyle({color:"red"}),l.errored=!0)}var s=JotForm.getContainer(e);if(!s)return!1;const c="cardform"!=window.FORM_MODE;e.errored=!0,e.addClassName("form-validation-error"),c&&e&&e.type&&"hidden"!==e.type.toLowerCase()&&e.setAttribute("aria-describedby",`error-message_${e.id}`),s.addClassName("form-line-error");var u=s;if((u=s.select(".form-input")[0])||(u=s.select(".form-input-wide")[0]),u||(u=s),u.select(".form-error-message").invoke("remove"),error_message_span=document.createElement("span"),error_message_span.className="error-navigation-message",error_message_span.innerText=t,new URLSearchParams(window.location.search).get("ariaLabelOnRequiredError")){var d=e.parentElement.querySelector(`[for="${e.id}"`),m=d&&d.innerText;m&&(error_message_span.ariaLabel=`${t} (${m})`)}var p=document.createElement("div");p.className="form-error-message",p.role="alert",c&&e&&e.type&&"hidden"!==e.type.toLowerCase()&&(p.id="error-message_"+e.id);var f=document.createElement("div");f.className="form-error-arrow";var h=document.createElement("div");return h.className="form-error-arrow-inner",f.appendChild(h),u.insert(p.insert('<img src="'+o+'images/exclamation-octagon.png"> ').insert(error_message_span).insert(f)),JotForm.iframeHeightCaller(),JotForm.updateErrorNavigation(),!1},corrected:function(e){(e=$(e))&&(e.errored=!1,"cardform"!=window.FORM_MODE&&e.type&&"hidden"!==e.type.toLowerCase()&&e.removeAttribute("aria-describedby"));var t=JotForm.getContainer(e);if(!t)return!0;if(t.select('*[class*="validate"]').each((function(e){e.errored=!1})),(!JotForm.isPaymentSelected()||JotForm.isValidMinTotalOrderAmount()||!t.classList.contains("form-minTotalOrderAmount-error"))&&(!JotForm.isPaymentSelected()||JotForm.isValidSuggestedDonation())&&!(JotForm.isPaymentSelected()&&t.select(".form-subproduct-quantity.form-validation-error").length>0)&&(!(JotForm.paymentFields.indexOf($(t).readAttribute("data-type"))>-1&&"undefined"!=typeof PaymentStock)||PaymentStock.validations.checkStock())){if(0!==t.select(".form-error-message").length&&"mollie_dummy"!==t.select(".form-error-message")[0].id&&t.select(".form-error-message").invoke("remove"),t.select(".form-validation-error").invoke("removeClassName","form-validation-error"),t.removeClassName("form-line-error"),JotForm.isCollapsed(e)){var o=JotForm.getCollapseBar(e);o.errored&&o.up(".form-section-closed")&&0==o.up(".form-section-closed").select(".form-validation-error").length&&(o.select(".form-collapse-mid")[0].setStyle({color:""}).select("img")[0].remove(),o.errored=!1)}return setTimeout((function(){0==$$(".form-validation-error").length&&JotForm.hideButtonMessage()}),100),JotForm.iframeHeightCaller(),JotForm.updateErrorNavigation(),!0}},hideButtonMessage:function(){"cardform"==window.FORM_MODE&&document.querySelectorAll(".form-submit-button").forEach((function(e){const t=e.parentNode.parentNode,o=t.querySelector(".form-button-error");if(o&&t.classList.contains("jfCard")){const e=t.getBoundingClientRect(),r=o.getBoundingClientRect(),n=t.querySelector(".jfCard-question");if(n){const o=n.getBoundingClientRect(n);t.style.maxHeight=e.height+r.height,n.style.maxHeight=o.height+r.height,t.parentNode.style.paddingBottom="unset"}}}));document.querySelectorAll(".form-button-error").forEach((e=>{e.parentNode.removeChild(e)}))},showButtonMessage:function(e){this.hideButtonMessage(),document.querySelectorAll(".form-submit-button").forEach((function(t){if(JotForm.isSourceTeam)return;if(t&&t.getAttribute("class").indexOf("form-sacl-button")>-1)return;const o=document.createElement("div");o.className="form-button-error",o.role="alert",o.innerHTML="<p>"+(void 0!==e?e:JotForm.texts.generalError)+"</p>";const r=t.parentNode.parentNode;if(r.appendChild(o),r.classList.contains("jfCard")){const e=r.getBoundingClientRect(),t=document.querySelector("#cardProgress"),n=t.getBoundingClientRect(),i=o.getBoundingClientRect();if(i.bottom>n.top&&"none"!==getComputedStyle(t).display){const t=r.querySelector(".jfCard-question");if(t){const o=t.getBoundingClientRect(t);r.style.maxHeight=e.height-i.height,t.style.maxHeight=o.height-i.height,r.parentNode.style.paddingBottom=i.height}}}}))},_errTimeout:null,updateErrorNavigation:function(e){if(void 0!==window.ErrorNavigation&&(JotForm.newDefaultTheme||JotForm.extendsNewTheme)){var t=document.querySelector(".error-navigation-container");JotForm.renderErrorNavigation=void 0===e&&!t||e,JotForm._errTimeout&&clearTimeout(JotForm._errTimeout),JotForm._errTimeout=setTimeout((function(){window.ErrorNavigation.update(JotForm.currentSection,JotForm.renderErrorNavigation),clearTimeout(JotForm._errTimeout)}),50)}},disableGoButton:function(){/iPhone|iPad|Android/i.test(navigator.userAgent)&&document.querySelectorAll("input").forEach((function(e){e.addEventListener("keydown",(function(e){13===(e.keyCode?e.keyCode:e.which)&&e.preventDefault()}))}))},disableSubmitForCard:function(e,t){"cardform"===window.FORM_MODE&&window.CardForm&&window.CardForm.cards&&(JotForm.disableSubmitButton=t,JotForm.disableSubmitButtonMessage=e&&e.disableSubmitErrorMessage?e.disableSubmitErrorMessage:"You are not eligible to submit this form.",t||JotForm.toggleDisableSubmitMessage())},toggleDisableSubmitMessage:function(){var e=window.CardForm.getLastVisibleIndex();if("number"==typeof e&&document.getElementsByClassName("jfCard")){var t=document.getElementsByClassName("jfCard")[e],o=t&&t.querySelector(".jfCard-disableSubmitError");if(!t||!o)return;o.innerHTML="<p>"+JotForm.disableSubmitButtonMessage+"</p>",o.style.display=JotForm.disableSubmitButton?"block":"none",JotForm.disableSubmitButton?t.classList.add("jfCard-submitErrored"):t.classList.remove("jfCard-submitErrored")}},removeNonselectedProducts:function(e){var t=[];(t=JotForm.newPaymentUI?e.querySelectorAll(".form-product-item.new_ui:not(.p_selected)"):e.querySelectorAll(".form-product-item").filter((function(e){return e.querySelector(".form-product-input")&&!e.querySelector(".form-product-input").checked}))).length>0&&t.forEach((function(e){e.parentNode.removeChild(e)}))},validator:function(){if(JotForm.validatorExecuted=!0,this.debugOptions&&this.debugOptions.stopValidations)return this.info("Validations stopped by debug parameter"),!0;var e=this;$A(JotForm.forms).length||trackExecution("forms-list-empty"),trackExecution("validator-called"),$A(JotForm.forms).each((function(t){if(!t.validationSet){t.validationSet=!0;t.addEventListener("submit",(function(o){try{if(trackSubmitSource("form"),$("payment_total_checksum")&&($("payment_total_checksum").value=JotForm.paymentTotal),$("payment_discount_value")&&JotForm.pricingInformations&&JotForm.pricingInformations.general&&($("payment_discount_value").value=JotForm.pricingInformations.general.shippingDiscountVal||JotForm.pricingInformations.general.discount),$("firstPaymentDiscount")&&JotForm.pricingInformations&&JotForm.pricingInformations.general&&JotForm.pricingInformations.general.firstPaymentDiscount&&($("firstPaymentDiscount").value=JotForm.pricingInformations.general.firstPaymentDiscount),$("recurPaymentDiscount")&&JotForm.pricingInformations&&JotForm.pricingInformations.general&&JotForm.pricingInformations.general.recurPaymentDiscount&&($("recurPaymentDiscount").value=JotForm.pricingInformations.general.recurPaymentDiscount),$$(".form-submit-button")&&$$(".form-submit-button").length>0){var r=!1;$$(".form-submit-button").each((function(e){JotForm.isVisible(e.parentNode)&&(r=!0)})),r||(JotForm.enableButtons(),o.stop(),o.valid=!1);var n=document.querySelector('[data-invisible-captcha="true"] [name="recaptcha_invisible"]');if(n&&!n.value)return attachCaptchaVisibilityObserver(t),window.grecaptcha.execute().then((()=>{console.log("Captcha initialized"),t.invisibleCaptchaStyleObserverAttached||JotForm.enableButtons()})).catch((()=>{console.log("Captcha cannot be initialized"),JotForm.enableButtons()})),o.stop(),void(o.valid=!1)}if(JotForm.disableSubmitButton)return JotForm.toggleDisableSubmitMessage(),JotForm.enableButtons(),o.stop(),void(o.valid=!1);if(!JotForm.validateAll(t)){if(JotForm.enableButtons(),JotForm.showButtonMessage(),JotForm.updateErrorNavigation(!0),JotForm.submitError)if("jumpToSubmit"==JotForm.submitError){var i=[];$$(".form-submit-button").each((function(e){JotForm.isVisible(e)&&i.push(e)})),i.length>0&&(i[i.length-1].up(".form-line")?i[i.length-1].up(".form-line").scrollIntoView(!1):i[i.length-1].scrollIntoView(!1))}else"jumpToFirstError"==JotForm.submitError&&JotForm.setPagePositionForError();return $$(".custom-hint-group").each((function(e){e.showCustomPlaceHolder()})),o.stop(),void(o.valid=!1)}if(trackExecution("submit-validation-passed"),null!=JotForm.validatedRequiredFieldIDs&&"object"==typeof JotForm.validatedRequiredFieldIDs?(Object.keys(JotForm.validatedRequiredFieldIDs).length&&JotForm.errorCatcherLog({validatedRequiredFieldIDs:JotForm.validatedRequiredFieldIDs},"VALIDATED_REQUIRED_FIELD_IDS"),t.appendChild(createHiddenInputElement({name:"validatedNewRequiredFieldIDs",value:JSON.stringify(Object.keys(JotForm.validatedRequiredFieldIDs).length&&JotForm.validatedRequiredFieldIDs||"No validated required fields")}))):t.appendChild(createHiddenInputElement({name:"validatedNewRequiredFieldIDs",value:"Invalid Value: "+typeof JotForm.validatedRequiredFieldIDs})),JotForm.conditionCalculationDebugLogs.length>0&&JotForm.errorCatcherLog({message:JotForm.conditionCalculationDebugLogs},"SUBMIT_CONDITION_CALCULATION_EVENTS"),window.location.href.includes("agentImplementationID")&&!window.agentImplementationID){var a=window.location.search,l=new URLSearchParams(a).get("agentImplementationID");l&&(t.appendChild(createHiddenInputElement({name:"agentImplementationID",value:l})),window.agentImplementationID=l)}Object.keys(JotForm.visitedPages).length&&t.appendChild(createHiddenInputElement({name:"visitedPages",value:JSON.stringify(JotForm.visitedPages)})),$$(".form-radio-other,.form-checkbox-other").each((function(e){!e.checked&&JotForm.getOptionOtherInput(e)&&JotForm.getOptionOtherInput(e).disable()})),JotForm.runAllCalculations(!0),$$("input, select, textarea").length>900&&$$(".form-matrix-table").each((function(e){var t={},o=e.dataset.dynamic,r=e.select("input, select"),n=e.down("input, select").readAttribute("name").split("[")[0];r.each((function(r){var i=r.id.split("_"),a=i[2],l=i[3];"radio"!=r.type||o?(a in t||(t[a]={}),"checkbox"==r.type||"radio"==r.type?t[a][l]=!!r.checked&&r.value:t[a][l]=r.value):r.checked?t[a]=r.value:a in t||(t[a]=!1),null!==e.parentNode.querySelector(`[name="${n}[colIds]"]`)&&(t.colIds=e.parentNode.querySelector(`[name="${n}[colIds]"]`).value,t.rowIds=e.parentNode.querySelector(`[name="${n}[rowIds]"]`).value),r.writeAttribute("disabled","true")}));try{var i=document.createElement("textarea");i.style.display="none",i.name=n,i.value=JSON.stringify(t),e.parentNode.insert({after:i})}catch(e){console.log(e)}}));var s=JotForm.hasAccessToLocalStorage(),c=document.querySelector("form"),u=c&&c.id?c.id:"",d=c&&c.name?c.name:"";if(JotForm.autoFillDeployed&&!JotForm.payment){var m=AutoFill&&AutoFill.getInstance(u+d);m&&m.stopSavingData(),s&&window.localStorage.clear()}else if(JotForm.isNewSaveAndContinueLaterActive&&s){var p="JFU_SCL_details_"+u;window.localStorage.removeItem(p)}}catch(t){JotForm.error(t),o.stop(),o.valid=!1;var f=o.stopped?"FORM_VALIDATION_ERROR":"FORM_VALIDATION_EVENT_NOT_STOPPED";return void e.errorCatcherLog(t,f)}$$(".time-dropdown").each((function(e){e.enable()})),$$(".form-checkbox, .form-radio").each((function(e){var t=e.up(".form-line")?e.up(".form-line").getAttribute("data-type"):null,o=JotForm.stripe&&void 0!==JotForm.stripe.validateStripe;if(t&&["control_paypalcomplete","control_stripe","control_paypalSPB","control_square"].indexOf(t)>-1&&("control_stripe"===t&&o||"control_square"===t))return!1;e.up(".form-product-item")&&e.disabled&&e.checked&&e.observe("click",(function(e){e.preventDefault(),setTimeout(JotForm.countTotal,20)})),e.enable()})),$$(".conditionallyDisabled").each((function(e){e.enable()})),"dontClear"!==JotForm.clearFieldOnHide&&$$(".form-field-hidden input",".form-field-hidden select",".form-field-hidden textarea").each((function(e){"simple_fpc"!=e.name&&("INPUT"==e.tagName&&["checkbox","radio"].include(e.type)?e.checked=!1:e.clear())}));try{if("function"==typeof window.PaymentUtils){(new window.PaymentUtils).attachPaymentSummaryToForm()}}catch(e){console.log("paymentSummary error occured",e)}if(t.querySelectorAll(".form-all input, select").length>4500&&JotForm.removeNonselectedProducts(t),JotForm.compact&&0==JotForm.imageSaved)return o.stop(),o.valid=!1,window.parent.saveAsImage(),void $(document).observe("image:loaded",(function(){var e=document.createElement("div");Object.assign(e.style,{position:"fixed",top:"0",left:"0",right:"0",bottom:"0",background:"rgba(0,0,0,0.85)"}),e.innerHTML='<table height="100%" width="100%"><tr><td align="center" valign="middle" style="font-family:Verdana;color:#fff;font-size:16px;">Please Wait...</td></tr></table>',document.body.appendChild(e),setTimeout((function(){JotForm.ignoreDirectValidation=!0,t.submit()}),1e3)}));"cardform"==window.FORM_MODE&&Array.prototype.forEach&&CardForm&&CardForm.cards&&window.toMarkdown&&Array.prototype.forEach.call(CardForm.cards,(function(e){e.markdownEditor&&e.markdownEditor.setMarkdownFromHtml&&e.markdownEditor.setMarkdownFromHtml()}));document.querySelectorAll('[data-type=control_datetime] input[class*="validate"][class*="limitDate"]').length>0&&JotForm.errorCatcherLog({message:{currentTimeInClient:(new Date).toUTCString()}},"LIMIT_DATE_VALIDATION_CURRENT_DATE"),JotForm.sendFormOpenId(t,"clientSubmitFinish_V5"),history.replaceState(Object.assign({},history.state,{submitted:!0}),null,null),o.valid=!0,JotForm.prepareEncyptedFormValues(o,{form:t})}));var o=!1,r=t.retrieve("prototype_event_registry")||{};(r.get&&r.get("submit")||[]).forEach((function(e){"handleFormSubmit"===e.handler.name&&(o=!0)})),trackExecution("validator-mounted-"+o),trackSubmitSource("mounted"),$$("#"+t.id+' *[class*="validate"]').each((function(e){JotForm.setFieldValidation(e)})),$$("#"+t.id+' *[class*="form-address-table"] input').each((function(e){var t=e.getAttribute("data-component");"address_line_1"===t||"address_line_2"===t?e.setAttribute("maxLength",100):"zip"===t?e.setAttribute("maxLength",20):e.setAttribute("maxLength",60)})),$$(".form-upload").each((function(e){try{var t=!!e.validateInput,o=e.validateInput||Prototype.K;e.validateInput=function(){if(e.errored=!1,!1!==o()){if(!e.files)return!0;var t=e.readAttribute("accept")||e.readAttribute("data-file-accept")||e.readAttribute("file-accept")||"",r=e.readAttribute("maxsize")||e.readAttribute("data-file-maxsize")||e.readAttribute("file-maxsize")||"",n=e.readAttribute("minsize")||e.readAttribute("data-file-minsize")||e.readAttribute("file-minsize")||"",i=t.strip().toLowerCase().split(/\s*\,\s*/gim);for(var a in i)"string"==typeof i[a]&&(i[a]="."===i[a].slice(0,1)?i[a].slice(1):i[a]);var l=1024*parseInt(r,10),s=1024*parseInt(n,10),c=e.files[0];if(!c)return!0;c.fileName||(c.fileName=c.name);var u="";if(JotForm.getFileExtension(c.fileName)&&(u=JotForm.getFileExtension(c.fileName)),"*"!=t&&!i.include(u)&&!i.include(u.toLowerCase()))return JotForm.errored(e,JotForm.texts.uploadExtensions+"<br/>"+t);var d=e.readAttribute("data-imagevalidate")||!1,m="jpeg, jpg, png, gif, bmp";if((i.include(u)||i.include(u.toLowerCase()))&&d&&("yes"===d||"true"===d)&&(m.include(u)||m.include(u.toLowerCase()))&&void 0!==window.FileReader){var p=new FileReader;p.onloadend=function(t){var o={filename:c.name,size:c.size,binary:function(e){for(var t="",o=new Uint8Array(e),r=o.length,n=0;n<r;n++)t+=String.fromCharCode(o[n]);return t}(t.target.result)};ImageInfo.loadInfo(o,(function(){if("UNKNOWN"===ImageInfo.getAllFields(c.name).format)return JotForm.errored(e,"You have uploaded an invalid image file type.")}))},p.readAsArrayBuffer(c)}return c.fileSize||(c.fileSize=c.size),c.fileSize>l&&0!==l?JotForm.errored(e,JotForm.texts.uploadFilesize+" "+r+"Kb"):c.fileSize<s?JotForm.errored(e,JotForm.texts.uploadFilesizemin+" "+n+"Kb"):JotForm.corrected(e)}},t||(e.addClassName("validate[upload]"),e.observe("blur",e.validateInput))}catch(e){JotForm.error(e)}}))}}))},prepareEncyptedFormValues:function(e,t){var o=JotForm.isEditMode()&&!!JotForm.submissionDecryptionKey,r=document.querySelectorAll('.signature-line input[type="hidden"]'),n=Array.from(r).map((function(e){return{id:e.id,value:e.value}}));if(history.pushState({signatureValues:n},null,null),JotForm.isEncrypted||o){var i={};$A(JotForm.conditions).each((function(e){e.disabled||"url"!==e.type||(i[e.id]=JotForm.checkCondition(e))})),JotForm.encryptAll(e,(function(o){o||JotForm.EventObserver?(Object.keys(i).length>0&&appendHiddenInput("redirectConditions",JSON.stringify(i)),window.offlineForm||(JotForm.ignoreDirectValidation=!0,JotForm.EventObserver||t.form.submit(),e.valid=!0)):!0===t.submitForm&&(JotForm.EventObserver||t.form.submit())}))}else!0===t.submitForm&&(JotForm.EventObserver||t.form.submit())},dateFromField:function(e){var t="";if((e.indexOf("-")>-1||e.indexOf("+")>-1)&&(t=e.split(/[\+\-]/)[1],t=e.indexOf("-")>-1?"-"+t:""+t,e=e.split(/[\+\-]/)[0]),e=e.replace(/[{}]/g,""),!$("year_"+e)||!$("year_"+e).value)return!1;var o=$("year_"+e).value,r=$("month_"+e).value,n=$("day_"+e).value,i=new Date(o,r-1,n);return t.length&&i.setDate(i.getDate()+parseInt(t,10)),i},getInputValidations:function(e){return e?e.className.replace(/.*validate\[(.*)\].*/,"$1").split(/\s*,\s*/):[]},removeValidations:function(e,t){var o=new RegExp("(validate\\[(.*)?"+t+"(.*)?\\])");if(o.test(e.className)){var r=o.exec(e.className)[0].replace(new RegExp(t+"(\\,\\s*)?","g"),"").replace(/\,\s(?!\w+)/g,"");return e.className=e.className.replace(o,r).replace(" validate[]",""),e}return e},getValidMessage:function(e,t){var o=e.replace(/\s*$/,""),r=/{value}/gi;return r.test(e)?o.replace(r,t)+".":o+" "+t+"."},getProductSelectionStatuses:function(e){try{var t=JotForm.getContainer(e),o=null!==e.getAttribute("data-inputname"),r=o?e.getAttribute("data-inputname"):e.name;if(""===r){var n=$$(".form-product-input").find((function(e){return""!==e.name}));r=o?n.getAttribute("data-inputname"):n.name}var i=o?'[data-inputname="'+r+'"]':'[name="'+r+'"]';return $A(document.querySelectorAll(i)).map((function(e){var o=JotForm.isVisible(e);if(JotForm.doubleValidationFlag()&&(o=!JotForm.isInputAlwaysHidden(e)),o){if(""===e.name){var r=e.value,n=!1;return void 0!==JotForm.categoryConnectedProducts&&void 0!==JotForm.categoryConnectedProducts[r]&&Array.from(JotForm.categoryConnectedProducts[r]).forEach((function(e){var t=$$('.form-product-input[value="'+e+'"]')[0]?$$('.form-product-input[value="'+e+'"]')[0]:null;t&&t.checked&&(n=!0)})),n}if(("checkbox"===e.readAttribute("type")||"radio"===e.readAttribute("type"))&&e.value.indexOf("_expanded")>-1)return!!e.checked&&$A($$("#"+e.id+"_subproducts .form-subproduct-quantity")).map((function(e){return e.getSelected().value>0||e.value>0})).any();if($(e.id+"_custom_price"))return e.checked&&$(e.id+"_custom_price").getValue()>0;var i=!!e.up(".form-product-item")&&e.up(".form-product-item").down('select[id*="quantity"], input[id*="quantity"]');return i?e.checked&&i.getValue()>0:e.checked}if(JotForm.productPages&&JotForm.productPages.totalPage>1&&t.select(".product--selected").length>0)return JotForm.corrected(e),!0}))}catch(e){return console.log("getProductSelectionStatuses :: ",e),!1}},setFieldValidation:function(e){var t=this,o=JotForm.validationRegexes,r=[];if("square"!==JotForm.payment||!e.classList.contains("cc_firstName")&&!e.classList.contains("cc_lastName")||"cardform"===window.FORM_MODE){e.validateInput=function(n,i){if(document.get.ignoreValidation&&"true"===document.get.ignoreValidation)return!0;if(JotForm.doubleValidationFlag()){var a=JotForm.isInputAlwaysHidden(e);if(a&&!e.hasClassName("h-captcha-response"))return!0;if(a&&!e.hasClassName("g-recaptcha-response"))return!0}else{if(!JotForm.isVisible(e)&&!e.hasClassName("h-captcha-response"))return!0;if(!JotForm.isVisible(e)&&!e.hasClassName("g-recaptcha-response"))return!0}var l=JotForm.getContainer(e);if("control_appointment"===l.getAttribute("data-type")){var s=e.getAttribute("id");return!s||-1===s.indexOf("_date")||(e.hasClassName("validate")&&!e.hasClassName("valid")?(JotForm.errored(e,JotForm.texts.required),!1):(JotForm.corrected(e),!0))}if("control_inline"===JotForm.getContainer(e).getAttribute("data-type")&&!n){const qe=JotForm.getContainer(e).querySelectorAll('input[class*="validate"],select[class*="validate"]');return!!Array.from(qe).every((t=>{if(t instanceof HTMLSelectElement){const e=t.ariaLabel,o=Array.from(t.querySelectorAll("option")),r=o.find((e=>Boolean(e.value&&e.selected)));if(!r)return JotForm.errored(t,JotForm.texts.required);if(0===o.indexOf(r)&&r.value===e)return JotForm.errored(t,JotForm.texts.required)}return t.validateInput?t.validateInput(!0):e.validateInput(!0)}))&&JotForm.corrected(e)}if("control_datetime"===JotForm.getContainer(e).getAttribute("data-type")&&!JotForm.getContainer(e).down('input[id*="month_"]').dateTimeCheck(!1))return!1;var c="control_time"===l.getAttribute("data-type"),u=l.down('select[id*="hourSelect"]'),d=l.down('input[id*="hourSelect"]'),m=c&&(u||d),p=c&&(u&&!u.timeCheck()||d&&!d.timeCheck());if(c&&m&&p)return!1;$(e.parentNode).hasClassName("form-matrix-values")||e.hasClassName("form-subproduct-option")||e.hasClassName("time-dropdown")||e.id.match(/_quantity_/)||e.id.match(/_custom_/)||"control_inline"===JotForm.getContainer(e).getAttribute("data-type")||JotForm.corrected(e);var f=JotForm.getInputValidations(e);if(!0===e.hinted&&(e.clearHint(),setTimeout((function(){e.hintClear()}),150)),"function"==typeof e.overridenValidateInput)return e.overridenValidateInput(e,n,i);if("input-spinner"===e.readAttribute("data-type")&&e.value)return e.validateSpinnerInputs();if("input-grading"===e.readAttribute("data-type")&&e.value)return e.validateGradingInputs();if("input-number"===e.readAttribute("data-type")&&e.value)return e.validateNumberInputs();if(e.readAttribute("data-min-amount"))return e.validateMinimum();if(e.limitValidation&&e.classList.contains("mdInput")){var h=e.limitValidation();if(!1!==h)return JotForm.errored(e,h)}if(!e.up(".form-line")||!e.up(".form-line").down(".form-textarea-limit-indicator-error")){if(f.include("minCharLimit")){var g=e.validateTextboxMinsize();if(!g)return g}if(f.include("disallowFree"))for(var v=0;v<JotForm.freeEmailAddresses.length;v++)if(e.value.toLowerCase().indexOf("@"+JotForm.freeEmailAddresses[v])>-1)return JotForm.errored(e,JotForm.texts.freeEmailError,i);if(f.include("minSelection")||f.include("minselection")){var y=parseInt(e.readAttribute("data-minselection")),F=0;if(e.up(".form-line").select("input[type=checkbox]").each((function(e){e.checked&&F++})),F>0&&F<y)return JotForm.errored(e,JotForm.getValidMessage(JotForm.texts.minSelectionsError,y),i)}if(f.include("maxselection")){var b=parseInt(e.readAttribute("data-maxselection"));F=0;if(e.up(".form-line").select("input[type=checkbox]").each((function(e){e.checked&&F++})),F>b)return JotForm.errored(e,JotForm.getValidMessage(JotForm.texts.maxSelectionsError,b),i)}if(f.include("disallowPast")&&-1===r.indexOf("disallowPast")){var w=l.id.split("_").last(),_=JotForm.getDateValue(w).split("T")[0],E=new Date,S=E.getMonth()+1<10?"0"+(E.getMonth()+1):E.getMonth()+1,J=E.getDate()<10?"0"+E.getDate():E.getDate(),C=E.getFullYear()+"-"+S+"-"+J;if(JotForm.checkValueByOperator("before",JotForm.strToDate(C),JotForm.strToDate(_)))return JotForm.errored(e,JotForm.texts.pastDatesDisallowed,i)}if("control_datetime"===JotForm.getContainer(e).getAttribute("data-type")&&e.readAttribute("data-age")&&e.value){var A=e.readAttribute("data-age"),x=new Date,k=new Date(e.value),T=(re=e.up(".form-line"))?re.down('input[id*="lite_mode_"]'):null;if(T){var I=T.value.split(T.readAttribute("data-seperator"));"ddmmyyyy"===T.readAttribute("data-format")?k=new Date(I[2],parseInt(I[1],10)-1,I[0]):"mmddyyyy"===T.readAttribute("data-format")?k=new Date(I[2],parseInt(I[0],10)-1,I[1]):"yyyymmdd"===T.readAttribute("data-format")&&(k=new Date(I[0],parseInt(I[1],10)-1,I[2]))}else{var D=e.up(".notLiteMode");if(!D)return!1;var q=D.down('input[id*="year_"]'),N=q?q.value:"",M=D.down('input[id*="month_"]'),O=(S=M?M.value:"",D.down('input[id*="day_"]'));J=O?O.value:"";N&&S&&J&&(k=new Date(N,parseInt(S,10)-1,J))}var L=x.getFullYear()-k.getFullYear(),P=x.getMonth()-k.getMonth();if((P<0||0===P&&x.getDate()<k.getDate())&&L--,L<A){var B=JotForm.texts.ageVerificationError.replace("{minAge}",A);return JotForm.errored(e,B),!1}}if(f.include("limitDate")&&-1===r.indexOf("limitDate"))try{w=e.id.split("_").last();var R=JotForm.dateLimits[w],j=function(){return e.addClassName("invalidLimits"),JotForm.errored(e,JotForm.texts.dateLimited,i)};if(void 0!==R&&!1!==R&&""!=$("year_"+w).value&&""!=$("month_"+w).value&&""!=$("day_"+w).value){if("custom"in R&&!1!==R.custom&&Array.isArray(R.custom))for(var H=0;H<R.custom.length;H++)if(R.custom[H]){N=$("year_"+w).value,S=JotForm.addZeros($("month_"+w).value,2),J=JotForm.addZeros($("day_"+w).value,2);if(R.custom[H].indexOf("{")>-1){var V=JotForm.dateFromField(R.custom[H]);return(V=JotForm.addZeros(V.getFullYear(),2)+"-"+JotForm.addZeros(V.getMonth()+1,2)+"-"+JotForm.addZeros(V.getDate(),2))===N+"-"+S+"-"+J?j():void 0}if(R.custom[H]===N+"-"+S+"-"+J||"string"==typeof R.custom[H]&&5===R.custom[H].length&&R.custom[H]===S+"-"+J||"string"==typeof R.custom[H]&&2===R.custom[H].length&&R.custom[H]==J)return j()}var U=new Date($("year_"+w).value,$("month_"+w).value-1,$("day_"+w).value);if("ranges"in R&&!1!==R.ranges&&Array.isArray(R.ranges))for(H=0;H<R.ranges.length;H++)if(R.ranges[H]&&-1!==R.ranges[H].indexOf(">")){var z=R.ranges[H].split(">");if(K=z[0].indexOf("{")>-1?JotForm.dateFromField(z[0]):JotForm.browserIs.safari()&&!JotForm.browserIs.chrome()?new Date(z[0]+"T00:00"):new Date(z[0].split("-")),(Z=z[1].indexOf("{")>-1?JotForm.dateFromField(z[1]):JotForm.browserIs.safari()&&!JotForm.browserIs.chrome()?new Date(z[1]+"T00:00"):new Date(z[1].split("-")))&&U.getTime()>=K.getTime()&&U.getTime()<=Z.getTime())return j()}var Y=JotForm.getDayOfWeek(U);if(Y in R.days&&0==R.days[Y])return j();if("future"in R&&!1===R.future)if(U>(W=new Date))return j();if("past"in R&&!1===R.past){var W=new Date,Q=new Date;if(Q.setDate(W.getDate()-1),U<Q)return j()}if("start"in R&&0!=R.start&&""!=R.start){var G=R.start.split("-");if(3==G.length){if(U<(K=new Date(G[0],G[1]-1,G[2])))return j()}else if(R.start.indexOf("{")>-1){var K;if(U<(K=JotForm.dateFromField(R.start)))return j()}}if("end"in R&&0!=R.end&&""!=R.end){var X=R.end.split("-");if(3==X.length){if(U>(Z=new Date(X[0],X[1]-1,X[2])))return j()}else if(R.end.indexOf("{")>-1){var Z;if(U>(Z=JotForm.dateFromField(R.end)))return j()}}}}catch(Ne){console.log(Ne)}if(f.include("validateLiteDate")&&e.hasClassName("invalidDate")){var ee=e.readAttribute("placeholder");return JotForm.errored(e,JotForm.texts.dateInvalid.replace("{format}",ee),i)}if(f.include("Email_Confirm")){var te=e.id.replace(/.*_(\d+)(?:_confirm)?/gim,"$1");if($("input_"+te).value!=$("input_"+te+"_confirm").value)return JotForm.errored(e,JotForm.texts.confirmEmail,i);if($("input_"+te+"_confirm").value&&!o.email.test($("input_"+te+"_confirm").value))return JotForm.errored(e,JotForm.texts.email,i)}if(f.include("required")){if("0"===JotForm.minTotalOrderAmount||JotForm.isValidMinTotalOrderAmount()?e.removeClassName("form-minTotalOrderAmount-error"):e.addClassName("form-minTotalOrderAmount-error"),"control_signature"==JotForm.getContainer(e).getAttribute("data-type")){var oe=e;if("true"===jQuery(oe).attr("data-required")){var re,ne=(re=jQuery("#id_"+jQuery(oe).attr("data-id"))).is(":visible");if(JotForm.doubleValidationFlag()&&(ne=!JotForm.isInputAlwaysHidden(oe)),ne){var ie=jQuery(oe).jSignature("getData","base30");return ie&&ie[1].length||jQuery(oe).hasClass("edit-signature")?JotForm.corrected(e):JotForm.errored(e,JotForm.texts.required,i)}}}if("INPUT"==e.tagName&&"file"==e.readAttribute("type")){var ae=e.up(".form-input")||e.up(".form-input-wide");return"multiple"===e.readAttribute("multiple")||e.hasAttribute("multiple")?JotForm.isFillingOffline()?e.value.empty()?JotForm.errored(e,JotForm.texts.required,i):JotForm.corrected(e):e.up("div[class*=validate[multipleUpload]]").validateInput():e.value.empty()&&!(e.uploadMarked||ae&&ae.uploadMarked)?JotForm.errored(e,JotForm.texts.required,i):JotForm.corrected(e)}if("INPUT"!=e.tagName||$(e.parentNode).hasClassName("form-matrix-values")||"radio"!=e.readAttribute("type")&&"checkbox"!=e.readAttribute("type")||"control_inline"===JotForm.getContainer(e).getAttribute("data-type")){if(("INPUT"==e.tagName||"SELECT"==e.tagName)&&($(e).up().hasClassName("form-matrix-values")||$(e).up(1).hasClassName("form-matrix-values"))){function le(e){return-1!==["radio","checkbox"].indexOf(e.type)?e.checked:!!e.value&&!e.value.strip(" ").empty()}var se=e.up("table")?e.up("table"):e.up(".jfMatrix"),ce=Array.from(se.querySelectorAll("input,select"));function ue(e){return Array.from(e.querySelectorAll("input:not(.jfDropdown-search),select"))}var de="cardform"===window.FORM_MODE?se.querySelectorAll(".jfMatrixTable-row,.jfMatrixScale,.jfMatrixInputList-item,.jfMatrixChoice-table"):se.rows,me=Array.from(de).map(ue).filter((function(e){return e.length})).map((function(e){return e.map(le).any()})).every((function(e){return e})),pe=Array.from(de).map(ue).filter((function(e){return e.length})).map((function(e){var t=e.every((function(e){return"radio"!==e.type}))||e.filter((function(e){return"radio"===e.type})).map(le).any((function(e){return e})),o=e.filter((function(e){return"radio"!==e.type})).map(le).every((function(e){return e}));return t&&o})).every((function(e){return e}));return f.include("requireEveryRow")&&!me?JotForm.errored(e,JotForm.texts.requireEveryRow,i):f.include("requireOneAnswer")&&!ce.map(le).any()?JotForm.errored(e,JotForm.texts.requireOne,i):f.include("requireEveryCell")&&!pe?JotForm.errored(e,JotForm.texts.requireEveryCell,i):JotForm.corrected(e)}if("INPUT"!==e.tagName&&"SELECT"!==e.tagName||!e.hasClassName("form-subproduct-option")){if(e.name&&e.name.include("[")||"control_inline"===t.getContainer(e).getAttribute("data-type"))try{if("matrix"===$(e).getAttribute("data-component")&&($(e).up().hasClassName("form-matrix-values-disabled")||$(e).up(1).hasClassName("form-matrix-values-disabled")))return!0;Ae=t.getContainer(e);e.hasClassName("form-address-search")&&Ae.select(".jfQuestion-clean").length>0||e.hasClassName("js-forMixed")?inputs=[e]:inputs=Array.from(Ae.querySelectorAll('input,select[name*="'+e.name.replace(/\[.*$/,"")+'"]'));var fe=inputs.map((function(t){if(t.id.match(/_donation/))return 0==t.getValue();const o=["control_fullname","control_phone"];if("cardform"!==window.FORM_MODE&&t.name&&t.name.match(/cc_/)&&!o.includes(Ae.dataset.type))return 0==JotForm.paymentTotal;if(t.id.match(/input_[0-9]+_quantity_[0-9]+_[0-9]+/)){var r=$(t.id.replace("_quantity","").match(/input_[0-9]+_[0-9]+/)[0]),n=$$('[id*="'+t.id.match(/input_[0-9]*/)[0]+'"][type="'+r.getAttribute("type")+'"]');if(6===t.id.split("_").length)var a=$$('[id*="'+t.id.replace(/_[0-9]*_[0-9]*$/,"")+'"]');if(r.checked&&!a&&(isNaN(t.value)||0==t.value||t.value.empty())||!n.map((function(e){return e.checked})).any()||r.checked&&a&&!a.map((function(e){return e.value>0})).any())return t.addClassName("form-validation-error"),!0}var l=t.className.replace(/.*validate\[(.*)\].*/,"$1").split(/\s*,\s*/),s=JotForm.isVisible(t);if(JotForm.doubleValidationFlag()&&(s=!JotForm.isInputAlwaysHidden(t)),l.include("required")&&s){if("control_inline"===JotForm.getContainer(t).getAttribute("data-type")&&["radio","checkbox"].indexOf(t.readAttribute("type"))>-1){var c=t.name;if("checkbox"===t.readAttribute("type")){var u=t.name.replace(/(^.*\[|\].*$)/g,"").split("-")[0];c=isNaN(u)||Number(u)<15463e8?t.name.substr(t.name.indexOf("-")):t.name.substr(0,t.name.indexOf("-"))}var d=JotForm.getContainer(t).querySelectorAll('*[name*="'+c+'"]'),m=!1;return d.forEach((function(e){m=e.checked||m})),!m}if(t.value.empty()||"Please Select"==t.value.strip()||"control_address"===JotForm.getContainer(e).getAttribute("data-type")&&t.value.strip(" ").empty()){if("cardform"!=window.FORM_MODE&&t.hasClassName("form-dropdown")&&t.hasAttribute("multiple")){for(var p=0,f=0,h=1;h<t.length;h++)t[h].selected&&p++,t[h].selected&&t[h].value.empty()&&f++;if(0==p)return!0;if(p>=1)return!(p>f)}return i||t.addClassName("form-validation-error"),!0}if(JotForm.getContainer(t).hasClassName("form-datetime-validation-error"))return JotForm.errored(e,"Enter a valid date",i)}return t.hasClassName("js-forMixed")||t.removeClassName("form-validation-error"),!1}));if(JotForm.payment&&JotForm.isEditMode()&&(Ae.getAttribute("data-type").match(JotForm.payment)||"paypalcomplete"===JotForm.payment&&"control_paymentmethods"===Ae.getAttribute("data-type")))return JotForm.corrected(e);if(0===JotForm.paymentTotal&&"paypalcomplete"===JotForm.payment&&"control_paymentmethods"===Ae.getAttribute("data-type")){var he=[],ge=[],ve=["100.00-percent","100-percent"],ye="cardform"===window.FORM_MODE?"product--selected":"p_selected";if(JotForm.couponApplied&&JotForm.discounts&&Object.keys(JotForm.discounts).length>0&&(Object.values(document.getElementsByClassName(ye)).forEach((function(e){"object"==typeof e&&e&&e.getAttribute("pid")&&he.push(e.getAttribute("pid"))})),he&&he.length>0&&(Object.values(he).forEach((function(e){JotForm.discounts[e]&&ve.includes(JotForm.discounts[e])&&ge.push(e)})),Object.entries(JotForm.prices).forEach((function(e){var t=e[0].split("_")[2];void 0!==JotForm.discounts[t]&&JotForm.discounts[t].includes("-fixed")&&(JotForm.pricingInformations&&JotForm.pricingInformations.general&&JotForm.pricingInformations.general.discount===JotForm.pricingInformations.general.item_total&&ge.push(t))})),ge.length===he.length))){ge.sort(),he.sort();var Fe=!0;for(let Oe=0;Oe<ge.length;Oe++)ge[Oe]!==he[Oe]&&(Fe=!1);if(Fe)return JotForm.corrected(e)}const Me=JotForm.discounts&&JotForm.discounts.total&&"fixed"===JotForm.discounts.type;if(!JotForm.couponApplied&&Me)return JotForm.corrected(e)}if(fe.any()){if((JotForm.payment&&Ae.getAttribute("data-type").match(JotForm.payment)||"paypalcomplete"===JotForm.payment&&Ae.getAttribute("data-type").match("control_paymentmethod"))&&JotForm.isPaymentSelected()&&0==JotForm.paymentTotal)return JotForm.corrected(e);if(e.hasClassName("form-address-search")&&Ae.select(".jfQuestion-clean").length<1)return JotForm.corrected(e);var be=!1,we=JotForm.texts.required;return fe.map((function(e,t){if(e&&!be){var o=inputs[t];return o.hasClassName("js-forMixed")&&(we=JotForm.texts.incompleteFields,o.hasClassName("forEmail")&&"function"==typeof o.validateEmailField&&(we=JotForm.texts.email,o.validateEmailField())),be=!0,JotForm.errored(inputs[t],we,i)}})),!be}Ae.querySelector(".FITB")||fe.any()||JotForm.corrected(e)}catch(Le){return JotForm.error(Le),JotForm.corrected(e)}}else if(e.hasClassName("form-subproduct-quantity")){var _e=e.id.replace(/_[0-9]*_[0-9]*$/,"");if($(_e.replace(/_quantity/,"")).checked)return $A($$('[id*="'+_e+'"]')).map((function(e){return e.getSelected().value>0||e.value>0})).any()?JotForm.corrected(e):JotForm.errored(e,JotForm.texts.required,i)}}else{var Ee=e.up(".form-"+e.type+"-item")?e.up(".form-"+e.type+"-item").down(".form-"+e.type+"-other-input"):null;if(Ee&&e.checked&&""==Ee.value)return JotForm.errored(e,JotForm.texts.required);var Se=e.name.substr(0,e.name.indexOf("[")),Je=Se+"[other]",Ce=[];if(document.getElementsByName(Je)[0]){if((Ce=$A(document.getElementsByName(Se+"[]")))[Ce.length]=document.getElementsByName(Je)[0],!Ce.map((function(e){return e.checked})).any())return JotForm.errored(e,JotForm.texts.required,i)}else{var Ae=JotForm.getContainer(e);if(JotForm.payment&&Ae.getAttribute("data-type").match(JotForm.payment)){if(!JotForm.getProductSelectionStatuses(e).any()||"cardform"===window.FORM_MODE&&0===Ae.select(".product--selected").length)return e.hasClassName("paymentTypeRadios")?JotForm.errored(e,"Please select payment method.",i):JotForm.errored(e,JotForm.texts.required,i);$A(Ae.querySelectorAll('select[id*="quantity"], input[id*="quantity"]')).forEach((function(e){e.getValue()>0&&JotForm.corrected(e)}))}else if(0===Ae.select("input:checked").length)return JotForm.errored(e,JotForm.texts.required,i)}}if(e.__skipField)return JotForm.corrected(e);if("textarea"===e.tagName.toLowerCase()&&e.hasClassName("form-custom-hint")&&!e.up("div").down(".nicEdit-main")&&e.value.empty())return JotForm.errored(e,JotForm.texts.required,i);var $e="cardform"===window.FORM_MODE&&e&&e.hasClassName("form-textarea")&&e.up("div").down(".jfTextarea-editor")&&e.up("div").down(".jfTextarea-editor").textContent.stripTags().replace(/\s/g,"").replace(/&nbsp;/g,"");if(e.hasClassName("form-textarea")&&e.up("div").down(".nicEdit-main")){if(e.up("div").down(".nicEdit-main").innerHTML.stripTags().replace(/\s/g,"").replace(/&nbsp;/g,"").empty()||e.readAttribute("data-customhint")&&e.readAttribute("data-customhint")==e.up("div").down(".nicEdit-main").innerHTML)return JotForm.errored(e,JotForm.texts.required,i)}else if("control_datetime"===JotForm.getContainer(e).getAttribute("data-type")){if(!e.value||e.value.strip(" ").empty())return JotForm.errored(e,JotForm.texts.required,i);if(e.id&&e.id.indexOf("lite_mode_")>-1){var xe=e.readAttribute("seperator")||e.readAttribute("data-seperator");ee=(e.readAttribute("format")||e.readAttribute("data-format")).toLowerCase();if(e.value.length!==2*xe.length+ee.length)return JotForm.errored(e,JotForm.texts.dateInvalid.replace("{format}",ee),i)}if(JotForm.getContainer(e).hasClassName("form-datetime-validation-error"))return JotForm.errored(e,"Enter a valid date",i)}else if((!e.value||e.value.strip(" ").empty()||e.value.replace("<br>","").empty()||"Please Select"==e.value||"string"==typeof $e&&$e.empty())&&"radio"!=e.readAttribute("type")&&"checkbox"!=e.readAttribute("type")&&!$(e.parentNode).hasClassName("form-matrix-values")&&"control_address"!==JotForm.getContainer(e).getAttribute("data-type")){if("cardform"!=window.FORM_MODE&&e.hasClassName("form-dropdown")&&e.hasAttribute("multiple")){var ke=0,Te=0;for(v=1;v<e.length;v++)e[v].selected&&ke++,e[v].selected&&e[v].value.empty()&&Te++;if(0==ke)return JotForm.errored(e,JotForm.texts.required,i);if(ke>=1)return ke>Te?JotForm.corrected(e):JotForm.errored(e,JotForm.texts.required,i)}return e.hasClassName("form-dropdown")&&$$(".jfDropdown-search:focus").length>0||(e.querySelector('[data-testid="mollie-container--cardHolder"]')&&JotForm.mollie.cardFormMollieValidate()||"cc_paypalSPB_orderID"===e.getAttribute("name")||"cc_paypalSPB_payerID"===e.getAttribute("name"))?JotForm.corrected(e):(JotForm.newDefaultTheme&&e.hasClassName("form-star-rating-star")&&e.up().descendants().each((function(e){e.setStyle({backgroundPosition:"-128px 0px"})})),JotForm.errored(e,JotForm.texts.required,i))}f=f.without("required")}else if(!e.value)return!0;if(!f[0])return!0;switch(f[0]){case"Email":e.value=e.value.replace(/^\s+|\s+$/g,"");var Ie="undefined"!=typeof punycode?punycode.toASCII(e.value):e.value;if(!o.email.test(Ie))return JotForm.errored(e,JotForm.texts.email,i);break;case"Alphabetic":if(!o.alphabetic.test(e.value))return JotForm.errored(e,JotForm.texts.alphabetic,i);break;case"Numeric":if(!o.numeric.test(e.value)&&!o.numericDotStart.test(e.value))return JotForm.errored(e,JotForm.texts.numeric,i);break;case"Alphanumeric":case"AlphaNumeric":if(!o.alphanumeric.test(e.value))return JotForm.errored(e,JotForm.texts.alphanumeric,i);break;case"Cyrillic":if(!o.cyrillic.test(e.value))return JotForm.errored(e,JotForm.texts.cyrillic,i);break;case"Url":case"URL":try{var De=e.value;e.value.startsWith("www.")&&(De="https://"+e.value),new URL(De)}catch(Pe){return JotForm.errored(e,JotForm.texts.url,i)}break;case"Currency":if(e.up(".form-matrix-table"))return e.up(".form-matrix-table").select("input").collect((function(e){return!o.currency.test(e.value)})).any()?JotForm.errored(e,JotForm.texts.currency,i):JotForm.corrected(e);if(!o.currency.test(e.value))return JotForm.errored(e,JotForm.texts.currency,i);break;case"Fill Mask":if("true"==e.dataset.masked&&!(e&&e.inputmask&&e.inputmask.isComplete()))return JotForm.errored(e,JotForm.texts.fillMask,i)}return!("control_inline"===JotForm.getContainer(e).getAttribute("data-type")&&!n)||JotForm.corrected(e)}e.triggerEvent("change")};var n=function(){setTimeout((function(){try{var o=t.getContainer(e),r=o.select("[class*=validate]"),n=r[r.length-1],i=!!t.lastFocus&&(t.getContainer(t.lastFocus)==t.getContainer(e)&&n==e),a=e&&"prefix"===e.getAttribute("data-component");if(!t.lastFocus||t.lastFocus!=e&&t.getContainer(t.lastFocus)==t.getContainer(e)&&!i||a||"cardform"===window.FORM_MODE&&"control_fullname"===o.dataset.type||"cardform"===window.FORM_MODE&&"control_yesno"===o.dataset.type||"cardform"===window.FORM_MODE&&("control_checkbox"===o.dataset.type||"control_radio"===o.dataset.type))"hidden"!=e.type&&"file"!=e.type||"control_widget"===o.dataset.type?(e.hasClassName("form-textarea")&&e.up("div").down(".nicEdit-main")||e.hasClassName("pad"))&&e.validateInput():e.validateInput();else{e.validateInput();var l=e.hasClassName("form-validation-error"),s=e.id&&e.id.indexOf("confirm")>-1,c=o.select("#"+e.id+"_confirm");"email"==e.type&&!l&&!s&&c.length>0&&c[0].validateInput()}}catch(e){console.log(e)}}),10)};if("email"===e.type){var i=Number(e.getAttribute("maxlength"));i&&(e.observe("keydown",(function(t){t.target.value.length===i&&"Backspace"!=t.key?JotForm.errored(e,JotForm.getValidMessage(JotForm.texts.characterLimitError,i)):e.hasClassName("form-validation-error")&&JotForm.corrected(e)})),e.observe("paste",(function(t){(t.clipboardData||window.clipboardData).getData("text").length+t.target.value.length>=i?JotForm.errored(e,JotForm.getValidMessage(JotForm.texts.characterLimitError,i)):e.hasClassName("form-validation-error")&&JotForm.corrected(e)})))}if("hidden"==e.type||"file"==e.type?e.observe("change",n):e.classList.contains("form-"+e.type+"-other")||"SELECT"===e.tagName&&JotForm.browserIs.ios()&&e.classList.contains("form-address-state")||e.observe("blur",n),"checkbox"==e.type||"radio"==e.type){(e.parentNode.hasClassName("jfCheckbox")||e.parentNode.hasClassName("jfRadio"))&&e.observe("change",(function(){e.validateInput()}));var a=JotForm.getInputValidations(e);a.include("requireEveryRow")||a.include("requireEveryCell")||e.classList.contains("form-"+e.type+"-other")||e.observe("change",(function(){e.validateInput()})),e.classList.contains("form-"+e.type+"-other")||e.observe("keyup",(function(t){"Tab"!==t.key&&"Shift"!==t.key&&e.validateInput()}));var l=JotForm.getOptionOtherInput(e);l&&(l.observe("blur",(function(){e.validateInput()})),l.observe("keyup",(function(t){"Tab"!==t.key&&"ArrowDown"!==t.key&&e.validateInput()})),e.observe("change",(function(t){t.target.checked||e.validateInput()})))}if(e.hasClassName("pad")&&jQuery(e).on("change",n),e.hasClassName("form-textarea")&&e.up("div").down(".nicEdit-main")&&e.up("div").down(".nicEdit-main").observe("blur",n),e.classList.contains("form-spinner-input")){var s=$(e).up(".form-spinner"),c=function(){e.validateInput()};s.down(".form-spinner-up").observe("click",c),s.down(".form-spinner-down").observe("click",c)}JotForm.isEditMode()&&"control_datetime"===JotForm.getContainer(e).getAttribute("data-type")&&(r.push("disallowPast","limitDate"),e.observe("change",(function(){JotForm.isVisible(e)&&(r=r.filter((function(e){return-1===["disallowPast","limitDate"].indexOf(e)})),e.validateInput())})))}},isFillingOffline:function(){return!("true"!==getQuerystring("offline_forms")&&!JotForm.switchedToOffline)},FBInit:function(){JotForm.FBNoSubmit=!0,FB.getLoginStatus((function(e){e.authResponse?JotForm.FBCollectInformation(e.authResponse.userID):FB.Event.subscribe("auth.login",(function(e){JotForm.FBCollectInformation(e.authResponse.userID)}))}))},FBCollectInformation:function(e){JotForm.FBNoSubmit=!1;var t=$$(".form-helper").collect((function(e){var t="",o=e.readAttribute("data-info").replace("user_","");switch(o){case"can_be_anyvalue":t="place correct one here";break;case"sex":t="gender";break;case"about_me":t="bio";break;default:t=o}return[t,e.id]})),o={},r=!1;$A(t).each((function(e){"pic_with_logo"==e[0]&&(r={fieldID:e[1]}),"username"!==e[0]&&(o[e[0]]=e[1])}));var n=$H(o).keys().without("pic_with_logo"),i=function(t){JotForm.getForm(t).insert({top:createHiddenInputElement({name:"fb_user_id",id:"fb_user_id",value:e})})};try{FB.api("/"+e,{fields:n},(function(t){var n;$H(t).each((function(e){if($(o[e.key]))switch(n=$(o[e.key]),e.key){case"location":n.value=e.value.name;break;case"website":n.value=e.value.split(/\s+/).join(", ");break;default:n.value=e.value}})),r?FB.api("/"+e+"/picture",(function(e){e.data.url&&$(r.fieldID)&&($(r.fieldID).value=e.data.url),i(n)})):i(n)}))}catch(e){console.error(e)}$$(".fb-login-buttons").invoke("show"),$$(".fb-login-label").invoke("hide")},setCustomHint:function(e,t){var o=document.getElementById(e)||document.querySelector(e)||null,r=t.replace(/<br>/gim,"\n")||"";o.classList.add("custom-hint-group"),o.setAttribute("data-customhint",t),o.setAttribute("customhinted","true"),o.hasContent=!(!o.value||o.value.replace(/\n/gim,"<br>")==t),o.showCustomPlaceHolder=function(){this.hasContent||(this.placeholder=r,this.setAttribute("spellcheck","false"),this.classList.add("form-custom-hint"))},o.hideCustomPlaceHolder=function(){this.hasContent||(this.placeholder="",this.classList.remove("form-custom-hint"),this.removeAttribute("spellcheck"))},o.addEventListener("focus",(function(){this.hasContent||(this.classList.remove("form-custom-hint"),this.removeAttribute("spellcheck"))})),o.addEventListener("blur",(function(){this.showCustomPlaceHolder()})),o.addEventListener("keyup",(function(){this.hasContent=this.value.length>0&&this.value!==r,this.hasContent&&this.classList.contains("form-custom-hint")&&(this.classList.remove("form-custom-hint"),this.removeAttribute("spellcheck"))})),o.addEventListener("paste",(function(){var e=this;setTimeout((function(){e.hasContent=e.value.length>0&&e.value!==r}),2)})),o&&"textarea"===o.type&&o.hasAttribute("data-richtext")&&setTimeout((function(){var e=document.querySelector("#id_"+o.id.replace("input_","")+" .nicEdit-main")||null,t=nicEditors.findEditor(o.id);e&&(t.getContent()||(e.style.color="#babbc0",JotForm.newDefaultTheme&&t.setContent(r)),e.addEventListener("blur",(function(){t.getContent()&&"<br>"!==t.getContent()||(e.style.color="#babbc0",t.setContent(r),o.setAttribute("spellcheck","false"),o.classList.add("form-custom-hint"))})),e.addEventListener("focus",(function(){e.style.color="",o.classList.remove("form-custom-hint"),o.removeAttribute("spellcheck"),t.getContent()===r&&t.setContent("")})))}),1e3);var n=o.closest("form.jotform-form");n&&n.addEventListener("submit",(function(){this.querySelectorAll(".custom-hint-group").forEach((function(e){if("textarea"===e.type&&e.hasAttribute("data-richtext")){var t=nicEditors.findEditor(e.id);e.classList.contains("form-custom-hint")&&t.setContent("")}e.hideCustomPlaceHolder()}))})),o.showCustomPlaceHolder()},fieldHasContent:function(e){const t=document.querySelector(`#id_${e}`);if(t.classList.contains("form-line-error"))return!1;if(t.querySelectorAll(".form-custom-hint").length>0)return!1;const o=JotForm.getInputType(e),r=document.querySelector(`#input_${e}`),n=document.querySelectorAll("#id_"+e+" input");switch(o){case"address":case"combined":return Array.from(n).map((function(e){return e.value})).some();case"number":return Array.from(n).map((function(e){return e.value.length>0})).some();case"birthdate":return JotForm.getBirthDate(e);case"datetime":const o=JotForm.getDateValue(e);return!("T00:00"==o||""==o);case"appointment":return document.querySelector(`#input_${e}_date`)&&document.querySelector(`#input_${e}_date`).value;case"time":return JotForm.get24HourTime(e);case"checkbox":case"radio":return Array.from(n).map((function(e){return e.checked})).some();case"select":return Array.from(document.querySelectorAll("#id_"+e+" select")).map((function(e){return e.value})).some();case"grading":return Array.from(document.querySelectorAll(`input[id^=input_${e}_]`)).map((function(e){return e.value})).some();case"signature":return jQuery("#id_"+e).find(".pad").jSignature("getData","base30")[1].length>0;case"slider":return r.value>0;case"file":if("multiple"===r.readAttribute("multiple")||""===r.readAttribute("multiple")){const e=t.querySelectorAll(".qq-upload-list li");if(e.length>0){let t=!0;return e.forEach((function(e){e.getAttribute("class")&&e.getAttribute("class").indexOf("fail")>0&&(t=!1)})),t}return!0}return r.value;default:return!(!r||!r.value)&&r.value}},setupProgressBar:function(){JotForm.progressBar=new ProgressBar("progressBar",{height:"20px",width:"95%"});var e=["select","radio","checkbox","file","combined","email","address","combined","datetime","time","birthdate","number","radio","number","radio","autocomplete","radio","text","textarea","signature","div","slider"],t=0,o=0,r=function(){o=0,$$(".form-line").each((function(t){var r=t.id.split("_")[1],n=JotForm.getInputType(r);$A(e).include(n)&&JotForm.fieldHasContent(r)&&o++}));var r=parseInt(100/t*o);isNaN(r)&&(r=0),JotForm.progressBar.setPercent(r),$("progressPercentage").update(r+"% "),$("progressCompleted").update(o),100==r?$("progressSubmissionReminder").show():$("progressSubmissionReminder").hide()},n=function(e,t){$(e).observe(t,(function(){r()}))};$$(".form-line").each((function(o){var r=o.id.split("_")[1],i=JotForm.getInputType(r);if(e.include(i))switch(t++,i){case"radio":case"checkbox":case"signature":n($("id_"+r),"click");break;case"select":case"file":n($("id_"+r),"change");break;case"datetime":n($("id_"+r),"date:changed"),$$("#id_"+r+" select").each((function(e){n($(e),"change")}));break;case"time":case"birthdate":$$("#id_"+r+" select").each((function(e){n($(e),"change")}));break;case"address":default:n($("id_"+r),"keyup");break;case"number":n($("id_"+r),"keyup"),n($("id_"+r),"click")}})),$("progressTotal").update(t),r()},setupRichArea:function(e){if(document.documentMode&&(9===document.documentMode||10===document.documentMode)||!window.attachEvent||"[object Opera]"==Object.prototype.toString.call(window.opera)){var t="id_"+e;const r=document.querySelector(`#${t}`);var o=r.classList.contains("always-hidden")||"none"===r.style.display||"hidden"===r.style.display;JotForm.isVisible(t)||(r.closest(".form-section")&&r.closest(".form-section").show(),JotForm.showField(e)),new nicEditor({iconsPath:location.protocol+"//www.jotform.com/images/nicEditorIcons.gif?v2"}).panelInstance("input_"+e),JotForm.updateAreaFromRich(t),o&&this.hideField(e)}},updateAreaFromRich:function(e){try{const r=document.querySelector("#"+e);var t=r.querySelector(".nicEdit-main"),o=r.querySelector("textarea");t&&o&&(t.addEventListener("blur",(()=>{const e=new RegExp('<img src="data:image.+>');if(t.innerHTML.match(e)){const r=t.innerHTML.replace(e,"");o.value=r,o.triggerEvent&&o.triggerEvent("keyup"),t.update(r)}})),t.addEventListener("keyup",(function(){o.value=t.innerHTML,o.triggerEvent&&o.triggerEvent("keyup")})))}catch(e){console.error(e)}},validateSessionID:function(e){if(!e)return!1;for(var t=!1,o=["StripeCheckout-","Payfast-","Square-","Sensepass-","JF-S4L"],r=0;r<o.length;r++)if(-1!==e.indexOf(o[r])){t=!0;break}return t},autoFillInitialize:function(e){if(!this.isEditMode()){var t=$$('input[name="formID"]')[0].value;e.name="form_"+t;var o="form#"+t,r=$$(o)[0],n=["formID","simple_spc","temp_upload_folder","formOpenId"];r.writeAttribute("data-autofill","true");var i=function(e){var t=e.protectedfields,o=e.protectedfieldsdata,r=0;$H(o).each((function(e){var o=t[r],n=$(o),i=e[1],a=!!i.newinputvalue&&i.newinputvalue.replace(/\n/gim,"<br>");if(n.hasAttribute("data-customhint")||n.hasAttribute("customhinted"))(l=n.readAttribute("data-customhint"))&&a&&l!=a&&(n.removeClassName("form-custom-hint"),n.hasContent=!0);else if(n.hasAttribute("hinted")||n.hinted){var l;(l=!!i.oldinputvalue&&i.oldinputvalue.replace(/\n/gim,"<br>"))&&a&&l!=a&&n.setStyle({color:"#000"})}r++}))},a=function(){$$(".nicEdit-main").each((function(e){var t=e.up(".form-line").down("textarea");t&&(e.innerHTML=t.value)}))},l=function(){$$(".form-star-rating").each((function(e){"function"===e.setRating&&e.setRating(e.down("input").value)}))},s=function(){$("payment_total")&&JotForm.totalCounter(JotForm.prices)};JotForm.payment&&$$(".form-product-item > input.form-product-has-subproducts").length>0&&$$('.form-line[data-type="control_authnet"] select, .form-line[data-type="control_authnet"] input').each((function(e){e.id&&n.push(e.id)}));var c=Number(e.timeout)>0?e.timeout:4,u=$$("input, select, textarea").length;u>200&&(c=Math.floor(u/10));var d={timeout:c,sessionID:JotForm.sessionID,excludeFields:n,ttl:e.ttl,allowBindOnChange:!(!e.bindChange||"on"!=e.bindChange),onBeforeSave:function(){},onSave:function(){},onRelease:function(){},onBeforeRestore:function(){},onRestore:function(){var e=this.restoredData[0];e&&(i(e),a(e),l(e),s(e))}};window.autoFill?autoFill([r],d):jQuery(o).autoFill(d),this.runAllConditions(),this.autoFillDeployed=!0}},runReplaceTag:function(e,t,o,r,n){try{if(e.replaceText||(e.replaceText=""),e.replaceText.indexOf(":")>-1){var i=e.replaceText.substr(e.replaceText.indexOf(":")+1);if(e.equation.indexOf("|")>-1)i=e.operands.split("|")[0]+"_"+i.split("-")[0];i in t&&(o=t[i])}o.empty()&&e.defaultValue&&(o=e.defaultValue);var a=r+"_"+e.replaceText.replace(/\[/g,"_field_").replace(/\:/g,"_");a=a.replace("]","");var l=Array.from(document.getElementsByClassName(a)),s=[];s="cardform"==window.FORM_MODE?$$(".jfField-sublabel").filter((function(e){return e.htmlFor=="input_"+r})):$$(".form-sub-label").filter((function(e){return e.htmlFor=="input_"+r}));var c=e.replaceText.replace("[","\\["),u=new RegExp("{"+c+"}","g"),d=e.defaultValue||"",m=$$('a[href="{'+c+'}"]'),p=$$('a[replace-link="'+a+'"]'),f=new RegExp(/([--:\w?@%&+~#=]*\.[a-z]{2,4}\/{0,2})((?:[?&](?:\w+)=(?:\w+))+|[--:\w?@%&+~#=\s]+)?/),h=o.match(f);if(m.each((function(e){if(e.setAttribute("replace-link",a),e.setAttribute("href",""),h){var t=-1===h[0].indexOf("//")?"//"+h[0]:h[0];e.setAttribute("href",t)}})),p.each((function(e){if(h){var t=-1===h[0].indexOf("//")?"//"+h[0]:h[0];e.setAttribute("href",t)}})),0==l.length)if("inline"===n){var g=$$("#FITB_"+r+" .fitb-replace-tag"),v=new RegExp("([^<>]*){"+c+"}([^<>]*)","g");g.forEach((function(e){e.innerHTML&&(e.innerHTML=e.innerHTML.replace(v,'$1<span class="replaceTag '+a+'" default="'+d+'">'+o+"</span>$2"))}))}else{var y=e.isLabel?$("label_"+r).innerHTML:$("text_"+r).innerHTML;if(e.isLabel)y=y.replace(u,'<span class="replaceTag '+a+'" default="'+d+'">'+o+"</span>");else for(var F=new RegExp("(>[^<>]*){"+c+"}([^<>]*<)","g");y.match(F)&&-1===o.indexOf("{"+c+"}");)y=y.replace(F,'$1<span style="white-space: pre-wrap" class="replaceTag '+a+'" default="'+d+'">'+o+"</span>$2");e.isLabel?$("label_"+r).update(y):$("text_"+r).update(y)}else l.each((function(e){null!=o&&(window.DomPurify?e.update(window.DomPurify.sanitize(o,{ADD_ATTR:["target"]})):e.update(o.stripScripts().stripEvents()))}));s.each((function(e){var t=e.innerHTML.replace(u,'<span class="replaceTag '+a+'" default="'+d+'">'+o+"</span>");e.update(t)}));var b=$("id_"+r+"_description");if(b){var w=b.innerHTML;w.indexOf(e.replaceText)>-1&&(w=w.replace(u,'<span class="replaceTag '+a+'" default="'+d+'">'+o+"</span>"),b.update(w))}}catch(e){console.log(e)}},runAllConditions:function(){const e=performance.now();Object.entries(JotForm.fieldConditions).forEach((function(e){const[t,o]=e;let r=o.event;const n=document.querySelector(`#${t}`);n&&(["autofill","number","autocomplete"].includes(r)&&(r="keyup"),n.dispatchEvent(new Event(r)))})),"function"==typeof __conditionDebugger_logPerformance&&__conditionDebugger_logPerformance([{title:"Run All Conditions",value:(performance.now()-e).toFixed(2)}]),JotForm.conditionCalculationDebugLogs=[]},hasQuestion:function(e,t){var o=!1;return e.length>0&&e.some((function(e){if(e&&e.type===t)return o=e})),o},handleSSOPrefill:function(){if(!this.isEditMode()&&"1"!=getQuerystring("jf_createPrefill")&&JotForm.SSOPrefillData&&(JotForm.SSOPrefillData.each((function(e){if(e&&e.value){var t=e.qid,o=e.value;switch(e.type){case"control_fullname":var r=e.value;Object.keys(r).forEach((function(e){$(e+"_"+t)&&($(e+"_"+t).value=r[e])}));break;case"control_phone":var n=$("input_"+t+"_full");if(n)n.value=o;else{var i=$A($$("input[id^=input_"+t+"_]")),a=i.length-1,l=o.replace(/\D+/g," ").trim().split(" ");if(1===l.length){var s=/(\d{3})(\d{3})(\d{4})/,c="$1 $2 $3",u=l[0];u.length>10&&(s=new RegExp("(\\d{"+(u.length-10)+"})(\\d{3})(\\d{3})(\\d{4})"),c="$1 $2 $3 $4"),l=u.replace(s,c).split(" ")}var d=l.slice(a).join(" "),m=l.slice(0,a);m.push(d),(m=m.filter((function(e){return""!==e}))).length<i.length?m.reverse().forEach((function(e,t){i[a-t].value=e})):i.forEach((function(e,t){e.value=m[t]}))}break;default:$("input_"+t)&&($("input_"+t).value=o)}document.getElementById("id_"+e.qid)&&document.getElementById("id_"+e.qid).dispatchEvent(new Event("keyup"))}})),"cardform"===window.FORM_MODE)){var e=window.CardForm.cards;window.CardForm.checkCardsIfFilled(e)}},paymentExtrasOnTheFly:function(e){var t=this;e.length>0&&e.each((function(o){if(o)switch(o.type){case"control_paypalcomplete":case"control_chargify":if(!1!==t.hasQuestion(e,"control_email"))(n=$$('input[type="email"]'))[0].observe("blur",(function(e){e.target.value&&$$(".cc_email").length>0&&!1===$$(".cc_email")[0].disabled&&($$(".cc_email")[0].value=e.target.value)}));break;case"control_stripe":var r=$$('input[name="formID"]')[0].value;if(void 0!==JotForm.tempStripeCEForms&&JotForm.tempStripeCEForms.includes(r))break;if(!1!==t.hasQuestion(e,"control_email")){var n;if((n=$$('input[type="email"]')).length<=0)break;n[0].observe("blur",(function(e){e.target.value&&JotForm.stripe&&void 0!==JotForm.stripe&&JotForm.stripe.updateElementEmail(e.target.value)}))}break;case"control_mollie":var i=t.hasQuestion(e,"control_email"),a=t.hasQuestion(e,"control_address"),l=$$('.form-line[data-type="control_mollie"]')[0],s=$$('input[type="email"]');if(!1!==i&&s&&s.length>0){var c={};s[0].observe("blur",(function(e){if(l||(l=$$('.form-line[data-type="control_mollie"]')[0]),l&&"string"==typeof e.target.value){var t=l.select(".cc_email");t.length>0&&t.each((function(t){c[e.target.id]!==t.value&&0!==t.value.length||(t.value=e.target.value)})),c[e.target.id]=e.target.value}}))}var u=$$('.form-line[data-type="control_address"]');if(!1!==a&&u&&u.length>0){var d=$(u[0]).select("input, select"),m={};d.each((function(e){var t="INPUT"===e.nodeName?"blur":"change";e.observe(t,(function(e){if("string"==typeof e.target.value){var t=e.target.getAttribute("data-component"),o="";if(o="address_line_1"===t?"addr_line1":"address_line_2"===t?"addr_line2":"zip"===t?"postal":t){if(l||(l=$$('.form-line[data-type="control_mollie"]')[0]),!l)return;var r=l.select('[data-component="'+o+'"]');r.length>0&&r.each((function(t){m[e.target.id]!==t.value&&0!==t.value.length||(t.value=e.target.value)}))}m[e.target.id]=e.target.value}}))}))}}}))},setQuestionMasking:function(e,t,o,r){if(o||null!=o||r&&void 0!==r){r=r||!1;o=(o=(o=o.replace(/&#39;/g,"'")).replace(/\\/g,"")).replace(/9/g,"\\9").replace(/a/g,"\\a").replace(/A/g,"\\A");var n={"#":{validator:"[0-9]"}};"textMasking"===t&&Object.extend(n,{"@":{validator:"[A-Za-zА-яЁё一-鿿]"},"*":{validator:"[0-9A-Za-zА-яЁё一-鿿]"}});try{if(window.buildermode&&"card"===buildermode)return;e.hasOwnProperty("indexOf")&&e.indexOf("|")>-1&&(e=e.split("|")[0]+" [id*="+e.split("|")[1]+"]").indexOf("#input_")>-1&&(e=e.replace("input_","id_"));var i=document.querySelector(e);if(!i)return;if(r)return Inputmask.remove(i),i.removeAttribute("maskValue"),void(i.placeholder="");setTimeout((()=>{Inputmask.remove(i),Inputmask({placeholder:"_",autoclear:!1,definitions:n,mask:o,inputEventOnly:!0,postValidation:function(e,t,o,r){if(e.length){var n=e.indexOf("_");if(r)return{caret:(r||r&&r.c)&&r.pos+1};if(!r&&t>0)return{caret:n}}}}).mask(i),i.setAttribute("maskValue",o),i.addEventListener("input",(e=>e.target.dispatchEvent(new Event("change"))));var e="";function t(t){setTimeout((()=>{t.target.placeholder=e}),0)}i.addEventListener("mouseover",(function(t){e=t.target.placeholder})),i.addEventListener("mouseout",t),i.addEventListener("blur",t)}),0)}catch(e){console.log(e)}}},setInputTextMasking:function(e,t,o){setTimeout((function(){JotForm.setQuestionMasking("#"+e,"textMasking",t,o)}),10)},setPhoneMaskingValidator:function(e,t,o){setTimeout((function(){JotForm.setQuestionMasking("#"+e,"phoneMasking",t,o)}),10)},loadScript:function(){var e,t,o=arguments.length;arguments[o-1]instanceof Function?(o--,e=arguments[arguments.length-1]):e=function(){};for(var r=0;r<o;r++){if((t=document.createElement("script")).src=arguments[r],void 0!==t.addEventListener)t.addEventListener("load",e,!1),t.addEventListener("error",(function(){JotForm.errorCatcherLog({message:{src:t.src}},"JOTFORM_JS_LOAD_SCRIPT_ERROR")}));else{t.attachEvent("onreadystatechange",(function(){"loaded"==t.readyState&&e()}))}(document.head||document.getElementsByTagName("head")[0]).appendChild(t)}},loadStyleSheet:function(e,t){var o=document.createElement("link");o.setAttribute("id","form-css"),o.setAttribute("type","text/css"),o.setAttribute("rel","stylesheet"),o.setAttribute("href",e),(document.head||document.getElementsByTagName("head")[0]).appendChild(o),o.readyState?o.onreadystatechange=function(){"loaded"!=o.readyState&&"complete"!=o.readyState||(o.onreadystatechange=null,t&&t())}:navigator.userAgent.match(/safari/i)&&!navigator.userAgent.match(/chrome/i)?t&&t():o.onload=function(){t&&t()}},isStyleSheetLoaded:function(e){var t=!1,o=document.styleSheets;for(var r in o){var n=o[r];if(n.href&&~n.href.indexOf(e)){t=!0;break}}return t},track:function(e){const t=this;if(document.querySelectorAll("#event_tracking_image").length>0)return;const o=document.querySelector(".jotform-form"),r=o.getAttribute("id");let n,i;try{n=encodeURIComponent(document.referrer)}catch(e){n="undefined"}try{const e=new URLSearchParams(window.location.search).get("parentURL");i=e||encodeURIComponent(window.top.location.href)}catch(e){i="undefined"}const a=window.screen.height,l=window.screen.width;if(!r)return!1;var s,c;o&&location&&location.href&&-1==location.href.indexOf("&nofs")&&-1==location.href.indexOf("&sid")&&(s=function(e){let o="https://events.jotform.com/";void 0!==JotForm.enterprise&&JotForm.enterprise&&(o="https://"+JotForm.enterprise+"/events/"),t.jsForm?o+="jsform/":o+="form/";let s,c=o+r+"/";a&&l&&(s=l+"x"+a),c=c+"?ref="+encodeURIComponent(n),s&&(c=c+"&res="+encodeURIComponent(s)),e&&(c=c+"&eventID="+encodeURIComponent(e)),c=c+"&loc="+encodeURIComponent(i),JotForm&&JotForm.showJotFormPowered&&"new_footer"===JotForm.showJotFormPowered&&(c+="&seenBrandingFooter=1");const u=new Image;return u.id="event_tracking_image",u.ariaHidden="true",u.src=c,u.alt="jftr",u.style.display="none",u.width=1,u.height=1,u}(e),(c=o).parentNode.insertBefore(s,c.nextSibling))},additionalActionsFormEmbedded:function(){var e=this,t=getQuerystring("embeddedvia");if(t&&!("weebly"!==t||window.FORM_MODE&&"cardform"==window.FORM_MODE||e.isStyleSheetLoaded("mobile.responsive.min.css"))){e.loadStyleSheet("https://widgets.jotform.io/mobileResponsive/mobile.responsive.min.css",(function(){e.handleIFrameHeight()}))}},changeSubmitURL:function(e){if(e.length>0)for(var t=this.forms.length-1;t>=0;t--){var o=this.forms[t];o.action=o.action.replace(/\/\/submit\..*?\//,"//"+e+"/")}},handlePreview:function(e){$$("body")[0].setStyle({overflowX:"hidden"}),$A(JotForm.forms).each((function(t){var o=document.createElement("input");if(o.setAttribute("type","hidden"),o.setAttribute("name","preview"),o.value="true",t.appendChild(o),!0===e){var r=document.createElement("script");r.setAttribute("type","text/javascript"),r.setAttribute("src","//cdn.jotfor.ms/js/form-tester.js?rev="+(new Date).getTime()),t.appendChild(r)}}))},getClientCountry:function(e){new Ajax.Request("//china.jotfor.ms/opt/geo.ip.php",{evalJSON:"force",onComplete:function(t){200===t.status?e(t.responseJSON):e({country:""})}})},updateMatrixInputs:function(e,t){const o=document.getElementById("matrix_"+e),r=o.querySelector(".forDesktop"),n=o.querySelector(".forMobile");if("mobile"===t)var i=n,a=r;else i=r,a=n;i.querySelectorAll(".form-matrix-values").forEach((function(e){e.classList.remove("form-matrix-values"),e.classList.add("form-matrix-values-disabled")}));i.querySelectorAll("input, select").forEach((function(e){e.id.indexOf("disabled")<0&&(e.id+="_disabled",e.setAttribute("data-name",e.getAttribute("name")),e.removeAttribute("name"))}));n.querySelectorAll("input, select, label").forEach((function(e){const t=e.id;t&&-1!==t.indexOf("cancelled")&&(e.id=e.id.replace("_cancelled",""));const o=e.getAttribute("for");o&&-1!==o.indexOf("cancelled")&&e.setAttribute("for",o.replace("_cancelled",""))}));a.querySelectorAll(".form-matrix-values-disabled").forEach((function(e){e.classList.remove("form-matrix-values-disabled"),e.classList.add("form-matrix-values")}));a.querySelectorAll("input").forEach((function(e){e.id=e.id.replace("_disabled",""),e.getAttribute("data-name")&&(e.setAttribute("name",e.getAttribute("data-name")),e.removeAttribute("data-name"))})),i.classList.add("hidden-matrix"),a.classList.remove("hidden-matrix")},setMatrixLayout:function(e,t,o){if(t||JotForm.isVisible("id_"+e)){var r=document.getElementById("matrix_"+e);if($(r)){var n=$(r).select(".forDesktop")[0],i=$(r).select(".forMobile")[0],a=r.getAttribute("data-type");if(t||(n&&"none"!==n.getStyle("display")&&i?this.updateMatrixInputs(e,"mobile"):i&&"none"!==i.getStyle("display")&&n&&this.updateMatrixInputs(e,"desktop")),["Slider","Emoji Slider","Yes No"].indexOf(a)>-1&&n){var l=n.getElementsByClassName("jfMatrixLabelList-item"),s=n.getElementsByClassName("jfMatrixInputList-item");Array.prototype.forEach&&Array.prototype.forEach.call(l,(function(e,t){var o=s[t];o&&e&&("Yes No"===a&&(e.style.width="calc(100% - "+o.offsetWidth+"px)",o.style.width=""),o.style.height=e.offsetHeight+"px")}))}var c=$(r).select(".forMobile").length>0,u=["Slider","Emoji Slider"].indexOf(a)>-1;if(u&&c){var d=$(r).select(".slider")[0],m=$(r).select(".jfMobileMatrix-nextRow")[0],p=$(r).select(".jfMobileMatrix-prevRow")[0],f=$(r).select(".jfMobileMatrix-row"),h=$(r).select(".jfMobileMatrix-columnDot"),g=f.length,v=$(r).select(".jfMobileMatrix-row.isSelected")[0],y=parseInt(v.readAttribute("data-order"),10),F=!1,b=!1;h[y]&&h[y].addClassName("isActive");var w=d.querySelectorAll(".jfMatrixInputList-item"),_=function(){w[F].removeClassName("isHidden"),w[y].addClassName("isHidden"),h[y].removeClassName("isActive"),h[F].addClassName("isActive"),v=b,y=F};$(r).select(".jfMobileMatrix-prevRow")[0].observe("click",(function(){0!==y&&((b=f[F=y-1]).addClassName("isSelected"),v.removeClassName("isSelected"),0===F&&(p.disabled=!0),F>=g&&(m.disabled=!0),F<g-1&&(m.disabled=!1),_())})),$(r).select(".jfMobileMatrix-nextRow")[0].observe("click",(function(){(F=y+1)!==g&&((b=f[F]).addClassName("isSelected"),v.removeClassName("isSelected"),F>0&&(p.disabled=!1),F+1===g&&(m.disabled=!0),_())}))}if(!u){if($(r).select(".forDesktop").length>0){for(var E=r.getElementsByClassName("jfMatrixHeader-item"),S=r.getElementsByClassName("jfMatrixTable-cell"),J=1;J<E.length;J++){var C=S[J].down();if(E[J].getElementsByTagName("div")[0].getLayout().get("width")<5)var A=80;else A=E[J].getElementsByTagName("div")[0].getLayout().get("padding-box-width");C.style.minWidth=A+"px"}if(E&&E.length){E[0].getElementsByTagName("div")[0].style.width=S[0].getElementsByTagName("div")[0].getLayout().get("padding-box-width")+"px";var x=r.getElementsByClassName("jfMatrixTable")[0],k=r.getElementsByClassName("jfMatrixHeader")[0];x.addEventListener("scroll",(function(){k.scrollLeft=x.scrollLeft}))}}if(c){var T=function(e){var t=$(r).select(".jfMatrix-question"),o=$(r).select(".jfMobileMatrix-columnDot"),n=isBackEnabled=!0;t.each((function(t){t.removeClassName("isActive"),t.setAttribute("aria-hidden",!0),t.readAttribute("data-order")==e&&($(t).removeAttribute("aria-hidden"),$(t).addClassName("isActive"))})),o&&o.each((function(t){t.removeClassName("isActive"),t.setAttribute("aria-hidden",!0),t.readAttribute("data-order")==e&&($(t).addClassName("isActive"),$(t).removeAttribute("aria-hidden"))})),$(r).select(".jfMatrix-choiceWrapper").each((function(t){t.removeClassName("isActive"),t.setAttribute("aria-hidden",!0),t.readAttribute("data-order")==e&&($(t).addClassName("isActive"),$(t).removeAttribute("aria-hidden"))})),parseInt(e,10)===t.length-1?n=!1:0===parseInt(e,10)&&(isBackEnabled=!1),$(r).select(".forMatrixPrev").length>0&&($(r).select(".forMatrixPrev")[0].disabled=!isBackEnabled,$(r).select(".forMatrixPrev")[0].setAttribute("aria-hidden",!isBackEnabled)),$(r).select(".forMatrixNext").length>0&&($(r).select(".forMatrixNext")[0].disabled=!n,$(r).select(".forMatrixNext")[0].setAttribute("aria-hidden",!n)),$(r).select(".jfMatrixProgress-text span")[0].innerHTML=e+1};o&&T(o);var I=function(){$(this).stopObserving("click"),$(r).select(".jfMatrix-question");var e=parseInt($(r).select(".jfMatrix-question.isActive")[0].readAttribute("data-order"));e=parseInt(e,10)+1,T(e),$(this).observe("click",I)},D=function(){$(this).stopObserving("click"),$(r).select(".jfMatrix-question");var e=parseInt($(r).select(".jfMatrix-question.isActive")[0].readAttribute("data-order"));e=parseInt(e,10)-1,T(e),$(this).observe("click",D)};$(r).select(".forMatrixNext").length>0&&$(r).select(".forMatrixNext")[0].observe("click",I),$(r).select(".forMatrixPrev").length>0&&$(r).select(".forMatrixPrev")[0].observe("click",D);var q=function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e};t||i.hasClassName("hidden-matrix")||$(r).select("input").each((function(e){if("radio"==e.type&&"Yes No"!==a){var t=function(){if($(this).stopObserving("click"),!i.hasClassName("hidden-matrix")){var e=q(this,"jfMatrixChoice-table");if($(e)&&$(e).select(".jfMatrixChoice-row.isSelected")&&$(e).select(".jfMatrixChoice-row.isSelected").length>0)$(e).select(".jfMatrixChoice-row.isSelected")[0].removeClassName("isSelected");var o=q(this,"jfMatrixChoice-row");o&&o.addClassName("isSelected"),setTimeout((function(){var e=$(r).select(".jfMatrixProgress-button.forMatrixNext")[0];$(e)&&null==$(e).readAttribute("disabled")&&$(e).triggerEvent("click")}),500),$(this).observe("click",t)}};e.observe("click",t)}}))}}}}},setRatingLayout:function(e){if(document.getElementById("stage"))return null;"object"==typeof CardForm&&CardForm.layoutParams&&!1===CardForm.layoutParams.hasTouch&&(JotForm.accessible||JotForm.setRatingClickTransfer(e));const t=document.getElementById("rating_"+e);if(!t)return;const o=t.querySelector(".jfRating-shortcut-input"),r=t.querySelector(".jfRating-items"),n=t.querySelectorAll(".jfRating-input");JotForm.ratingFnQueues||(JotForm.ratingFnQueues=[]),JotForm.ratingFnQueues["fnQueue_"+e]||(JotForm.ratingFnQueues["fnQueue_"+e]=[]),r.addEventListener("click",(function(){"object"==typeof CardForm&&CardForm.layoutParams&&!1===CardForm.layoutParams.hasTouch&&(JotForm.accessible||o&&o.focus())})),o.addEventListener("keyup",(function(){let o=this.value;if(o){if(t.querySelectorAll(".jfRating-input:checked").length)var r=t.querySelector(".jfRating-input:checked").value;"-"===o&&(o=parseInt(r)-1),"+"===o&&(o=parseInt(r)+1),o=o.toString();var n=t.querySelector(".jfRating-input[value="+o+"]");n&&(n.checked="checked",JotForm.setRatingItemsChecked(e,o,r))}this.value=""})),n.forEach((function(o){o.addEventListener("mouseenter",(function(e){this.closest(".jfRating-item").classList.add("indicate");t.querySelectorAll(".jfRating-items .jfRating-item.jfRating-selection").forEach((function(t){if(parseInt(e.target.value,10)<parseInt(t.dataset.value,10))return!1;t.classList.add("indicate")}))})),o.addEventListener("mouseleave",(function(){n.forEach((function(e){e.closest(".jfRating-item").classList.remove("indicate")}))})),o.addEventListener("change",(function(){JotForm.setRatingItemsChecked(e,this.value)})),o.addEventListener("click",(function(){const r=t.getAttribute("data-old-value")===o.getAttribute("value"),i=t.querySelectorAll(".jfRating-selection");if(r&&i.length===n.length){for(let e=0;e<i.length;e++)n[e].checked=!1,i[e].classList.remove("checked");JotForm.ratingFnQueues["fnQueue_"+e]=[],t.querySelector(".form-textbox").value="",document.querySelector("#input_"+e).value="",t.removeAttribute("data-old-value"),JotForm.runConditionForId(e.toString())}}))}))},setRatingItemsChecked:function(e,t,o){const r=document.getElementById("rating_"+e);let n=r.querySelectorAll(".jfRating-selection");const i=!isNaN(t)&&parseInt(t);o=!isNaN(o)&&parseInt(o)||null;const a=r.querySelectorAll(".jfRating-input");let l=null;!o&&r.dataset.oldValue&&(o=r.dataset.oldValue),r.dataset.oldValue=t;var s={enqueue:function(t){JotForm.ratingFnQueues["fnQueue_"+e].push(t),null===l&&(l=setInterval((function(){s.processQueue()}),33))},processQueue:function(){"function"==typeof JotForm.ratingFnQueues["fnQueue_"+e][0]&&JotForm.ratingFnQueues["fnQueue_"+e][0](),JotForm.ratingFnQueues["fnQueue_"+e].shift(),0===JotForm.ratingFnQueues["fnQueue_"+e].length&&(clearInterval(l),l=null)}};a.forEach((function(e){e.closest(".jfRating-item").classList.remove("indicate")})),(o<i||null===o)&&n.forEach((function(e){if(e.dataset){const t=e.dataset.value;if(t){if(parseInt(t)>parseInt(this.value))return!1;s.enqueue((function(){e.classList.add("checked")}))}}}),{value:t}),o&&o>i&&(n=Array.from(n).reverse(),n.forEach((function(e){if(e.dataset){const t=e.dataset.value;if(t){if(t<=this.value)return!1;s.enqueue((function(){e.classList.remove("checked")}))}}}),{value:t})),document.querySelector("#input_"+e).value=t;r.querySelector(".form-textbox").value=parseInt(t,10),JotForm.runConditionForId(e.toString())},setRatingClickTransfer:function(){},getScrollbarWidth:function(e){var t=document.createElement("div");t.style.visibility="hidden",t.style.width="100px",t.style.msOverflowStyle="scrollbar",e.appendChild(t);var o=t.offsetWidth;t.style.overflow="scroll";var r=document.createElement("div");r.style.width="100%",t.appendChild(r);var n=r.offsetWidth;return t.parentNode.removeChild(t),o-n},getOptionOtherInput:function(e){if(!e||!e.classList.contains("form-"+e.type+"-other"))return null;const t=".form-"+e.type+"-item",o=e.closest(t);if(o){const t=".form-"+e.type+"-other-input";return o.querySelector(t)}},setFullNameAutoFocus:function(e){document.querySelector(`#prefix_${e}`).addEventListener("change",(()=>{setTimeout((function(){document.querySelector(`#first_${e}`).focus()}),500)}))},initShoppingBag:function(){},initProductPages:function(){},initDonation:function(){},customToQueryParams:function(e,t){var o=e.strip().match(/[^#&?]*?=[^#&?]*/g);return o&&o[1]?o[1].split(t||"&").inject({},(function(e,t){if((t=t.split("="))[0]){var o=decodeURIComponent(t.shift()),r=t.length>1?t.join("="):t[0];if(null!=r)try{r=decodeURIComponent(r)}catch(e){r=unescape(r)}o in e?(Object.isArray(e[o])||(e[o]=[e[o]]),e[o].push(r)):e[o]=r}return e})):{}},loadEmbedStyle:function(e,t){try{t=JSON.parse(t)}catch(e){t={}}if(window.parent!==window&&!(window.location.href.indexOf("disableSmartEmbed")>-1)){var o=document.getElementById("form-css");if(o){var r=document.createElement("a");r.href=o.href;var n=r.search.toQueryParams(),i=n.embedUrl||document.URL,a=getMD5(i);["resetSmartStyle","clearSmartStyle","clearInlineStyle"].each((function(e){var t=new RegExp("&?"+e+"(?:=[0-9]*)?").exec(i);if(t&&t[0]){i=i.replace(t[0],"");var o=t[0].replace("&","").split("=");n[o[0]]=void 0!==o[1]?o[1]:"1"}})),n.embedUrl&&delete n.embedUrl,n=Object.toQueryString(n),n+=(""!==n?"&":"")+"embedUrl="+i,pathname=r.pathname.split(".css")[0]+"/"+a+".css",pathname="/"===pathname.charAt(0)?pathname.slice(1):pathname;var l=r.protocol+"//"+r.hostname+"/"+pathname+"?"+n;this.loadStyleSheet(l,(function(){var r=(t[a]||{}).inlineStyle||{};void 0!==r.embedHeight&&window.parent.postMessage("setHeight:"+r.embedHeight+":"+e,"*"),o.remove()}))}}},_xdr:function(e,t,o,r,n,i){var a;XMLHttpRequest?JotForm.createXHRRequest(e,t,o,r,n,void 0,i):XDomainRequest?((a=new XDomainRequest).open(t,e),a.onerror=n,a.onload=function(){r(a.responseText)},a.send(o)):n(new Error("CORS not supported"))},createXHRRequest:function(e,t,o,r,n,i,a){var l=new XMLHttpRequest;i&&(l.withCredentials=!0),"withCredentials"in l&&(l.open(t,e,!0),l.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a&&l.setRequestHeader("Cache-Control","no-cache, no-store, max-age=0"),l.onerror=n,l.onreadystatechange=function(){if(4===l.readyState)if(l.status>=200&&l.status<400)try{var a=JSON.parse(l.responseText);if([400,404,401,503,301].indexOf(a.responseCode)>-1)return 301===a.responseCode?(e=e.replace("api.","eu-api."),void JotForm.createXHRRequest(e,t,o,r,n,i)):void n(a.message,a.responseCode);r(a)}catch(e){n(new Error("Error: "+e))}else n(new Error("Response returned with non-OK status"))},l.send(o))},serialize:function(e){var t=[];for(var o in e)t.push(encodeURIComponent(o)+"="+encodeURIComponent(e[o]));return t.join("&")},preparePOST:function(e,t){for(var o in postData=new Object,e)value=e[o],t&&(-1!==o.indexOf("_")&&(keys=o.split("_"),o=keys[0]+"]["+keys[1]),o="["+o+"]"),postData[t+o]=value;return postData},getPrefillToken:function(){if(void 0!==document.get.prefillToken)return document.get.prefillToken;var e=window.location.pathname.split("/").splice(2);return"prefill"===e[0]&&e[1].split("?")[0]},livePrefillTokenSuffixes:["6c70","6c71"],isLivePrefillToken:function(e){return!!e&&(window.JotForm.livePrefillEnabled&&36===e.length&&JotForm.livePrefillTokenSuffixes.includes(e.slice(-4)))},setupFormSettledEvent:()=>{const e=!!JotForm.getPrefillToken(),t=!(!window.JFForm||!window.JFForm.draftID),o=!!document.querySelector("[data-type=control_appointment]");let r=0+Number(t)+Number(e)+Number(o);const n=()=>{0===r?(document.dispatchEvent(new Event("FormSettled")),window.parent.postMessage("formSettled","*"),document.removeEventListener("PrefillCompleted",n),document.removeEventListener("SACLCompleted",n),document.removeEventListener("AppointmentSettled",n)):r--};e&&document.addEventListener("PrefillCompleted",n),t&&document.addEventListener("SACLCompleted",n),o&&document.addEventListener("AppointmentSettled",n),n()},initPrefills:function(){var e=JotForm.getPrefillToken(),t="1"==getQuerystring("jf_createPrefill");if(e&&!JotForm.isLivePrefillToken(e)){var o=document.querySelector("form"),r=["January","February","March","April","May","June","July","August","September","October","November","December"],n="cardform"===window.FORM_MODE,i=JotForm.server+"?action=getPrefillData&formID="+o.id+"&key="+e,a={};JotForm.createXHRRequest(i,"get",null,(function(e){try{$H(e.data).each((function(o){!0===o.value?o.value="true":!1===o.value&&(o.value="false");var i=Array.isArray(o.value);if(("string"==typeof o.value||i)&&!(i?0===o.value.length:""===o.value.trim())){var l,s="1"==getQuerystring("useQuestionID")||e.settings&&e.settings.useQuestionID,c=$(o.key);if(s){var u=o.key.split("-");c=null!==(l=document.querySelector("#id_"+u[0]))?l.querySelector(u[1]?'[id*="'+u[1]+'"]':"input, select, textarea"):null}if(null===c){var d=o.key.split("_"),m=parseInt(d.pop())-1;d.push(m);var p=d.join("_");if(null===(c=$(p))){var f="";o.key.indexOf("hour_")>-1?(f=o.key.replace("hour_",""),c=$("input_"+f+"_hourSelect")):o.key.indexOf("min_")>-1?(f=o.key.replace("min_",""),c=$("input_"+f+"_minuteSelect")):o.key.indexOf("_ampm")>-1&&(f=o.key.substring(o.key.indexOf("input_")+6,o.key.lastIndexOf("_ampm")),c=$("ampm_"+f))}}if(null!==c){l||(l=c.up("li.form-line"));var h=c.name;if(h=h.slice(h.indexOf("_")+1),void 0===document.get[h]){"checkbox"===c.type&&(h=h.replace("[]",""));var g=u&&"lite_mode"===u[1],v=l.getAttribute("data-type"),y=o.value;if(o.key.includes("month")&&r.indexOf(o.value)>-1&&(y=r.indexOf(o.value)+1),-1===["control_radio","control_checkbox"].indexOf(v)&&i&&(y=y.join(",")),"control_radio"!==v||i||(y=[y]),["control_time","control_datetime"].indexOf(v)>-1&&(!n||g)&&(c.value=y,s&&(c.triggerEvent("blur"),c.triggerEvent("complete"))),["control_datetime","control_time"].indexOf(v)>-1){o.key.indexOf("hour")>-1&&"0"===y.charAt(0)&&(y=y.substring(1),c.value=y);var F=l.down('input[id*="_timeInput"]');if(F){var b=l.down('input[id*="_hourSelect"]').value,w=l.down('input[id*="_minuteSelect"]').value;if(b&&w){var _=1===b.toString().length?"0"+b:b;F.value=_+":"+w,F.triggerEvent("change")}}}if("control_inline"===v&&c.up('.FITB-inptCont[data-type="datebox"]')){var E=c.up('.FITB-inptCont[data-type="datebox"]'),S=E.id;if(o.key.indexOf("lite_mode_")>-1&&S){var J=e.data[S.replace("id_","day_")],C=e.data[S.replace("id_","month_")],A=e.data[S.replace("id_","year_")];J&&C&&A&&JotForm.formatDate({date:new Date(A,C-1,J),dateField:E})}}else["control_radio","control_checkbox"].indexOf(v)>-1&&Array.isArray(y)?JotForm.onTranslationsFetch((function(){var e=[];l.querySelectorAll("input.form-checkbox:not(.form-checkbox-other), input.form-radio:not(.form-radio-other)").forEach((function(t){var o=[t.value];"undefined"!=typeof FormTranslation&&Object.values(FormTranslation.dictionary).length>1&&Object.values(FormTranslation.dictionary).forEach((function(e){e[t.value]&&o.push(e[t.value])}));const r=e=>e.replace(/&nbsp;|\u00A0/g," "),n=y.map(r).find((function(e){return o.map(r).indexOf(e)>-1||t.dataset&&t.dataset.calcvalue===e}));if(void 0!==n){if(e.push(n),t.checked)return;var i=!!t.disabled&&!!t.enable();t.click(),i&&t.disable()}}));var t=l.querySelector(".form-checkbox-other, .form-radio-other"),o=l.querySelector(".form-checkbox-other-input, .form-radio-other-input");if(t&&o){var r=y.reduce((function(t,o){return-1===e.indexOf(o)&&t.push(o),t}),[]);if(0===r.length)return;var n=!!t.disabled&&!!t.enable();t.click(),n&&t.disable(),o.value=r.join(",")}})):["control_dropdown"].indexOf(v)>-1?a[h]=y.replace(/\+/g,"{+}"):a[h]=y;if(e.settings&&"readonly"===e.settings.fieldBehaviour&&!t)if(["radio","checkbox"].indexOf(c.type)>-1){f=l.getAttribute("id").split("_")[1];JotForm.enableDisableField(f,!1)}else{if("Yes"===c.getAttribute("data-richtext")){var x=c.previousElementSibling.firstChild;x&&(x.setAttribute("contenteditable","false"),setTimeout((function(){x.innerHTML=o.value}),1e3))}c.disable(),c.setAttribute("autocomplete",h),c.hasClassName("conditionallyDisabled")||c.addClassName("conditionallyDisabled")}}}}})),JotForm.prePopulations(a,!0),JotForm.onTranslationsFetch(s)}catch(e){console.log(e)}}),(function(e){console.log(e),s()}));var l=document.createElement("input");l.setAttribute("type","hidden"),l.setAttribute("name","prefill_token"),l.value=e,o.appendChild(l)}function s(){if(document.createEvent){var e=document.createEvent("CustomEvent");e.initEvent("PrefillCompleted",!1,!1),document.dispatchEvent(e)}}},createManualPrefill:function(){if("1"==getQuerystring("jf_createPrefill")){var e=setInterval((function(){window.ErrorNavigation&&(clearInterval(e),window.ErrorNavigation.disableScrollToBottom())}),300);$$("head")[0].insert('<style id="manualPrefillStyles">.formUserAccountBoxContainer, .draftSelectionModalOverlay, .jfFormUser-header { display: none !important; }</style>'),JotForm.conditions=[],JotForm.fieldConditions={},$$(".always-hidden, .form-field-hidden").each((function(e){var t=e.getAttribute("id").split("_")[1];JotForm.showField(t)}));var t=["control_fullname","control_email","control_address","control_phone","control_email","control_datetime","control_inline","control_textbox","control_textarea","control_dropdown","control_radio","control_checkbox","control_number","control_time","control_spinner","control_scale","control_button","control_pagebreak"];$$(".form-line").each((function(e){var o=e.getAttribute("data-type"),r=e.getAttribute("id").split("_")[1];if(JotForm.requireField(r,!1),t.indexOf(o)>-1)e.select("input, textarea, select").each((function(e){e.hasAttribute("readonly")&&e.removeAttribute("readonly"),e.hasAttribute("disabled")&&e.removeAttribute("disabled")}));else{var n="Prefill isn't available for this field.";if("cardform"===window.FORM_MODE){(e.querySelector(".jfCard-question")||e).setStyle({"pointer-events":"none",opacity:"0.3"});var i=e.querySelector(".jfCard-actionsNotification"),a=i.querySelector(".form-error-message");a?(a.innerHTML=n,a.setStyle({display:"block"})):((a=document.createElement("div")).className="form-error-message",a.setStyle({display:"block"}),a.innerHTML=n,i.appendChild(a))}else{var l=e.querySelector('div[class^="form-input"]'),s=e.querySelector(".form-label");l&&l.setStyle({"pointer-events":"none",opacity:"0.3"}),s&&s.setStyle({"pointer-events":"none",opacity:"0.3"});var c=e.querySelector(".form-description-content");c?c.innerHTML=n:JotForm.description(r,n),(JotForm.newDefaultTheme||JotForm.extendsNewTheme)&&e.querySelector(".form-description").setStyle({bottom:"auto",top:"0",maxWidth:"220px"})}}})),$$(".form-submit-button").each((function(e){e.setStyle({"pointer-events":"none",opacity:"0.3"})})),window.addEventListener("message",(function(e){if("jfManual_prefill"===e.data.source&&("getFieldsData"===e.data.action||"getFieldsDataForSharing"===e.data.action)){var o={},r=!1,n="",i=[],a=document.querySelectorAll(".form-line"),l="",s="",c=!1;a.forEach((function(e){var a=e.getAttribute("data-type");-1!==t.indexOf(a)&&(c||(c=e.hasClassName("form-line-error")),e.querySelectorAll("input, select, textarea").forEach((function(t){var c=t.value.trim();if(!(""==c||["control_scale","control_radio","control_checkbox"].indexOf(a)>-1&&!t.checked)&&("control_inline"!==a||"radio"!==t.getAttribute("type")||t.checked)){if("control_checkbox"===a)return n=n||t.id,void i.push(c);if(t.classList.contains("form-dropdown")&&t.hasAttribute("multiple"))return n=n||t.id,void(i=function(e){for(var t,o=[],r=e&&e.options,n=0,i=r.length;n<i;n++)(t=r[n]).selected&&o.push(t.value||t.text);return o}(t));if(t.id.includes("ampm")){var u=t.id.includes("Range");if(!e.querySelectorAll('input[id*="_timeInput"], select[id*="hour"], select[id*="min"]').filter((function(e){return e.id.includes("Range")&&u||!e.id.includes("Range")&&!u})).every((function(e){return e.value})))return}o[t.id]=t.value,"control_fullname"!==a||r||(l=l?l+" "+c:c),"control_email"!==a||s||(s=c)}})),r||"control_fullname"!==a||(r=!0),n&&i&&(o[n]=i),n="",i=[])}));var u="getFieldsDataForSharing"===e.data.action?"jfManual_prefill_forShare":"jfManual_prefill";e.source.postMessage({source:u,formData:{hasErrors:c},prefillData:{fieldMapping:o,fullname:l,email:s}},e.origin)}}),!1)}},handleWorkflowInternalForm(e){try{if(e||"object"==typeof document.get){e||(e={});var t=document.querySelector('input[type="hidden"][name="workflowTaskID"]'),o=document.querySelector('input[type="hidden"][name="workflowToken"]');if(!t||!o)return;JotForm.createXHRRequest(JotForm.getAPIEndpoint()+"/workflow/task/"+t.value+"?token="+o.value,"GET",null,(function(e){if("ACTIVE"!==(e&&e.content&&"object"==typeof e.content?e.content:{}).status)return console.log("Task not active, reloading."),void window.location.reload(!0)}),(function(e){console.log(e)}),!1,!0)}}catch(e){console.log("Error handleWorkflowInternalForm",e)}},adjustWorkflowFeatures:function(e){try{if(e||"object"==typeof document.get){e||(e={});var t=!1,o=e.taskID||document.get.taskID,r=!!(JotForm&&JotForm.forms&&JotForm.forms[0])&&JotForm.forms[0];if(!o||!r)return;var n="1"==(e.requestMoreInfo||document.get.requestMoreInfo);switch(!0){case"1"==(e.workflowAssignFormTask||document.get.workflowAssignFormTask):t="assign-form";break;case n:t="request-more-info"}if(!t)return;r.appendChild(createHiddenInputElement({name:"wfTaskID",value:o})),r.appendChild(createHiddenInputElement({name:"wfTaskType",value:t}))}}catch(e){console.log("Error adjusting wf variables",e)}},onTranslationsFetch:function(e){"undefined"==typeof FormTranslation||1===FormTranslation.version||FormTranslation.to?e():setTimeout((function(){JotForm.onTranslationsFetch(e)}),100)},onLanguageChange:function(e){var t=document.querySelector("#langDd");t&&t.addEventListener("click",(function(){e()}))},removeFileForMobile:function(e){if(e.qid){var t=!1,o=window.filesForMobile["q"+e.qid];o.forEach((function(r,n){r&&r.fileName===e.fileNameToDelete&&!t&&(o.splice(n,1),t=!0)}))}},removeFile:function(e){if(!e.fileElement||!e.fileName)return;const t=e.fileElement.closest(".form-line").id.split("_")[1];window.sendMessageToJFMobile&&JotForm.removeFileForMobile({qid:t,fileName:e.fileName}),e.fileElement.parentNode.removeChild(e.fileElement),JotForm.corrected(e.fileElement),JotForm.runConditionForId(t)},sendFormOpenId:function(e,t){try{var o=e.id;if(parseInt(o,10)%10!=4||JotForm.isEditMode())return;var r=e.querySelector('[name="formOpenId_V5"]');if(!r)return;navigator.sendBeacon(JotForm.getAPIEndpoint()+"/form/"+e.id+"/event/"+r.value+"/"+t,{})}catch(e){console.log("unexpected behaviour",e)}},setDataCSSSelector:function(){const e=document.querySelectorAll("li.form-line, li.form-input-wide");e&&e.length>0&&e.forEach((e=>{const t=e.getAttribute("id");if(t){const o=t.includes("cid")?t.slice(1):t;e.setAttribute("data-css-selector",o)}}))}};function getMD5(e){function t(e,t){return e<<t|e>>>32-t}function o(e,t){var o,r,n,i,a;return n=2147483648&e,i=2147483648&t,a=(1073741823&e)+(1073741823&t),(o=1073741824&e)&(r=1073741824&t)?2147483648^a^n^i:o|r?1073741824&a?3221225472^a^n^i:1073741824^a^n^i:a^n^i}function r(e,r,n,i,a,l,s){return e=o(e,o(o(function(e,t,o){return e&t|~e&o}(r,n,i),a),s)),o(t(e,l),r)}function n(e,r,n,i,a,l,s){return e=o(e,o(o(function(e,t,o){return e&o|t&~o}(r,n,i),a),s)),o(t(e,l),r)}function i(e,r,n,i,a,l,s){return e=o(e,o(o(function(e,t,o){return e^t^o}(r,n,i),a),s)),o(t(e,l),r)}function a(e,r,n,i,a,l,s){return e=o(e,o(o(function(e,t,o){return t^(e|~o)}(r,n,i),a),s)),o(t(e,l),r)}function l(e){var t,o="",r="";for(t=0;t<=3;t++)o+=(r="0"+(e>>>8*t&255).toString(16)).substr(r.length-2,2);return o}var s,c,u,d,m,p,f,h,g,v=Array();for(v=function(e){for(var t,o=e.length,r=o+8,n=16*((r-r%64)/64+1),i=Array(n-1),a=0,l=0;l<o;)a=l%4*8,i[t=(l-l%4)/4]=i[t]|e.charCodeAt(l)<<a,l++;return a=l%4*8,i[t=(l-l%4)/4]=i[t]|128<<a,i[n-2]=o<<3,i[n-1]=o>>>29,i}(e=function(e){e=e.replace(/rn/g,"n");for(var t="",o=0;o<e.length;o++){var r=e.charCodeAt(o);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}(e)),p=1732584193,f=4023233417,h=2562383102,g=271733878,s=0;s<v.length;s+=16)c=p,u=f,d=h,m=g,p=r(p,f,h,g,v[s+0],7,3614090360),g=r(g,p,f,h,v[s+1],12,3905402710),h=r(h,g,p,f,v[s+2],17,606105819),f=r(f,h,g,p,v[s+3],22,3250441966),p=r(p,f,h,g,v[s+4],7,4118548399),g=r(g,p,f,h,v[s+5],12,1200080426),h=r(h,g,p,f,v[s+6],17,2821735955),f=r(f,h,g,p,v[s+7],22,4249261313),p=r(p,f,h,g,v[s+8],7,1770035416),g=r(g,p,f,h,v[s+9],12,2336552879),h=r(h,g,p,f,v[s+10],17,4294925233),f=r(f,h,g,p,v[s+11],22,2304563134),p=r(p,f,h,g,v[s+12],7,1804603682),g=r(g,p,f,h,v[s+13],12,4254626195),h=r(h,g,p,f,v[s+14],17,2792965006),p=n(p,f=r(f,h,g,p,v[s+15],22,1236535329),h,g,v[s+1],5,4129170786),g=n(g,p,f,h,v[s+6],9,3225465664),h=n(h,g,p,f,v[s+11],14,643717713),f=n(f,h,g,p,v[s+0],20,3921069994),p=n(p,f,h,g,v[s+5],5,3593408605),g=n(g,p,f,h,v[s+10],9,38016083),h=n(h,g,p,f,v[s+15],14,3634488961),f=n(f,h,g,p,v[s+4],20,3889429448),p=n(p,f,h,g,v[s+9],5,568446438),g=n(g,p,f,h,v[s+14],9,3275163606),h=n(h,g,p,f,v[s+3],14,4107603335),f=n(f,h,g,p,v[s+8],20,1163531501),p=n(p,f,h,g,v[s+13],5,2850285829),g=n(g,p,f,h,v[s+2],9,4243563512),h=n(h,g,p,f,v[s+7],14,1735328473),p=i(p,f=n(f,h,g,p,v[s+12],20,2368359562),h,g,v[s+5],4,4294588738),g=i(g,p,f,h,v[s+8],11,2272392833),h=i(h,g,p,f,v[s+11],16,1839030562),f=i(f,h,g,p,v[s+14],23,4259657740),p=i(p,f,h,g,v[s+1],4,2763975236),g=i(g,p,f,h,v[s+4],11,1272893353),h=i(h,g,p,f,v[s+7],16,4139469664),f=i(f,h,g,p,v[s+10],23,3200236656),p=i(p,f,h,g,v[s+13],4,681279174),g=i(g,p,f,h,v[s+0],11,3936430074),h=i(h,g,p,f,v[s+3],16,3572445317),f=i(f,h,g,p,v[s+6],23,76029189),p=i(p,f,h,g,v[s+9],4,3654602809),g=i(g,p,f,h,v[s+12],11,3873151461),h=i(h,g,p,f,v[s+15],16,530742520),p=a(p,f=i(f,h,g,p,v[s+2],23,3299628645),h,g,v[s+0],6,4096336452),g=a(g,p,f,h,v[s+7],10,1126891415),h=a(h,g,p,f,v[s+14],15,2878612391),f=a(f,h,g,p,v[s+5],21,4237533241),p=a(p,f,h,g,v[s+12],6,1700485571),g=a(g,p,f,h,v[s+3],10,2399980690),h=a(h,g,p,f,v[s+10],15,4293915773),f=a(f,h,g,p,v[s+1],21,2240044497),p=a(p,f,h,g,v[s+8],6,1873313359),g=a(g,p,f,h,v[s+15],10,4264355552),h=a(h,g,p,f,v[s+6],15,2734768916),f=a(f,h,g,p,v[s+13],21,1309151649),p=a(p,f,h,g,v[s+4],6,4149444226),g=a(g,p,f,h,v[s+11],10,3174756917),h=a(h,g,p,f,v[s+2],15,718787259),f=a(f,h,g,p,v[s+9],21,3951481745),p=o(p,c),f=o(f,u),h=o(h,d),g=o(g,m);return(l(p)+l(f)+l(h)+l(g)).toLowerCase()}function getQuerystring(e,t){null==t&&(t=""),e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var o=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.href);return null==o?t:o[1]}function onProductImageClicked(e,t){void 0===t&&(t=!1);var o=!1;$$(".image-overlay-image")[0]&&(o=!0);var r,n,i=$$(".form-overlay-item"),a=[];i=i.filter((function(e){return"true"===e.getAttribute("hasimages")||"true"===e.getAttribute("hasicon")||!!(e.querySelector("img")&&!e.querySelector("img").src.indexOf("noImage-placeholder.svg")>-1)}));for(var l=0;l<i.length;l++)if(i[l].getAttribute("pid")&&i[l].getAttribute("pid")===e){n=l;break}if(o){i[n]&&("true"===i[n].getAttribute("hasimages")?r=i[n].getElementsByTagName("img"):"false"===i[n].getAttribute("hasimages")&&"true"===i[n].getAttribute("hasicon")&&(r=[i[n].getAttribute("iconValue")]));for(l=0;l<r.length;l++)a.push(r[l].src||r[l])}else document.querySelector(".form-overlay-item img")?a.push(document.querySelectorAll(".form-overlay-item img")[n].src):document.querySelectorAll(".form-product-item img")&&a.push(document.querySelectorAll(".form-product-item img")[n].src);if(!0===t&&void 0!==n)try{var s,c=document.querySelectorAll(".form-product-item");Array.from(c).forEach((function(e){e.addEventListener("click",(function(){s=e.getBoundingClientRect().y}))})),setTimeout((function(){var e=document.querySelector("#productImageOverlay .overlay-content"),t=e.getHeight(),o=s-t/2;o<0?o=s:s+t/2>window.innerHeight&&(o=s-t+92),e.style.top=o.toString()+"px"}),0)}catch(e){console.log("Ground")}if(o&&0===a.length&&a.push(document.querySelectorAll(".form-overlay-item img")[n].src),a&&a.length){var u=document.createElement("div"),d=document.createElement("div"),m=document.createElement("div"),p=document.createElement("div"),f=document.createElement("ul");u.id="productImageOverlay",u.className=o?"overlay new_ui":"overlay old_ui",u.tabIndex=-1,d.className="overlay-content",m.className="img-wrapper",p.className="slider-navigation",u.appendChild(d),d.appendChild(m),d.appendChild(p),o&&p.appendChild(f);var h=document.createElement("small"),g=document.createElement("small"),v=document.createElement("button");v.innerText="X",h.className="lb-prev-button",g.className="lb-next-button",v.className="lb-close-button",v.setAttribute("tabindex",0),m.appendChild(h),m.appendChild(g),d.appendChild(v);var y=a.map((function(e){var t=document.createElement("span");return t.setAttribute("style",'background-image: url("'+encodeURI(e)+'"); display: none'),t.setAttribute("url",encodeURI(e)),t}));y[0].style.display="block";var F=0,b=y.length,w=function(e){y[F].style.display="none",f.childElements()[F].classList.remove("selected"),y[F=e].style.display="block",f.childElements()[e].classList.add("selected")};y.each((function(e,t){if(m.appendChild(e),y.length>1){d.hasClassName("has_thumbnail")||d.addClassName("has_thumbnail");var o=document.createElement("li");o.onclick=w.bind(this,t),o.setAttribute("style",'background-image: url("'+e.getAttribute("url")+'")'),0===t&&(o.className="selected"),f.appendChild(o)}}));var _=function(){y[F].style.display="none",-1==(F-=1)&&(F=b-1),y[F].style.display="block",f.childElements().each((function(e,t){e.className=F===t?"selected":""}))};h.onclick=_;var E=function(){y[F].style.display="none",(F+=1)==b&&(F=0),y[F].style.display="block",f.childElements().each((function(e,t){e.className=F===t?"selected":""}))};g.onclick=E,d.onclick=function(e){e.stopPropagation()};var S=function(){window.onresize=null,u.remove()};v.onclick=S,u.onclick=S,u.onkeydown=function(e){e.stopPropagation(),e.preventDefault(),37==e.keyCode||38==e.keyCode?_():39==e.keyCode||40==e.keyCode?E():27==e.keyCode&&u.remove()},document.body.appendChild(u),u.focus()}}function isIframeEmbedForm(){try{return window.self!==window.top&&window.location.href.indexOf("isIframeEmbed")>-1}catch(e){return!1}}function isEditEmbedForm(){try{return window.self!==window.top&&window.location.href.indexOf("isEditFormApp")>-1}catch(e){return!1}}function isIframeEmbedFormPure(){try{return window.self!==window.top}catch(e){return!1}}function isIframeEmbedFormForCanva(){try{return"https://canva-embed.com/"===document.referrer}catch(e){return!1}}function callIframeHeightCaller(){JotForm.iframeHeightCaller&&JotForm.iframeHeightCaller()}if(isIframeEmbedForm()&&(document.querySelector("html").addClassName("isIframeEmbed"),window.addEventListener("resize",callIframeHeightCaller),window.addEventListener("DOMContentLoaded",callIframeHeightCaller)),isEditEmbedForm()&&document.querySelector("html").addClassName("isEditFormApp"),isIframeEmbedFormPure()){var formHtmlElement=document.querySelector("html").addClassName("isEmbeded");isIframeEmbedFormForCanva()&&formHtmlElement.addClassName("canvaEmbeded"),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll("img[loading=lazy]").forEach((function(e){e.addEventListener("load",callIframeHeightCaller)}))}))}function setEncryptedValue(e){var t=e.field,o=e.encryptedValue,r=t.closest("li.form-line");if(r){var n=r.readAttribute("data-type");if(!(t.hasAttribute("data-encrypted-answer")&&"true"==t.getAttribute("data-encrypted-answer")))if(t.dataset.encryptedAnswer="true","control_textarea"!=n){var i="control_mixed"===n&&"email"===t.type;if(-1!==["control_number","control_spinner","control_email","control_dropdown","control_datetime","control_matrix","control_birthdate","control_time","control_scale","control_rating"].indexOf(n)||"SELECT"==t.tagName||i){if("control_scale"==n&&!t.checked)return;return appendHiddenInput(t.name,o),void("control_matrix"===n&&(t.name=""))}if(t.getAttribute("data-masked")){var a=t.getAttribute("maskvalue");JotForm.setQuestionMasking(`#${t.id}`,"",a,!0)}var l=["month","day","year"].some((function(e){if(t&&t.id)return t.id.indexOf(e)>=0}));(t.getAttribute("data-format")||!0===l)&&(t.inputmask&&t.inputmask.remove&&t.inputmask.remove(),t.setAttribute("placeholder","")),"number"===t.type&&(t.type="text"),"control_textbox"===n&&(t=JotForm.removeValidations(t,"(Alphabetic|AlphaNumeric|Currency|Cyrillic|Email|Numeric|Url)")),t.value=o}else document.querySelectorAll('[name="'+t.name+'"]').forEach((function(e){e.value=o}))}}function IsValidJsonString(e){try{JSON.parse(e)}catch(e){return!1}return!0}function hasExludedEncryptWidgets(e){return e.match(/^data:image/gi)||!!~e.indexOf("widget_metadata")||IsValidJsonString(e)}function getFieldsToEncrypt(){var e=["control_captcha","control_paypal","control_stripe","control_stripeCheckout","control_stripeACH","control_stripeACHManual","control_2co","control_paypalexpress","control_authnet","control_paypalpro","control_braintree","control_dwolla","control_payment","control_paymentwall","control_square","control_boxpayment","control_eway","control_bluepay","control_worldpay","control_firstdata","control_paypalInvoicing","control_payjunction","control_worldpayus","control_chargify","control_cardconnect","control_echeck","control_bluesnap","control_payu","control_payuMoney","control_pagseguro","control_moneris","control_sofort","control_skrill","control_sensepass","control_paysafe","control_iyzico","control_gocardless","control_mollie","control_paypalSPB","control_cybersource","control_paypalcomplete","control_payfast"],t=[];return document.querySelectorAll(".form-textbox, .form-textarea, .form-radio, .form-checkbox, .form-dropdown, .form-number-input, .form-hidden.form-widget").forEach((function(o){var r=o.closest("li.form-line");if(r){var n=r.readAttribute("data-type");if(-1===e.indexOf(n)){var i=["checkbox","radio"].include(o.type);i&&!o.checked||"control_matrix"===n&&i||!o.value&&"control_matrix"!==n||o.value&&o.value.length>300&&o.value.indexOf("==")==o.value.length-2||"control_textarea"===n&&o.disabled||"control_widget"===n&&hasExludedEncryptWidgets(o.value)||t.push(o)}}})),t}function setUnencryptedValueToForm(e){var t=JotForm.uniqueField&&JotForm.uniqueField==e.id.replace(/\w+_(\d+)(.+)?/,"$1");void 0!==window.unencryptPaymentField&&unencryptPaymentField();var o=e.id.replace(/[^_]+_(\d+)(.+)?/,"$1");(JotForm.fieldsToPreserve.indexOf(o)>-1||t)&&appendHiddenInput(e.name.replace(/(\w+)(\[\w+\])?/,"$1_unencrypted$2"),e.value)}function createHiddenInputElement(e){var t=document.createElement("input");return t.type="hidden",Object.keys(e||{}).forEach((function(o){t[o]=e[o]})),t}function appendHiddenInput(e,t,o){var r=document.querySelector(".jotform-form");if(r)return r.appendChild(createHiddenInputElement(Object.assign({name:e,value:t},o||{})))}function trackExecution(e){var t=document.querySelector(".jotform-form");if(t){var o=t.querySelector('[name="jsExecutionTracker"]');o?o.value+="=>"+e+":"+(new Date).getTime():(appendHiddenInput("jsExecutionTracker","restarted:"+(new Date).getTime()),trackExecution(e))}}function trackSubmitSource(e){$A(document.forms).each((function(t){if(t.name==="form_"+t.id){var o=t.querySelector('[name="submitSource"]');o?o.value=e:appendHiddenInput("submitSource",e)}}))}function trackSubmitDate(){const e=Date.now();$A(document.forms).each((function(t){if(t.name==="form_"+t.id){var o=t.querySelector('[name="submitDate"]');o?o.value=e:appendHiddenInput("submitDate",e)}}))}function unencryptPaymentField(){var e=$$('input[name="simple_fpc"]').length>0&&["paypalcomplete","square"].indexOf($$('input[name="simple_fpc"]')[0].getAttribute("data-payment_type"))>-1,t=[{type:"phone",pattern:/Phone|Contact/i},{type:"email",pattern:/email|mail|e-mail/i},{type:"company",pattern:/company|organization/i}];const o=$$('.form-line[data-type*="email"],.form-line[data-type*="textbox"],.form-line[data-type*="phone"],.form-line[data-type*="dropdown"],.form-line[data-type*="radio"]').sort((function(e,t){return Number(e.id.replace("id_",""))-Number(t.id.replace("id_",""))}));if(e){var r=$$('input[name="simple_fpc"]')[0].value,n={};o.each((function(e){var o=e.id.replace("id_",""),r=e.getAttribute("data-type").replace("control_","");t.each((function(t){if(r===t.type&&Object.keys(n).length<3){var i=e.down("label").innerHTML.strip();t.pattern.exec(i)&&!n[t.type]&&(n[t.type]=o,-1===JotForm.fieldsToPreserve.indexOf(o)&&JotForm.fieldsToPreserve.push(o))}}))})),JotForm.fieldsToPreserve.push(r+"_cc_firstName"),JotForm.fieldsToPreserve.push(r+"_cc_lastName")}}function shouldSubmitFormAfterEncrypt(){var e=["control_stripe","control_braintree","control_square","control_eway","control_bluepay","control_mollie","control_stripeACHManual","control_pagseguro","control_moneris","control_paypalcomplete"];"sensepass"===JotForm.payment&&"Yes"===JotForm.isDirectFlow&&e.push("control_sensepass");var t=!1;document.querySelectorAll(".form-textbox, .form-textarea, .form-radio, .form-checkbox, .form-dropdown, .form-number-input").forEach((function(o){var r=o.closest("li.form-line");if(r){var n=r.readAttribute("data-type");t||(t=e.indexOf(n)>-1)}}));var o=!0;return t&&JotForm.paymentTotal>0&&JotForm.isPaymentSelected()&&(o=!1),o}function addEncryptionKeyToForm(e){document.querySelector('input[name="submissionEncryptionKey"]')||appendHiddenInput("submissionEncryptionKey",e)}function attachCaptchaVisibilityObserver(e){if(e.invisibleCaptchaStyleObserverAttached)return;let t=document.querySelector('div:not(.grecaptcha-logo) > iframe[src*="google.com/recaptcha"]');if(t=t&&t.parentElement&&t.parentElement.parentElement,!t)return void console.log("couldn't find recaptcha element");new MutationObserver((()=>{"hidden"===t.style.visibility?JotForm.enableButtons():"visible"===t.style.visibility&&window.parent!==window&&t.scrollIntoView()})).observe(t,{attributes:!0,attributeFilter:["style"]}),e.invisibleCaptchaStyleObserverAttached=!0}function generateUUID(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o="",r=0;r<7;r++){var n=Math.floor(62*Math.random());o+=t.substring(n,n+1)}return 1*new Date+"_"+e+"_"+o}function putChatIDInForm(e){window.addEventListener("message",(({data:t,origin:o})=>{if(o===e&&t&&"string"==typeof t.chatID&&t.chatID)try{const e=t.chatID,o=createHiddenInputElement({name:"agentHelperChatID",value:e}),r=document.querySelector("form.jotform-form");if(!r)return;r.appendChild(o),window.agentHelperChatID=e}catch(e){console.error(e)}}))}function nameInputListenerForAssistantTooltip(){try{const e=document.querySelector('li[data-type="control_fullname"]');if(!e)return;const t=e.getAttribute("id").replace("id_",""),o=e.querySelector(`#first_${t}`);let r;const n=()=>{clearTimeout(r)},i=e=>{clearTimeout(r),r=setTimeout((()=>{const t=e.target.value;if(!t)return;const r=`${t.charAt(0).toUpperCase()}${t.slice(1)}`;try{if(window.embeddedAgentMethods&&window.embeddedAgentMethods.showUserGreetingTooltip&&window.embeddedAgentMethods.postMessageToAgent){const e=r.trim().split(" ")[0];window.embeddedAgentMethods.showUserGreetingTooltip({userName:e,interval:6e4,timeoutForEachTooltip:4e3}),window.embeddedAgentMethods.postMessageToAgent({action:"greet-user",text:e},"*")}}catch(e){}o.removeEventListener("blur",i),o.removeEventListener("focus",n)}),5e3)};o.addEventListener("blur",i),o.addEventListener("focus",n)}catch(e){console.log(e)}}calculateTimeToSubmit=function(){var e=document.querySelector(".jotform-form");if(e){var t=(new Date).getTime(),o=e.querySelector('[name="timeToSubmit"]');if(o?(trackExecution("interval-existed"),appendHiddenInput("timeToSubmitExisted",o.value+"-bfcache-"+!!JotForm.fromBFCache),o.value=0):(appendHiddenInput("timeToSubmit",0),o=e.querySelector('[name="timeToSubmit"]')),o)var r=setInterval((function(){var e=Math.round(((new Date).getTime()-t)/1e3);Number(o.value)>=20?(trackExecution("interval-complete"),clearInterval(r)):o.value=e}),1e3)}},testSubmitFunction=function(){trackExecution("onsubmit-fired"),trackSubmitSource("onsubmit")},window.fbAsyncInit=JotForm.FBInit.bind(JotForm);var Calendar=Class.create();function handlePopupUI(e,t){var o="",r="",n=e.container,i=n.querySelector(".title"),a=n.querySelector(".nextYear"),l=n.querySelector(".previousYear"),s=n.querySelector(".nextMonth"),c=n.querySelector(".previousMonth");if(t&&(e.container.style.width=t.width+"px"),i&&a&&s&&l&&c){var u=i.textContent.split(" ");o=u.slice(0,u.length-1).join(" "),r=u[u.length-1];var d=n.querySelectorAll(".calendar-new-header");if(d&&d.length>0)for(var m=0;m<d.length;m++)d[m].remove();var p=document.createElement("div");p.classList.add("calendar-new-header"),p.innerHTML='<div class="calendar-new-month"><span>'+o+'</span></div><div class="calendar-new-year">'+r+"</div>",i.parentNode.insertAdjacentElement("beforebegin",p);var f=p.querySelector(".calendar-new-month"),h=p.querySelector(".calendar-new-year");if(f.appendChild(c),f.appendChild(s),s.setAttribute("aria-label","Next Month, current month is "+o),c.setAttribute("aria-label","Previous Month, current month is "+o),a.setAttribute("aria-label","Next Year, current year is "+r),l.setAttribute("aria-label","Previous Year, current year is "+r),h.appendChild(l),h.appendChild(a),i.style.display="none",e.triggerElement&&e.triggerInputElement){var g=new Date(e.triggerInputElement.value),v=isNaN(g)?"Choose Date":"Change date, "+g.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});e.triggerElement.setAttribute("aria-label",v)}}}Calendar.VERSION="1.2",Calendar.DAY_NAMES=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Calendar.MID_DAY_NAMES=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Calendar.SHORT_DAY_NAMES=["S","M","T","W","T","F","S","S"],Calendar.MONTH_NAMES=["January","February","March","April","May","June","July","August","September","October","November","December"],Calendar.TODAY="Today",Calendar.SHORT_MONTH_NAMES=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Calendar.NAV_PREVIOUS_YEAR=-2,Calendar.NAV_PREVIOUS_MONTH=-1,Calendar.NAV_TODAY=0,Calendar.NAV_NEXT_MONTH=1,Calendar.NAV_NEXT_YEAR=2,Calendar._checkCalendar=function(e){if(!window._popupCalendar)return!1;if(!Element.descendantOf(Event.element(e),window._popupCalendar.container))if(window._popupCalendar.isNewTheme&&Element.descendantOf(Event.element(e),window._popupCalendar.triggerElement)||Event.element(e)===window._popupCalendar.triggerElement)e.preventDefault();else if(!window._popupCalendar.isNewTheme||Event.element(e)!==window._popupCalendar.triggerInputElement)return window._popupCalendar.callCloseHandler(),Event.stop(e)},Calendar.handleMouseDownEvent=function(e){Event.observe(document,"mouseup",Calendar.handleMouseUpEvent),Event.stop(e)},Calendar.handleMouseUpEvent=function(e,t){var o=Event.element(e),r=o.calendar,n=!1;if(!r)return!1;if(r.setTranslatedMonths(r.id),r.shouldClose=!1,o.hasClassName("unselectable"))return!1;if(void 0===o.navAction){r.currentDateElement&&(Element.removeClassName(r.currentDateElement,"selected"),r.currentDateElement.setAttribute("tabindex",-1),r.currentDateElement.setAttribute("aria-selected",!1),Element.addClassName(o,"selected"),o.setAttribute("tabindex",0),o.setAttribute("aria-selected",!0),r.shouldClose=r.currentDateElement==o,r.shouldClose||(r.currentDateElement=o)),r.date.setDateOnly(o.date),n=!0,r.shouldClose=!o.hasClassName("otherDay"),!r.shouldClose&&r.update(r.date),r.triggerElement&&"Enter"===t&&r.triggerElement.focus()}else{var i=new Date(r.date);o.navAction==Calendar.NAV_TODAY&&i.setDateOnly(new Date),o&&n&&setTimeout((function(){o.focus()}),0);var a=i.getFullYear(),l=i.getMonth();function s(e){var t=i.getDate(),o=i.getMonthDays(e);t>o&&i.setDate(o),i.setMonth(e)}switch(o.navAction){case Calendar.NAV_PREVIOUS_YEAR:a>r.minYear&&i.setFullYear(a-1);break;case Calendar.NAV_PREVIOUS_MONTH:l>0?s(l-1):a-- >r.minYear&&(i.setFullYear(a),s(11));break;case Calendar.NAV_TODAY:break;case Calendar.NAV_NEXT_MONTH:l<11?s(l+1):a<r.maxYear&&(i.setFullYear(a+1),s(0));break;case Calendar.NAV_NEXT_YEAR:a<r.maxYear&&i.setFullYear(a+1)}i.equalsTo(r.date)?0===o.navAction&&(n=r.shouldClose=!0):(r.setDate(i),n=!0),r.checkPastAndFuture()}return n&&e&&r.callSelectHandler(),r.shouldClose&&" "!==t&&e&&r.callCloseHandler(),Event.stopObserving(document,"mouseup",Calendar.handleMouseUpEvent),Event.stop(e)},Calendar.defaultSelectHandler=function(e){if(!e.dateField)return!1;"DIV"==e.dateField.tagName?Element.update(e.dateField,e.date.print(e.dateFormat)):"INPUT"==e.dateField.tagName&&(e.dateField.value=e.date.print(e.dateFormat)),"function"==typeof e.dateField.onchange&&e.dateField.onchange(),e.shouldClose&&e.callCloseHandler()},Calendar.defaultCloseHandler=function(e){e.hide()},Calendar.setup=function(e){function t(t,o){e[t]||(e[t]=o)}Calendar.params=e,t("dateField",null),t("triggerElement",null),t("parentElement",null),t("selectHandler",null),t("closeHandler",null);var o=$(e.triggerElement||e.dateField),r="v2"===o.getAttribute("data-version"),n=o.className.indexOf("icon-liteMode")>-1,i="Yes"===o.getAttribute("data-allow-time"),a=o.getAttribute("data-qtype")||null,l=o.className.indexOf("showAutoCalendar")>-1,s=o.parentElement,c=o.className.indexOf("icon-liteMode")>-1;if(c&&(o.setAttribute("aria-label","Choose Date"),o.setAttribute("aria-hidden",!1),o.setAttribute("role","button"),o.setAttribute("tabindex",0),o.setAttribute("aria-haspopup","dialog"),o.setAttribute("aria-expanded",!1)),n&&!i||(s=s.parentElement),e.parentElement){(u=new Calendar(e.parentElement,e.id)).setTranslatedMonths(e.id),u.setSelectHandler(e.selectHandler||Calendar.defaultSelectHandler),e.dateFormat&&u.setDateFormat(e.dateFormat),e.dateField&&(u.setDateField(e.dateField),u.parseDate(u.dateField.innerHTML||u.dateField.value)),e.startOnMonday&&(u.startOnMonday=!0,u.create($(e.parentElement))),u.limits=e.limits,u.limits&&(u.fixCustomLimits(),u.setDynamicLimits(),u.update(u.date),u.checkPastAndFuture()),u.show()}else{var u;(u=new Calendar(void 0,e.id)).setTranslatedMonths(e.id);var d=o.previousElementSibling;function m(){"none"!==u.container.style.display?(u.callCloseHandler(),setTimeout((function(){i?c?u.showAtElement(s.querySelector('input[id*="lite_mode_"]')):u.showAtElement(s.querySelector('input[id*="month_"]')):u.showAtElement(s.querySelector("span input"))}),0)):u.callCloseHandler()}r&&(u.isNewTheme=r,u.triggerElement=o,u.triggerInputElement=d),u.limits=e.limits,u.limits&&(u.fixCustomLimits(),u.setDynamicLimits()),u.setSelectHandler(e.selectHandler||Calendar.defaultSelectHandler),u.setCloseHandler(e.closeHandler||Calendar.defaultCloseHandler),u.startOnMonday=e.startOnMonday,e.dateFormat&&u.setDateFormat(e.dateFormat),e.dateField&&(u.setDateField(e.dateField),u.parseDate(u.dateField.innerHTML||u.dateField.value)),e.dateField&&Date.parseDate(u.dateField.value||u.dateField.innerHTML,u.dateFormat),a&&u.container.setAttribute("data-qtype",a),r&&(n&&!i||(u.container.className+=" extended"),u.container.setAttribute("data-version","v2"),handlePopupUI(u,{width:s.offsetWidth})),o.onclick=p,o.addEventListener("keydown",(e=>{e.stopPropagation(),"Enter"===e.key|" "===e.key&&p(e)}));n=o.className.indexOf("seperatedMode")>-1;function p(e){if(u.dateField&&(u.dateField.disabled||u.dateField.hasClassName("conditionallyDisabled")))return!1;if(r){if("none"!==u.container.style.display)return void u.callCloseHandler();if(handlePopupUI(u,{width:s.offsetWidth}),i?c?u.showAtElement(s.querySelector('input[id*="lite_mode_"]')):u.showAtElement(s.querySelector('input[id*="month_"]')):(c&&s.querySelector("span input").addClassName("calendar-opened"),u.showAtElement(s.querySelector("span input"))),!l){var t=u.container.querySelector("td.selected");t.setAttribute("tabindex",0),t.focus()}}else u.showAtElement(o);return r&&(window.onorientationchange=m),u}r&&!n&&l&&(d.onclick=p),u.limits&&(u.update(u.date),u.checkPastAndFuture()),u.startOnMonday&&(u.update(u.date),u.create(void 0,e.id))}try{var f=function(){if(u.dateField.id){var e=u.dateField.id.replace("year_","");if(!$("month_"+e))return new Date;e&&(u.id=e);var t=$("month_"+e)?parseInt($("month_"+e).value)-1:-1,o=$("day_"+e).value,r=$("year_"+e).value;if(t>-1&&o&&""!==o&&r&&""!==r){var n=new Date(r,t,o,0,0,0);u.date.equalsTo(n)||(u.date=n,u.update(u.date))}}};f(),u.dateField.up("li").observe("date:changed",(function(){f(),r&&handlePopupUI(u)}))}catch(h){console.log(h)}return u},Calendar.prototype={container:null,selectHandler:null,closeHandler:null,id:null,minYear:1900,maxYear:2100,dateFormat:"%Y-%m-%d",date:new Date,currentDateElement:null,shouldClose:!1,isPopup:!0,dateField:null,startOnMonday:!1,initialize:function(e,t){e?this.create($(e),t):this.create(void 0,t)},fixCustomLimits:function(){var e=function(e){if(e.indexOf("today")>-1)return e;var t=e.toString().split("-");return e="",t.length>2&&(e+=(2===t[0].length?"20"+t[0]:t[0])+"-"),t.length>1&&(e+=JotForm.addZeros(t[t.length-2],2)+"-"),e+=JotForm.addZeros(t[t.length-1],2)},t=this.limits;if("custom"in t&&!1!==t.custom&&t.custom instanceof Array)for(var o=0;o<t.custom.length;o++)t.custom[o]&&(t.custom[o]=e(t.custom[o]));if("ranges"in t&&!1!==t.ranges&&t.ranges instanceof Array)for(o=0;o<t.ranges.length;o++)if(t.ranges[o]&&-1!==t.ranges[o].indexOf(">")){var r=t.ranges[o].split(">"),n=e(r[0]),i=e(r[1]);t.ranges[o]=n+">"+i}},setDynamicLimits:function(){var e=function(e){var o=e.indexOf("today")>-1?/today/:new RegExp(Calendar.TODAY.trim(),"i");if(o.test(e)){var r=new Date,n=parseInt(e.replace(/\s/g,"").split(o)[1])||0;r.setDate(r.getDate()+n);return t.countSelectedDaysOnly&&r.setDate(r.getDate()+function(){for(var e=new Date,o=0;e<=r;){var n=e.toLocaleDateString("en-US",{weekday:"long"}).toLowerCase();void 0!==t.days[n]&&!1===t.days[n]&&o++,e.setDate(e.getDate()+1)}return o}()),r.getFullYear()+"-"+JotForm.addZeros(r.getMonth()+1,2)+"-"+JotForm.addZeros(r.getDate(),2)}return e},t=this.limits;if(t.start=e(t.start),t.end=e(t.end),"custom"in t&&!1!==t.custom&&t.custom instanceof Array)for(var o=0;o<t.custom.length;o++)t.custom[o]&&(t.custom[o]=e(t.custom[o]));if("ranges"in t&&!1!==t.ranges&&t.ranges instanceof Array)for(o=0;o<t.ranges.length;o++)if(t.ranges[o]&&-1!==t.ranges[o].indexOf(">")){var r=t.ranges[o].split(">");start=e(r[0]),end=e(r[1]),t.ranges[o]=start+">"+end}},update:function(e){var t=this,o=new Date,r=o.getFullYear(),n=o.getMonth(),i=o.getDate(),a=e.getMonth(),l=e.getDate();if(this.date=new Date(e),e.setDate(1),t.startOnMonday?e.setDate(-e.getDay()-5):e.setDate(1-e.getDay()),setTimeout(function(){this.id&&this.container.setAttribute("id","calendar_"+this.id)}.bind(this),0),Element.getElementsBySelector(this.container,"tbody tr").each((function(o,s){var c=!1;o.immediateDescendants().each((function(o,u){var d=e.getDate(),m=e.getDay(),p=e.getMonth()==a;o.className="",o.date=new Date(e),o.update(d);var f=o.date.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});o.setAttribute("aria-label",f),o.setAttribute("data-date",o.date.toLocaleDateString("en-US")),o.setAttribute("tabindex",-1),o.setAttribute("aria-selected",!1),p?c=!0:o.addClassName("otherDay"),p&&d==l&&(o.addClassName("selected"),o.setAttribute("tabindex",0),o.setAttribute("aria-selected",!0),t.currentDateElement=o);var h=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],g=function(){e.getFullYear()==r&&e.getMonth()==n&&d==i&&$$(".todayButton").length>0&&($$(".todayButton").first().setStyle({color:"white"}),$$(".todayButton").first().addClassName("unselectable")),o.setOpacity(.5),o.addClassName("unselectable"),o.removeAttribute("tabindex")};if(t.limits){var v=t.limits;if(o.setOpacity(1),o.removeClassName("unselectable"),h[s]in v.days&&0==v.days[h[m]]&&g(),"future"in v&&!1===v.future){var y=new Date;e>y&&g()}if("past"in v&&!1===v.past){y=new Date;var F=new Date;F.setDate(y.getDate()-1),e<F&&g()}if("start"in v&&0!=v.start&&""!=v.start){var b=!1;if(v.start.indexOf("{")>-1)b=JotForm.dateFromField(v.start);else 3==(A=v.start.split("-")).length&&(b=new Date(A[0],A[1]-1,A[2]));e<b&&g()}if("end"in v&&0!=v.end&&""!=v.end){if(v.end.indexOf("{")>-1)w=JotForm.dateFromField(v.end);else if(3==($=v.end.split("-")).length)var w=new Date($[0],$[1]-1,$[2]);if(w){var _=new Date(w);_.setDate(w.getDate()+1),e>=_&&g()}}if("custom"in v&&!1!==v.custom&&v.custom instanceof Array)for(u=0;u<v.custom.length;u++)if(v.custom[u]){var E=e.getMonth()+1;E=E<10?"0"+E:E;var S=d<10?"0"+d:d;if(v.custom[u].indexOf("{")>-1){var J=JotForm.dateFromField(v.custom[u]);(J=JotForm.addZeros(J.getFullYear(),2)+"-"+JotForm.addZeros(J.getMonth()+1,2)+"-"+JotForm.addZeros(J.getDate(),2))===e.getFullYear()+"-"+E+"-"+S&&g()}(v.custom[u]===e.getFullYear()+"-"+E+"-"+S||"string"==typeof v.custom[u]&&5===v.custom[u].length&&v.custom[u]===E+"-"+S||"string"==typeof v.custom[u]&&2===v.custom[u].length&&v.custom[u]==S)&&g()}if("ranges"in v&&!1!==v.ranges&&v.ranges instanceof Array)for(u=0;u<v.ranges.length;u++)if(v.ranges[u]&&-1!==v.ranges[u].indexOf(">")){var C=v.ranges[u].split(">"),A=C[0],$=C[1];A.indexOf("{")>-1?b=JotForm.dateFromField(A):(b=A.split("-"),b=new Date(b[0],b[1]-1,b[2],0,0,0)),$.indexOf("{")>-1?w=JotForm.dateFromField($):(w=$.split("-"),w=new Date(w[0],w[1]-1,w[2],0,0,0)),w&&(w.setDate(w.getDate()+1),e>=b&&e<w&&g())}}e.getFullYear()==r&&e.getMonth()==n&&d==i&&o.addClassName("today"),-1!=[0,6].indexOf(m)&&o.addClassName("weekend"),e.setDate(d+1)})),c?o.show():o.hide()})),JotForm.isSourceTeam||JotForm.isMarvelTeam){var s=this.container.querySelector(".titleMonth");s&&(s.innerText=Calendar.MONTH_NAMES[a]);var c=this.container.querySelector(".titleYear");c&&(c.innerText=this.date.getFullYear())}else this.container.getElementsBySelector("td.title")[0].update(Calendar.MONTH_NAMES[a]+" "+this.date.getFullYear())},checkPastAndFuture:function(){var e=new Date,t=e.getFullYear(),o=e.getMonth(),r=this.date.getFullYear(),n=this.date.getMonth(),i="v2"===this.container.getAttribute("data-version"),a=function(e){i||e.setStyle({color:"transparent"}),e.addClassName("unselectable")},l=function(e){i||e.setStyle({color:"#f9621a"}),e.removeClassName("unselectable")};this.limits&&("future"in this.limits&&!1===this.limits.future&&(r>=t?a(this.container.down(".nextYear")):l(this.container.down(".nextYear")),r>=t&&n>=o?a(this.container.down(".nextMonth")):l(this.container.down(".nextMonth"))),"past"in this.limits&&!1===this.limits.past&&(r<=t?a(this.container.down(".previousYear")):l(this.container.down(".previousYear")),r<=t&&n<=o?a(this.container.down(".previousMonth")):l(this.container.down(".previousMonth"))))},setNames:function(e){Calendar.DAY_NAMES=JotForm.calendarViewDaysTranslated&&JotForm.calendarViewDaysTranslated[e]||JotForm.calenderViewDays&&JotForm.calenderViewDays[e]||JotForm.calendarDays||Calendar.DAY_NAMES;for(var t=0;t<=7;t++)Calendar.SHORT_DAY_NAMES[t]=Calendar.DAY_NAMES[t%Calendar.DAY_NAMES.length].substring(0,1).toUpperCase();JotForm.calendarTodayTranslated?Calendar.TODAY=JotForm.calendarTodayTranslated:JotForm.calendarOther&&JotForm.calendarOther.today&&(Calendar.TODAY=JotForm.calendarOther.today)},setTranslatedMonths:function(e){Calendar.MONTH_NAMES=JotForm.calendarViewMonthsTranslated&&JotForm.calendarViewMonthsTranslated[e]||JotForm.calenderViewMonths&&JotForm.calenderViewMonths[e]||JotForm.calendarMonths||Calendar.MONTH_NAMES},create:function(e,t){this.setNames(t),e?this.isPopup=!1:(e=document.getElementsByTagName("body")[0],this.isPopup=!0);var o=this.table?this.table.update(""):new Element("table",{role:"grid"});this.table=o;var r=new Element("thead");if(o.appendChild(r),!JotForm.isSourceTeam&&!JotForm.isMarvelTeam){var n=new Element("tr"),i=new Element("td",{colSpan:7});i.addClassName("title"),n.appendChild(i),r.appendChild(n)}n=new Element("tr");var a=document.querySelectorAll('.calendar.popup[data-version="v2"]');a&&a.length>0?(this._drawButtonCell(n,'&#x00ab;<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" class="w-32 h-32"><path fill-rule="evenodd" d="M4.293 8.293a1 1 0 0 1 1.414 0L12 14.586l6.293-6.293a1 1 0 1 1 1.414 1.414l-7 7a1 1 0 0 1-1.414 0l-7-7a1 1 0 0 1 0-1.414Z" clip-rule="evenodd"></path></svg>',1,Calendar.NAV_PREVIOUS_YEAR,"previousYear"),this._drawButtonCell(n,'&#x2039;<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" class="w-32 h-32"><path fill-rule="evenodd" d="M4.293 8.293a1 1 0 0 1 1.414 0L12 14.586l6.293-6.293a1 1 0 1 1 1.414 1.414l-7 7a1 1 0 0 1-1.414 0l-7-7a1 1 0 0 1 0-1.414Z" clip-rule="evenodd"></path></svg>',1,Calendar.NAV_PREVIOUS_MONTH,"previousMonth"),this._drawButtonCell(n,Calendar.TODAY,3,Calendar.NAV_TODAY,"todayButton"),this._drawButtonCell(n,'&#x203a;<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" class="w-32 h-32"><path fill-rule="evenodd" d="M11.293 7.293a1 1 0 0 1 1.414 0l7 7a1 1 0 0 1-1.414 1.414L12 9.414l-6.293 6.293a1 1 0 0 1-1.414-1.414l7-7Z" clip-rule="evenodd"></path></svg>',1,Calendar.NAV_NEXT_MONTH,"nextMonth"),this._drawButtonCell(n,'&#x00bb;<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" class="w-32 h-32"><path fill-rule="evenodd" d="M11.293 7.293a1 1 0 0 1 1.414 0l7 7a1 1 0 0 1-1.414 1.414L12 9.414l-6.293 6.293a1 1 0 0 1-1.414-1.414l7-7Z" clip-rule="evenodd"></path></svg>',1,Calendar.NAV_NEXT_YEAR,"nextYear"),o&&o.addClassName("calendar-new-header-withSVG")):(this._drawButtonCell(n,"&#x00ab;",1,Calendar.NAV_PREVIOUS_YEAR,"previousYear","Previous Year"),this._drawButtonCell(n,"&#x2039;",1,Calendar.NAV_PREVIOUS_MONTH,"previousMonth","Previous Month"),this._drawButtonCell(n,Calendar.TODAY,3,Calendar.NAV_TODAY,"todayButton","Today"),this._drawButtonCell(n,"&#x203a;",1,Calendar.NAV_NEXT_MONTH,"nextMonth","Next Month"),this._drawButtonCell(n,"&#x00bb;",1,Calendar.NAV_NEXT_YEAR,"nextYear","Next Year")),r.appendChild(n),n=new Element("tr");for(var l=this.startOnMonday?1:0,s=this.startOnMonday?7:6,c=l;c<=s;++c)i=new Element("th").update(Calendar.SHORT_DAY_NAMES[c]),c!==l&&c!=s||i.addClassName("weekend"),n.appendChild(i);r.appendChild(n);var u=o.appendChild(new Element("tbody"));for(c=7;c>0;--c){(n=u.appendChild(new Element("tr"))).addClassName("days");for(var d=7;d>0;--d)(i=n.appendChild(new Element("td",{tabindex:-1,"aria-selected":!1}))).calendar=this}var m=this.container&&this.container.hasClassName("extended");this.container=new Element("div"),this.container.setAttribute("aria-hidden",!0),this.container.setAttribute("role","dialog"),this.container.setAttribute("aria-modal",!0),this.container.setAttribute("tabindex",-1),this.container.setAttribute("aria-label","Choose Date"),this.container.addClassName("calendar"),this.isPopup&&(this.container.setStyle({position:"absolute",display:"none"}),this.container.addClassName("popup")),m&&this.container.addClassName("extended"),this.container.appendChild(o),this.update(this.date),Event.observe(this.container,"mousedown",Calendar.handleMouseDownEvent),e.appendChild(this.container)},_drawButtonCell:function(e,t,o,r,n,i=""){var a=new Element("td"),l=new Element("button");return o>1&&(a.colSpan=o),l.className="button"+(n?" "+n:""),l.calendar=this,l.navAction=r,l.innerHTML=t,l.ariaLabel=i,l.unselectable="on",a.appendChild(l),e.appendChild(a),a},_drawButtonCellasDiv:function(e,t,o,r,n){var i=new Element("div");return o>1&&(i.colSpan=o),i.className="button"+(n?" "+n:""),i.calendar=this,i.navAction=r,i.innerHTML=t,i.unselectable="on",e.appendChild(i),i},callSelectHandler:function(){this.selectHandler&&(this.selectHandler(this,this.date.print(this.dateFormat)),"v2"===this.container.getAttribute("data-version")&&handlePopupUI(this))},callCloseHandler:function(){this.closeHandler&&this.closeHandler(this)},handleDayKeydown:function(e){var t=document.activeElement.getAttribute("data-date"),o=this.container,r=!!document.activeElement.closest(".calendar-new-header")&&document.activeElement,n=o.querySelectorAll(".days td:not(.unslectable)"),i=Array.from(n).findIndex((e=>e.getAttribute("data-date")===t));if(o&&this.triggerElement){if("Escape"===e.key)return this.triggerElement.focus(),void this.hide();if("Tab"===e.key&&!e.shiftKey&&o&&t&&o.focus(),e.shiftKey&&"Tab"===e.key){const r=o.querySelector(".previousMonth"),n=o.querySelector(".nextYear");document.activeElement===r&&this.currentDateElement&&setTimeout((()=>{this.currentDateElement.focus()}),0),t&&(e.preventDefault(),n.focus())}"Enter"!==e.key&&" "!==e.key||(t&&"Enter"===e.key&&(this.triggerElement.focus(),this.hide()),Calendar.handleMouseUpEvent(e,e.key),r&&r.focus());var a={ArrowRight:[i+1,0],ArrowDown:[i+7,0],ArrowLeft:[i-1,n.length-1],ArrowUp:[i-7,n.length-1]};if(a[e.key]&&t){var l=a[e.key],s=l[0],c=l[1];n[s]?n[s].focus():n[c].focus()}}},makeAccessible:function(){this.container.setAttribute("aria-hidden",!1),this.triggerElement&&this.triggerElement.setAttribute("aria-expanded",!0),this.update(this.date),document.addEventListener("keydown",this.handleDayKeydown)},show:function(){this.container.show(),this.handleDayKeydown=this.handleDayKeydown.bind(this),this.makeAccessible=this.makeAccessible.bind(this),this.makeAccessible(),this.isPopup&&(window._popupCalendar=this,Event.observe(document,"mousedown",Calendar._checkCalendar),Event.observe(document,"touchstart",Calendar._checkCalendar))},showAt:function(e,t){this.show(),this.container.setStyle({left:e+"px",top:t+"px"})},showAtElement:function(e){var t=e.up("span").down("input")||e.up("div").down("input");!1===t.up("div").visible()&&(t=e);var o=Position.cumulativeOffset(t),r=o[0]+40,n=o[1]+100+t.getHeight();if(e.id.match(/_pick$/)){var i=Position.cumulativeOffset(e),a=i[0]-140;a>r&&(r=a),n=i[1]+100+e.getHeight()}this.showAt(r,n)},hide:function(){this.isPopup&&(Event.stopObserving(document,"mousedown",Calendar._checkCalendar),Event.stopObserving(document,"touchstart",Calendar._checkCalendar)),document.removeEventListener("keydown",this.handleDayKeydown),this.container.hide(),this.container.setAttribute("aria-hidden",!0),this.triggerElement&&this.triggerElement.setAttribute("aria-expanded",!1)},parseDate:function(e,t){t||(t=this.dateFormat),this.setDate(Date.parseDate(e,t))},setSelectHandler:function(e){this.selectHandler=e},setCloseHandler:function(e){this.closeHandler=e},setDate:function(e){e.equalsTo(this.date)||(this.update(e),"v2"===this.container.getAttribute("data-version")&&handlePopupUI(this))},setDateFormat:function(e){this.dateFormat=e},setDateField:function(e){this.dateField=$(e)},setRange:function(e,t){this.minYear=e,this.maxYear=t}},window._popupCalendar=null,Date.DAYS_IN_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31],Date.SECOND=1e3,Date.MINUTE=60*Date.SECOND,Date.HOUR=60*Date.MINUTE,Date.DAY=24*Date.HOUR,Date.WEEK=7*Date.DAY,Date.parseDate=function(e,t){var o=new Date,r=0,n=-1,i=0,a=e.split(/\W+/),l=t.match(/%./g),s=0,c=0,u=0,d=0;for(s=0;s<a.length;++s)if(a[s])switch(l[s]){case"%d":case"%e":i=parseInt(a[s],10);break;case"%m":n=parseInt(a[s],10)-1;break;case"%Y":case"%y":(r=parseInt(a[s],10))<100&&(r+=r>29?1900:2e3);break;case"%b":case"%B":for(c=0;c<12;++c)if(Calendar.MONTH_NAMES[c].substr(0,a[s].length).toLowerCase()==a[s].toLowerCase()){n=c;break}break;case"%H":case"%I":case"%k":case"%l":u=parseInt(a[s],10);break;case"%P":case"%p":/pm/i.test(a[s])&&u<12?u+=12:/am/i.test(a[s])&&u>=12&&(u-=12);break;case"%M":d=parseInt(a[s],10)}if(isNaN(r)&&(r=o.getFullYear()),isNaN(n)&&(n=o.getMonth()),isNaN(i)&&(i=o.getDate()),isNaN(u)&&(u=o.getHours()),isNaN(d)&&(d=o.getMinutes()),0!=r&&-1!=n&&0!=i)return new Date(r,n,i,u,d,0);for(r=0,n=-1,i=0,s=0;s<a.length;++s)if(-1!=a[s].search(/[a-zA-Z]+/)){var m=-1;for(c=0;c<12;++c)if(Calendar.MONTH_NAMES[c].substr(0,a[s].length).toLowerCase()==a[s].toLowerCase()){m=c;break}-1!=m&&(-1!=n&&(i=n+1),n=m)}else parseInt(a[s],10)<=12&&-1==n?n=a[s]-1:parseInt(a[s],10)>31&&0==r?(r=parseInt(a[s],10))<100&&(r+=r>29?1900:2e3):0==i&&(i=a[s]);return 0==r&&(r=o.getFullYear()),-1!=n&&0!=i?new Date(r,n,i,u,d,0):o},Date.prototype.getMonthDays=function(e){var t=this.getFullYear();return void 0===e&&(e=this.getMonth()),0!=t%4||0==t%100&&0!=t%400||1!=e?Date.DAYS_IN_MONTH[e]:29},Date.prototype.getDayOfYear=function(){var e=new Date(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0)-new Date(this.getFullYear(),0,0,0,0,0);return Math.floor(e/Date.DAY)},Date.prototype.getWeekNumber=function(){var e=new Date(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0),t=e.getDay();e.setDate(e.getDate()-(t+6)%7+3);var o=e.valueOf();return e.setMonth(0),e.setDate(4),Math.round((o-e.valueOf())/6048e5)+1},Date.prototype.equalsTo=function(e){return this.getFullYear()==e.getFullYear()&&this.getMonth()==e.getMonth()&&this.getDate()==e.getDate()&&this.getHours()==e.getHours()&&this.getMinutes()==e.getMinutes()},Date.prototype.setDateOnly=function(e){var t=new Date(e);this.setDate(1),this.setFullYear(t.getFullYear()),this.setMonth(t.getMonth()),this.setDate(t.getDate())},Date.prototype.print=function(e){var t=this.getMonth(),o=this.getDate(),r=this.getFullYear(),n=this.getWeekNumber(),i=this.getDay(),a={},l=this.getHours(),s=l>=12,c=s?l-12:l,u=this.getDayOfYear();0==c&&(c=12);var d=this.getMinutes(),m=this.getSeconds();return a["%a"]=Calendar.SHORT_DAY_NAMES[i],a["%A"]=Calendar.DAY_NAMES[i],a["%b"]=Calendar.SHORT_MONTH_NAMES[t],a["%B"]=Calendar.MONTH_NAMES[t],a["%C"]=1+Math.floor(r/100),a["%d"]=o<10?"0"+o:o,a["%e"]=o,a["%H"]=l<10?"0"+l:l,a["%I"]=c<10?"0"+c:c,a["%j"]=u<100?u<10?"00"+u:"0"+u:u,a["%k"]=l,a["%l"]=c,a["%m"]=t<9?"0"+(1+t):1+t,a["%M"]=d<10?"0"+d:d,a["%n"]="\n",a["%p"]=s?"PM":"AM",a["%P"]=s?"pm":"am",a["%s"]=Math.floor(this.getTime()/1e3),a["%S"]=m<10?"0"+m:m,a["%t"]="\t",a["%U"]=a["%W"]=a["%V"]=n<10?"0"+n:n,a["%u"]=i+1,a["%w"]=i,a["%y"]=(""+r).substr(2,2),a["%Y"]=r,a["%%"]="%",e.gsub(/%./,(function(e){return a[e]||e}))},Date.prototype.__msh_oldSetFullYear=Date.prototype.setFullYear,Date.prototype.setFullYear=function(e){var t=new Date(this);t.__msh_oldSetFullYear(e),t.getMonth()!=this.getMonth()&&this.setDate(28),this.__msh_oldSetFullYear(e)};